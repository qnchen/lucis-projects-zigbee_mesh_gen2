///////////////////////////////////////////////////////////////////////////////
//
// IAR C/C++ Compiler V9.30.1.3056 for 8051               21/Apr/2017  17:49:09
// Copyright 2004-2015 IAR Systems AB.
//
//    Core               =  plain
//    Code model         =  banked
//    Data model         =  large
//    Calling convention =  xdata reentrant
//    Constant location  =  data_rom
//    Dptr setup         =  1,16
//                          
//    Source file        =  
//        C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack Mesh
//        1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
//        1.0.0\Projects\zstack\Samples\GenericApp\Source\GenericApp.c
//    Command line       =  
//        -f "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
//        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
//        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\Tools\CC2530DB\f8wCoord.cfg"
//        (-DCPU32MHZ -DROOT=__near_func -DMAC_CFG_APP_PENDING_QUEUE=TRUE
//        -DMAC_CFG_TX_DATA_MAX=5 -DMAC_CFG_TX_MAX=8 -DMAC_CFG_RX_MAX=5
//        -DZDO_COORDINATOR -DRTR_NWK) -f "C:\Texas Instruments\Z-Stack Mesh
//        1.0.0_chaokw_20160317\Z-Stack Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh
//        1.0.0_LCDOK\Z-Stack Mesh
//        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\Tools\CC2530DB\f8wConfig.cfg"
//        (-DZIGBEEPRO -DSECURE=1 -DZG_SECURE_DYNAMIC=0 -DREFLECTOR
//        -DDEFAULT_CHANLIST=0x04000000 -DZDAPP_CONFIG_PAN_ID=0x0085
//        -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MASK=0x007F
//        -DBEACON_REQUEST_DELAY=100 -DBEACON_REQ_DELAY_MASK=0x00FF
//        -DLINK_STATUS_JITTER_MASK=0x007F -DROUTE_EXPIRY_TIME=30
//        -DAPSC_ACK_WAIT_DURATION_POLLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7
//        -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=5
//        -DNWK_MAX_DATA_RETRIES=2 -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9
//        -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40 -DNWK_MAX_BINDING_ENTRIES=4
//        -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01, 0x03, 0x05, 0x07,
//        0x09, 0x0B, 0x0D, 0x0F, 0x00, 0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C,
//        0x0D}" -DMAC_MAX_FRAME_SIZE=116 -DZDNWKMGR_MIN_TRANSMISSIONS=20
//        "-DCONST=const __code" -DGENERIC=__generic -DRFD_RCVC_ALWAYS_ON=FALSE
//        -DPOLL_RATE=1000 -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100
//        -DREJOIN_POLL_RATE=440) -DCHANNEL_CNT=0x01 "C:\Texas
//        Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack Mesh
//        1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
//        1.0.0\Projects\zstack\Samples\GenericApp\Source\GenericApp.c" -D
//        ZTOOL_P1 -D MT_TASK -D MT_SYS_FUNC -D MT_ZDO_FUNC -D
//        LCD_SUPPORTED=DEBUG -D NV_RESTORE -D NV_INIT -D NODE_AUTH -D
//        xWIFI_FREQUENCY_SELECT -D OPEN_FCS -lC "C:\Texas Instruments\Z-Stack
//        Mesh 1.0.0_chaokw_20160317\Z-Stack Mesh 1.0.0_chaokw_20160316\Z-Stack
//        Mesh 1.0.0_LCDOK\Z-Stack Mesh
//        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\CoordinatorEB\List"
//        -lA "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
//        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
//        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\CoordinatorEB\List"
//        --diag_suppress Pe001,Pa010 -o "C:\Texas Instruments\Z-Stack Mesh
//        1.0.0_chaokw_20160317\Z-Stack Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh
//        1.0.0_LCDOK\Z-Stack Mesh
//        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\CoordinatorEB\Obj"
//        -e --no_cse --no_unroll --no_inline --no_code_motion --no_tbaa
//        --debug --core=plain --dptr=16,1 --data_model=large
//        --code_model=banked --calling_convention=xdata_reentrant
//        --place_constants=data_rom --nr_virtual_regs 16 -I "C:\Texas
//        Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack Mesh
//        1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
//        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\" -I "C:\Texas
//        Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack Mesh
//        1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
//        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\Source\" -I
//        "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack Mesh
//        1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
//        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\Application\"
//        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
//        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
//        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\ZMain\TI2530DB\"
//        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
//        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
//        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\hal\include\"
//        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
//        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
//        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\hal\target\CC2530EB\"
//        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
//        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
//        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\mac\include\"
//        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
//        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
//        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\mac\high_level\"
//        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
//        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
//        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\mac\low_level\srf04\"
//        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
//        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
//        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\mac\low_level\srf04\single_chip\"
//        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
//        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
//        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\mt\"
//        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
//        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
//        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\osal\include\"
//        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
//        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
//        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\services\saddr\"
//        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
//        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
//        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\services\sdata\"
//        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
//        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
//        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\stack\af\"
//        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
//        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
//        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\stack\nwk\"
//        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
//        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
//        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\stack\sapi\"
//        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
//        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
//        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\stack\sec\"
//        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
//        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
//        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\stack\sys\"
//        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
//        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
//        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\stack\zdo\"
//        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
//        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
//        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\zmac\"
//        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
//        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
//        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\zmac\f8w\"
//        -On --require_prototypes
//    List file          =  
//        C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack Mesh
//        1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
//        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\CoordinatorEB\List\GenericApp.s51
//
///////////////////////////////////////////////////////////////////////////////

        NAME GenericApp

        RTMODEL "__SystemLibrary", "CLib"
        RTMODEL "__calling_convention", "xdata_reentrant"
        RTMODEL "__code_model", "banked"
        RTMODEL "__core", "plain"
        RTMODEL "__data_model", "large"
        RTMODEL "__dptr_size", "16"
        RTMODEL "__extended_stack", "disabled"
        RTMODEL "__location_for_constants", "data"
        RTMODEL "__number_of_dptrs", "1"
        RTMODEL "__rt_version", "1"

        RSEG DOVERLAY:DATA:NOROOT(0)
        RSEG IOVERLAY:IDATA:NOROOT(0)
        RSEG ISTACK:IDATA:NOROOT(0)
        RSEG PSTACK:XDATA:NOROOT(0)
        RSEG XSTACK:XDATA:NOROOT(0)

        EXTERN ?V0
        EXTERN ?V1
        EXTERN ?V2
        EXTERN ?V3
        EXTERN ?V4
        EXTERN ?V5
        EXTERN ?V6
        EXTERN ?V7
        EXTERN ?V8
        EXTERN ?V9
        EXTERN ?ALLOC_XSTACK8
        EXTERN ?BANKED_ENTER_XDATA
        EXTERN ?BANKED_LEAVE_XDATA
        EXTERN ?BDISPATCH
        EXTERN ?BRET
        EXTERN ?DEALLOC_XSTACK8
        EXTERN ?L_EQ_X
        EXTERN ?L_MOV_TO_X
        EXTERN ?L_MOV_X
        EXTERN ?MOVE_LONG8_XDATA_XDATA
        EXTERN ?PUSH_XSTACK8_X
        EXTERN ?PUSH_XSTACK8_X_FOUR
        EXTERN ?PUSH_XSTACK_I_ONE
        EXTERN ?PUSH_XSTACK_I_THREE
        EXTERN ?PUSH_XSTACK_I_TWO
        EXTERN ?UL_GT_X
        EXTERN ?UL_SHR
        EXTERN ?US_SWITCH_DENSE
        EXTERN ?US_SWITCH_SPARSE
        EXTERN ?XLOAD_R0123
        EXTERN ?XSP
        EXTERN ?XSTACK_DISP0_8
        EXTERN ?XSTACK_DISP100_8
        EXTERN ?XSTACK_DISP101_8
        EXTERN ?XSTACK_DISP102_8
        EXTERN ?XSTORE_R0123
        EXTERN __INIT_XDATA_I
        EXTERN __INIT_XDATA_Z

        PUBLIC `??CustomApp_NodeDelete::?relay`
        FUNCTION `??CustomApp_NodeDelete::?relay`,0203H
        PUBLIC `??CustomApp_NodeFindMacAddrList::?relay`
        FUNCTION `??CustomApp_NodeFindMacAddrList::?relay`,0203H
        PUBLIC `??CustomApp_NodeFindNwkAddrList::?relay`
        FUNCTION `??CustomApp_NodeFindNwkAddrList::?relay`,0203H
        PUBLIC `??CustomApp_NodeRegister::?relay`
        FUNCTION `??CustomApp_NodeRegister::?relay`,0203H
        PUBLIC `??CustomApp_coordinater_broadcast_ping::?relay`
        FUNCTION `??CustomApp_coordinater_broadcast_ping::?relay`,0203H
        PUBLIC `??CustomApp_coordinater_broadcast_ping_init::?r`
        FUNCTION `??CustomApp_coordinater_broadcast_ping_init::?r`,0203H
        PUBLIC `??CustomApp_get_connected_node_count::?relay`
        FUNCTION `??CustomApp_get_connected_node_count::?relay`,0203H
        PUBLIC `??CustomApp_linkstatus_init::?relay`
        FUNCTION `??CustomApp_linkstatus_init::?relay`,0203H
        PUBLIC `??CustomApp_linkstatus_updated::?relay`
        FUNCTION `??CustomApp_linkstatus_updated::?relay`,0203H
        PUBLIC `??CustomApp_loadstatus_ind::?relay`
        FUNCTION `??CustomApp_loadstatus_ind::?relay`,0203H
        PUBLIC `??CustomApp_node_deregister_ind::?relay`
        FUNCTION `??CustomApp_node_deregister_ind::?relay`,0203H
        PUBLIC `??CustomApp_node_register_ind::?relay`
        FUNCTION `??CustomApp_node_register_ind::?relay`,0203H
        PUBLIC `??CustomApp_ping_request_init::?relay`
        FUNCTION `??CustomApp_ping_request_init::?relay`,0203H
        PUBLIC `??CustomApp_ping_timeout_check_init::?relay`
        FUNCTION `??CustomApp_ping_timeout_check_init::?relay`,0203H
        PUBLIC `??CustomApp_process_ping::?relay`
        FUNCTION `??CustomApp_process_ping::?relay`,0203H
        PUBLIC `??CustomApp_send_ping_req::?relay`
        FUNCTION `??CustomApp_send_ping_req::?relay`,0203H
        PUBLIC `??CustomApp_send_ping_rsp::?relay`
        FUNCTION `??CustomApp_send_ping_rsp::?relay`,0203H
        PUBLIC `??CustomApp_zigbee_start_ind::?relay`
        FUNCTION `??CustomApp_zigbee_start_ind::?relay`,0203H
        PUBLIC `??GenericApp_Device_JoinReq::?relay`
        FUNCTION `??GenericApp_Device_JoinReq::?relay`,0203H
        PUBLIC `??GenericApp_Device_JoinRsp::?relay`
        FUNCTION `??GenericApp_Device_JoinRsp::?relay`,0203H
        PUBLIC `??GenericApp_Free_Join_DeviceInfo::?relay`
        FUNCTION `??GenericApp_Free_Join_DeviceInfo::?relay`,0203H
        PUBLIC `??GenericApp_Get_PermitJoin::?relay`
        FUNCTION `??GenericApp_Get_PermitJoin::?relay`,0203H
        FUNCTION `??GenericApp_HandleKeys::?relay`,0203H
        PUBLIC `??GenericApp_Init::?relay`
        FUNCTION `??GenericApp_Init::?relay`,0203H
        FUNCTION `??GenericApp_MessageMSGCB::?relay`,0203H
        PUBLIC `??GenericApp_ProcessEvent::?relay`
        FUNCTION `??GenericApp_ProcessEvent::?relay`,0203H
        FUNCTION `??GenericApp_ProcessZDOMsgs::?relay`,0203H
        FUNCTION `??GenericApp_SendTheMessage::?relay`,0203H
        PUBLIC CustomApp_NodeDelete
        FUNCTION CustomApp_NodeDelete,0a1203H
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 12, STACK
        PUBLIC CustomApp_NodeFindMacAddrList
        FUNCTION CustomApp_NodeFindMacAddrList,0a1203H
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 10, STACK
        PUBLIC CustomApp_NodeFindNwkAddrList
        FUNCTION CustomApp_NodeFindNwkAddrList,0203H
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 2, STACK
        PUBLIC CustomApp_NodeRegister
        FUNCTION CustomApp_NodeRegister,0a1203H
        ARGFRAME XSTACK, 64, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 12, STACK
        PUBLIC CustomApp_coordinater_broadcast_ping
        FUNCTION CustomApp_coordinater_broadcast_ping,0a1203H
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 21, STACK
        PUBLIC CustomApp_coordinater_broadcast_ping_init
        FUNCTION CustomApp_coordinater_broadcast_ping_init,021203H
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 4, STACK
        PUBLIC CustomApp_get_connected_node_count
        FUNCTION CustomApp_get_connected_node_count,0203H
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 2, STACK
        PUBLIC CustomApp_linkstatus_init
        FUNCTION CustomApp_linkstatus_init,021203H
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 4, STACK
        PUBLIC CustomApp_linkstatus_updated
        FUNCTION CustomApp_linkstatus_updated,0a1203H
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 40, STACK
        PUBLIC CustomApp_loadstatus_ind
        FUNCTION CustomApp_loadstatus_ind,0a1203H
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 33, STACK
        PUBLIC CustomApp_node_deregister_ind
        FUNCTION CustomApp_node_deregister_ind,0a1203H
        ARGFRAME XSTACK, 40, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 27, STACK
        PUBLIC CustomApp_node_register_ind
        FUNCTION CustomApp_node_register_ind,0a1203H
        ARGFRAME XSTACK, 64, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 44, STACK
        PUBLIC CustomApp_ping_request_init
        FUNCTION CustomApp_ping_request_init,021203H
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 4, STACK
        PUBLIC CustomApp_ping_timeout_check_init
        FUNCTION CustomApp_ping_timeout_check_init,021203H
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 4, STACK
        PUBLIC CustomApp_process_ping
        FUNCTION CustomApp_process_ping,0a1203H
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 38, STACK
        PUBLIC CustomApp_send_ping_req
        FUNCTION CustomApp_send_ping_req,0a1203H
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 25, STACK
        PUBLIC CustomApp_send_ping_rsp
        FUNCTION CustomApp_send_ping_rsp,0a1203H
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 21, STACK
        PUBLIC CustomApp_zigbee_start_ind
        FUNCTION CustomApp_zigbee_start_ind,0a1203H
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 31, STACK
        PUBLIC GenericApp_ClusterList
        PUBLIC GenericApp_Device_JoinReq
        FUNCTION GenericApp_Device_JoinReq,0a1203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 224, STACK
        PUBLIC GenericApp_Device_JoinRsp
        FUNCTION GenericApp_Device_JoinRsp,0a1203H
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 135, STACK
        PUBLIC GenericApp_DstAddr
        PUBLIC GenericApp_Free_Join_DeviceInfo
        FUNCTION GenericApp_Free_Join_DeviceInfo,0a1203H
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 12, STACK
        PUBLIC GenericApp_Get_PermitJoin
        FUNCTION GenericApp_Get_PermitJoin,0a1203H
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 29, STACK
        FUNCTION GenericApp_HandleKeys,0a1203H
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 30, STACK
        PUBLIC GenericApp_Init
        FUNCTION GenericApp_Init,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        FUNCTION GenericApp_MessageMSGCB,0a1203H
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 17, STACK
        PUBLIC GenericApp_NwkState
        PUBLIC GenericApp_ProcessEvent
        FUNCTION GenericApp_ProcessEvent,0a1203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME XSTACK, 22, STACK
        FUNCTION GenericApp_ProcessZDOMsgs,0a1203H
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 64, STACK
        FUNCTION GenericApp_SendTheMessage,0a1203H
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 31, STACK
        PUBLIC GenericApp_SimpleDesc
        PUBLIC GenericApp_TaskID
        PUBLIC GenericApp_TransID
        PUBLIC GenericApp_epDesc
        PUBLIC SerialApp_TxAddr_broadcast
        PUBLIC SerialApp_TxAddr_group
        PUBLIC SerialApp_TxAddr_p2p
        PUBWEAK __Constant_1388
        PUBWEAK __Constant_2710
        PUBWEAK __Constant_3a98
        PUBWEAK __Constant_65
        PUBLIC cnt
        PUBLIC fw_version
        PUBLIC nodeList
        PUBLIC ping_error_cnt
        PUBLIC ping_result
        PUBLIC transfer_join_times
        PUBLIC zc_online_report_cnt
        PUBLIC zr_online_report_cnt
        
          CFI Names cfiNames0
          CFI StackFrame CFA_SP SP IDATA
          CFI StackFrame CFA_PSP16 PSP16 XDATA
          CFI StackFrame CFA_XSP16 XSP16 XDATA
          CFI StaticOverlayFrame CFA_IOVERLAY IOVERLAY
          CFI StaticOverlayFrame CFA_DOVERLAY DOVERLAY
          CFI Resource `PSW.CY`:1, `B.BR0`:1, `B.BR1`:1, `B.BR2`:1, `B.BR3`:1
          CFI Resource `B.BR4`:1, `B.BR5`:1, `B.BR6`:1, `B.BR7`:1, `VB.BR8`:1
          CFI Resource `VB.BR9`:1, `VB.BR10`:1, `VB.BR11`:1, `VB.BR12`:1
          CFI Resource `VB.BR13`:1, `VB.BR14`:1, `VB.BR15`:1, VB:8, B:8, A:8
          CFI Resource PSW:8, DPL0:8, DPH0:8, R0:8, R1:8, R2:8, R3:8, R4:8, R5:8
          CFI Resource R6:8, R7:8, V0:8, V1:8, V2:8, V3:8, V4:8, V5:8, V6:8, V7:8
          CFI Resource V8:8, V9:8, V10:8, V11:8, V12:8, V13:8, V14:8, V15:8, SP:8
          CFI Resource PSPH:8, PSPL:8, PSP16:16, XSPH:8, XSPL:8, XSP16:16
          CFI VirtualResource ?RET:24
          CFI Resource ?BRET_EXT:8
          CFI VirtualResource ?RET_HIGH:8, ?RET_LOW:8
          CFI ResourceParts PSP16 PSPH, PSPL
          CFI ResourceParts XSP16 XSPH, XSPL
          CFI ResourceParts ?RET ?BRET_EXT, ?RET_HIGH, ?RET_LOW
          CFI EndNames cfiNames0
        
          CFI Common cfiCommon0 Using cfiNames0
          CFI CodeAlign 1
          CFI DataAlign -1
          CFI ReturnAddress ?RET CODE
          CFI CFA_DOVERLAY Used
          CFI CFA_IOVERLAY Used
          CFI CFA_SP SP+-3
          CFI CFA_PSP16 PSP16+0
          CFI CFA_XSP16 XSP16+0
          CFI `PSW.CY` SameValue
          CFI `B.BR0` SameValue
          CFI `B.BR1` SameValue
          CFI `B.BR2` SameValue
          CFI `B.BR3` SameValue
          CFI `B.BR4` SameValue
          CFI `B.BR5` SameValue
          CFI `B.BR6` SameValue
          CFI `B.BR7` SameValue
          CFI `VB.BR8` SameValue
          CFI `VB.BR9` SameValue
          CFI `VB.BR10` SameValue
          CFI `VB.BR11` SameValue
          CFI `VB.BR12` SameValue
          CFI `VB.BR13` SameValue
          CFI `VB.BR14` SameValue
          CFI `VB.BR15` SameValue
          CFI VB SameValue
          CFI B Undefined
          CFI A Undefined
          CFI PSW SameValue
          CFI DPL0 SameValue
          CFI DPH0 SameValue
          CFI R0 Undefined
          CFI R1 Undefined
          CFI R2 Undefined
          CFI R3 Undefined
          CFI R4 Undefined
          CFI R5 Undefined
          CFI R6 SameValue
          CFI R7 SameValue
          CFI V0 SameValue
          CFI V1 SameValue
          CFI V2 SameValue
          CFI V3 SameValue
          CFI V4 SameValue
          CFI V5 SameValue
          CFI V6 SameValue
          CFI V7 SameValue
          CFI V8 SameValue
          CFI V9 SameValue
          CFI V10 SameValue
          CFI V11 SameValue
          CFI V12 SameValue
          CFI V13 SameValue
          CFI V14 SameValue
          CFI V15 SameValue
          CFI PSPH Undefined
          CFI PSPL Undefined
          CFI XSPH Undefined
          CFI XSPL Undefined
          CFI ?RET Concat
          CFI ?BRET_EXT Frame(CFA_SP, 3)
          CFI ?RET_HIGH Frame(CFA_SP, 2)
          CFI ?RET_LOW Frame(CFA_SP, 1)
          CFI EndCommon cfiCommon0
        
AF_DataRequest      SYMBOL "AF_DataRequest"
`??AF_DataRequest::?relay` SYMBOL "?relay", AF_DataRequest
Authlist_item_cnt   SYMBOL "Authlist_item_cnt"
`??Authlist_item_cnt::?relay` SYMBOL "?relay", Authlist_item_cnt
Authlist_verify_device SYMBOL "Authlist_verify_device"
`??Authlist_verify_device::?relay` SYMBOL "?relay", Authlist_verify_device
CustomApp_AF_Broadcast_Data_Process SYMBOL "CustomApp_AF_Broadcast_Data_Process"
`??CustomApp_AF_Broadcast_Data_Process::?relay` SYMBOL "?relay", CustomApp_AF_Broadcast_Data_Process
CustomApp_AF_Group_Data_Process SYMBOL "CustomApp_AF_Group_Data_Process"
`??CustomApp_AF_Group_Data_Process::?relay` SYMBOL "?relay", CustomApp_AF_Group_Data_Process
CustomApp_AF_P2P_Data_Process SYMBOL "CustomApp_AF_P2P_Data_Process"
`??CustomApp_AF_P2P_Data_Process::?relay` SYMBOL "?relay", CustomApp_AF_P2P_Data_Process
CustomApp_Coordinator_Online SYMBOL "CustomApp_Coordinator_Online"
`??CustomApp_Coordinator_Online::?relay` SYMBOL "?relay", CustomApp_Coordinator_Online
CustomApp_FW_Update SYMBOL "CustomApp_FW_Update"
`??CustomApp_FW_Update::?relay` SYMBOL "?relay", CustomApp_FW_Update
CustomApp_Get_Active_Cnt SYMBOL "CustomApp_Get_Active_Cnt"
`??CustomApp_Get_Active_Cnt::?relay` SYMBOL "?relay", CustomApp_Get_Active_Cnt
CustomApp_Get_ExtAddr SYMBOL "CustomApp_Get_ExtAddr"
`??CustomApp_Get_ExtAddr::?relay` SYMBOL "?relay", CustomApp_Get_ExtAddr
CustomApp_Get_NWKInfo SYMBOL "CustomApp_Get_NWKInfo"
`??CustomApp_Get_NWKInfo::?relay` SYMBOL "?relay", CustomApp_Get_NWKInfo
CustomApp_Get_Version SYMBOL "CustomApp_Get_Version"
`??CustomApp_Get_Version::?relay` SYMBOL "?relay", CustomApp_Get_Version
CustomApp_Send_BroadCast_Data SYMBOL "CustomApp_Send_BroadCast_Data"
`??CustomApp_Send_BroadCast_Data::?relay` SYMBOL "?relay", CustomApp_Send_BroadCast_Data
CustomApp_Send_Group_Data SYMBOL "CustomApp_Send_Group_Data"
`??CustomApp_Send_Group_Data::?relay` SYMBOL "?relay", CustomApp_Send_Group_Data
CustomApp_Send_P2P_Data SYMBOL "CustomApp_Send_P2P_Data"
`??CustomApp_Send_P2P_Data::?relay` SYMBOL "?relay", CustomApp_Send_P2P_Data
CustomApp_Set_Multiway SYMBOL "CustomApp_Set_Multiway"
`??CustomApp_Set_Multiway::?relay` SYMBOL "?relay", CustomApp_Set_Multiway
CustomApp_coordinator_online_req SYMBOL "CustomApp_coordinator_online_req"
`??CustomApp_coordinator_online_req::?relay` SYMBOL "?relay", CustomApp_coordinator_online_req
CustomApp_router_online_req SYMBOL "CustomApp_router_online_req"
`??CustomApp_router_online_req::?relay` SYMBOL "?relay", CustomApp_router_online_req
HalLcdWriteString   SYMBOL "HalLcdWriteString"
`??HalLcdWriteString::?relay` SYMBOL "?relay", HalLcdWriteString
HalLcdWriteStringValue SYMBOL "HalLcdWriteStringValue"
`??HalLcdWriteStringValue::?relay` SYMBOL "?relay", HalLcdWriteStringValue
HalLedSet           SYMBOL "HalLedSet"
`??HalLedSet::?relay` SYMBOL "?relay", HalLedSet
HalUARTWrite        SYMBOL "HalUARTWrite"
`??HalUARTWrite::?relay` SYMBOL "?relay", HalUARTWrite
MT_UartCalcFCS      SYMBOL "MT_UartCalcFCS"
`??MT_UartCalcFCS::?relay` SYMBOL "?relay", MT_UartCalcFCS
NLME_GetExtAddr     SYMBOL "NLME_GetExtAddr"
`??NLME_GetExtAddr::?relay` SYMBOL "?relay", NLME_GetExtAddr
NLME_GetShortAddr   SYMBOL "NLME_GetShortAddr"
`??NLME_GetShortAddr::?relay` SYMBOL "?relay", NLME_GetShortAddr
NLME_InitNV         SYMBOL "NLME_InitNV"
`??NLME_InitNV::?relay` SYMBOL "?relay", NLME_InitNV
NLME_SetDefaultNV   SYMBOL "NLME_SetDefaultNV"
`??NLME_SetDefaultNV::?relay` SYMBOL "?relay", NLME_SetDefaultNV
Node_auth_init      SYMBOL "Node_auth_init"
`??Node_auth_init::?relay` SYMBOL "?relay", Node_auth_init
RegisterForKeys     SYMBOL "RegisterForKeys"
`??RegisterForKeys::?relay` SYMBOL "?relay", RegisterForKeys
ZDO_ParseDeviceAnnce SYMBOL "ZDO_ParseDeviceAnnce"
`??ZDO_ParseDeviceAnnce::?relay` SYMBOL "?relay", ZDO_ParseDeviceAnnce
ZDO_ParseEPListRsp  SYMBOL "ZDO_ParseEPListRsp"
`??ZDO_ParseEPListRsp::?relay` SYMBOL "?relay", ZDO_ParseEPListRsp
ZDO_RegisterForZDOMsg SYMBOL "ZDO_RegisterForZDOMsg"
`??ZDO_RegisterForZDOMsg::?relay` SYMBOL "?relay", ZDO_RegisterForZDOMsg
ZDP_EndDeviceBindReq SYMBOL "ZDP_EndDeviceBindReq"
`??ZDP_EndDeviceBindReq::?relay` SYMBOL "?relay", ZDP_EndDeviceBindReq
ZDP_MatchDescReq    SYMBOL "ZDP_MatchDescReq"
`??ZDP_MatchDescReq::?relay` SYMBOL "?relay", ZDP_MatchDescReq
ZDSecMgrClearNVKeyValues SYMBOL "ZDSecMgrClearNVKeyValues"
`??ZDSecMgrClearNVKeyValues::?relay` SYMBOL "?relay", ZDSecMgrClearNVKeyValues
afRegister          SYMBOL "afRegister"
`??afRegister::?relay` SYMBOL "?relay", afRegister
osal_getClock       SYMBOL "osal_getClock"
`??osal_getClock::?relay` SYMBOL "?relay", osal_getClock
osal_mem_alloc      SYMBOL "osal_mem_alloc"
`??osal_mem_alloc::?relay` SYMBOL "?relay", osal_mem_alloc
osal_mem_free       SYMBOL "osal_mem_free"
`??osal_mem_free::?relay` SYMBOL "?relay", osal_mem_free
osal_memcmp         SYMBOL "osal_memcmp"
`??osal_memcmp::?relay` SYMBOL "?relay", osal_memcmp
osal_memcpy         SYMBOL "osal_memcpy"
`??osal_memcpy::?relay` SYMBOL "?relay", osal_memcpy
osal_memset         SYMBOL "osal_memset"
`??osal_memset::?relay` SYMBOL "?relay", osal_memset
osal_msg_allocate   SYMBOL "osal_msg_allocate"
`??osal_msg_allocate::?relay` SYMBOL "?relay", osal_msg_allocate
osal_msg_deallocate SYMBOL "osal_msg_deallocate"
`??osal_msg_deallocate::?relay` SYMBOL "?relay", osal_msg_deallocate
osal_msg_receive    SYMBOL "osal_msg_receive"
`??osal_msg_receive::?relay` SYMBOL "?relay", osal_msg_receive
osal_start_timerEx  SYMBOL "osal_start_timerEx"
`??osal_start_timerEx::?relay` SYMBOL "?relay", osal_start_timerEx
osal_stop_timerEx   SYMBOL "osal_stop_timerEx"
`??osal_stop_timerEx::?relay` SYMBOL "?relay", osal_stop_timerEx
osal_strlen         SYMBOL "osal_strlen"
`??osal_strlen::?relay` SYMBOL "?relay", osal_strlen
sAddrExtCmp         SYMBOL "sAddrExtCmp"
`??sAddrExtCmp::?relay` SYMBOL "?relay", sAddrExtCmp
CustomApp_NodeDelete SYMBOL "CustomApp_NodeDelete"
`??CustomApp_NodeDelete::?relay` SYMBOL "?relay", CustomApp_NodeDelete
CustomApp_NodeFindMacAddrList SYMBOL "CustomApp_NodeFindMacAddrList"
`??CustomApp_NodeFindMacAddrList::?relay` SYMBOL "?relay", CustomApp_NodeFindMacAddrList
CustomApp_NodeFindNwkAddrList SYMBOL "CustomApp_NodeFindNwkAddrList"
`??CustomApp_NodeFindNwkAddrList::?relay` SYMBOL "?relay", CustomApp_NodeFindNwkAddrList
CustomApp_NodeRegister SYMBOL "CustomApp_NodeRegister"
`??CustomApp_NodeRegister::?relay` SYMBOL "?relay", CustomApp_NodeRegister
CustomApp_coordinater_broadcast_ping SYMBOL "CustomApp_coordinater_broadcast_ping"
`??CustomApp_coordinater_broadcast_ping::?relay` SYMBOL "?relay", CustomApp_coordinater_broadcast_ping
CustomApp_coordinater_broadcast_ping_init SYMBOL "CustomApp_coordinater_broadcast_ping_init"
`??CustomApp_coordinater_broadcast_ping_init::?r` SYMBOL "?relay", CustomApp_coordinater_broadcast_ping_init
CustomApp_get_connected_node_count SYMBOL "CustomApp_get_connected_node_count"
`??CustomApp_get_connected_node_count::?relay` SYMBOL "?relay", CustomApp_get_connected_node_count
CustomApp_linkstatus_init SYMBOL "CustomApp_linkstatus_init"
`??CustomApp_linkstatus_init::?relay` SYMBOL "?relay", CustomApp_linkstatus_init
CustomApp_linkstatus_updated SYMBOL "CustomApp_linkstatus_updated"
`??CustomApp_linkstatus_updated::?relay` SYMBOL "?relay", CustomApp_linkstatus_updated
CustomApp_loadstatus_ind SYMBOL "CustomApp_loadstatus_ind"
`??CustomApp_loadstatus_ind::?relay` SYMBOL "?relay", CustomApp_loadstatus_ind
CustomApp_node_deregister_ind SYMBOL "CustomApp_node_deregister_ind"
`??CustomApp_node_deregister_ind::?relay` SYMBOL "?relay", CustomApp_node_deregister_ind
CustomApp_node_register_ind SYMBOL "CustomApp_node_register_ind"
`??CustomApp_node_register_ind::?relay` SYMBOL "?relay", CustomApp_node_register_ind
CustomApp_ping_request_init SYMBOL "CustomApp_ping_request_init"
`??CustomApp_ping_request_init::?relay` SYMBOL "?relay", CustomApp_ping_request_init
CustomApp_ping_timeout_check_init SYMBOL "CustomApp_ping_timeout_check_init"
`??CustomApp_ping_timeout_check_init::?relay` SYMBOL "?relay", CustomApp_ping_timeout_check_init
CustomApp_process_ping SYMBOL "CustomApp_process_ping"
`??CustomApp_process_ping::?relay` SYMBOL "?relay", CustomApp_process_ping
CustomApp_send_ping_req SYMBOL "CustomApp_send_ping_req"
`??CustomApp_send_ping_req::?relay` SYMBOL "?relay", CustomApp_send_ping_req
CustomApp_send_ping_rsp SYMBOL "CustomApp_send_ping_rsp"
`??CustomApp_send_ping_rsp::?relay` SYMBOL "?relay", CustomApp_send_ping_rsp
CustomApp_zigbee_start_ind SYMBOL "CustomApp_zigbee_start_ind"
`??CustomApp_zigbee_start_ind::?relay` SYMBOL "?relay", CustomApp_zigbee_start_ind
GenericApp_Device_JoinReq SYMBOL "GenericApp_Device_JoinReq"
`??GenericApp_Device_JoinReq::?relay` SYMBOL "?relay", GenericApp_Device_JoinReq
GenericApp_Device_JoinRsp SYMBOL "GenericApp_Device_JoinRsp"
`??GenericApp_Device_JoinRsp::?relay` SYMBOL "?relay", GenericApp_Device_JoinRsp
GenericApp_Free_Join_DeviceInfo SYMBOL "GenericApp_Free_Join_DeviceInfo"
`??GenericApp_Free_Join_DeviceInfo::?relay` SYMBOL "?relay", GenericApp_Free_Join_DeviceInfo
GenericApp_Get_PermitJoin SYMBOL "GenericApp_Get_PermitJoin"
`??GenericApp_Get_PermitJoin::?relay` SYMBOL "?relay", GenericApp_Get_PermitJoin
GenericApp_Init     SYMBOL "GenericApp_Init"
`??GenericApp_Init::?relay` SYMBOL "?relay", GenericApp_Init
GenericApp_ProcessEvent SYMBOL "GenericApp_ProcessEvent"
`??GenericApp_ProcessEvent::?relay` SYMBOL "?relay", GenericApp_ProcessEvent

        EXTERN `??AF_DataRequest::?relay`
        FUNCTION `??AF_DataRequest::?relay`,00H
        EXTERN `??Authlist_item_cnt::?relay`
        FUNCTION `??Authlist_item_cnt::?relay`,00H
        EXTERN `??Authlist_verify_device::?relay`
        FUNCTION `??Authlist_verify_device::?relay`,00H
        EXTERN `??CustomApp_AF_Broadcast_Data_Process::?relay`
        FUNCTION `??CustomApp_AF_Broadcast_Data_Process::?relay`,00H
        EXTERN `??CustomApp_AF_Group_Data_Process::?relay`
        FUNCTION `??CustomApp_AF_Group_Data_Process::?relay`,00H
        EXTERN `??CustomApp_AF_P2P_Data_Process::?relay`
        FUNCTION `??CustomApp_AF_P2P_Data_Process::?relay`,00H
        EXTERN `??CustomApp_Coordinator_Online::?relay`
        FUNCTION `??CustomApp_Coordinator_Online::?relay`,00H
        EXTERN `??CustomApp_FW_Update::?relay`
        FUNCTION `??CustomApp_FW_Update::?relay`,00H
        EXTERN `??CustomApp_Get_Active_Cnt::?relay`
        FUNCTION `??CustomApp_Get_Active_Cnt::?relay`,00H
        EXTERN `??CustomApp_Get_ExtAddr::?relay`
        FUNCTION `??CustomApp_Get_ExtAddr::?relay`,00H
        EXTERN `??CustomApp_Get_NWKInfo::?relay`
        FUNCTION `??CustomApp_Get_NWKInfo::?relay`,00H
        EXTERN `??CustomApp_Get_Version::?relay`
        FUNCTION `??CustomApp_Get_Version::?relay`,00H
        EXTERN `??CustomApp_Send_BroadCast_Data::?relay`
        FUNCTION `??CustomApp_Send_BroadCast_Data::?relay`,00H
        EXTERN `??CustomApp_Send_Group_Data::?relay`
        FUNCTION `??CustomApp_Send_Group_Data::?relay`,00H
        EXTERN `??CustomApp_Send_P2P_Data::?relay`
        FUNCTION `??CustomApp_Send_P2P_Data::?relay`,00H
        EXTERN `??CustomApp_Set_Multiway::?relay`
        FUNCTION `??CustomApp_Set_Multiway::?relay`,00H
        EXTERN `??CustomApp_coordinator_online_req::?relay`
        FUNCTION `??CustomApp_coordinator_online_req::?relay`,00H
        EXTERN `??CustomApp_router_online_req::?relay`
        FUNCTION `??CustomApp_router_online_req::?relay`,00H
        EXTERN `??HalLcdWriteString::?relay`
        FUNCTION `??HalLcdWriteString::?relay`,00H
        EXTERN `??HalLcdWriteStringValue::?relay`
        FUNCTION `??HalLcdWriteStringValue::?relay`,00H
        EXTERN `??HalLedSet::?relay`
        FUNCTION `??HalLedSet::?relay`,00H
        EXTERN `??HalUARTWrite::?relay`
        FUNCTION `??HalUARTWrite::?relay`,00H
        EXTERN `??MT_UartCalcFCS::?relay`
        FUNCTION `??MT_UartCalcFCS::?relay`,00H
        EXTERN `??NLME_GetExtAddr::?relay`
        FUNCTION `??NLME_GetExtAddr::?relay`,00H
        EXTERN `??NLME_GetShortAddr::?relay`
        FUNCTION `??NLME_GetShortAddr::?relay`,00H
        EXTERN `??NLME_InitNV::?relay`
        FUNCTION `??NLME_InitNV::?relay`,00H
        EXTERN `??NLME_SetDefaultNV::?relay`
        FUNCTION `??NLME_SetDefaultNV::?relay`,00H
        EXTERN `??Node_auth_init::?relay`
        FUNCTION `??Node_auth_init::?relay`,00H
        EXTERN `??RegisterForKeys::?relay`
        FUNCTION `??RegisterForKeys::?relay`,00H
        EXTERN `??ZDO_ParseDeviceAnnce::?relay`
        FUNCTION `??ZDO_ParseDeviceAnnce::?relay`,00H
        EXTERN `??ZDO_ParseEPListRsp::?relay`
        FUNCTION `??ZDO_ParseEPListRsp::?relay`,00H
        EXTERN `??ZDO_RegisterForZDOMsg::?relay`
        FUNCTION `??ZDO_RegisterForZDOMsg::?relay`,00H
        EXTERN `??ZDP_EndDeviceBindReq::?relay`
        FUNCTION `??ZDP_EndDeviceBindReq::?relay`,00H
        EXTERN `??ZDP_MatchDescReq::?relay`
        FUNCTION `??ZDP_MatchDescReq::?relay`,00H
        EXTERN `??ZDSecMgrClearNVKeyValues::?relay`
        FUNCTION `??ZDSecMgrClearNVKeyValues::?relay`,00H
        EXTERN `??afRegister::?relay`
        FUNCTION `??afRegister::?relay`,00H
        EXTERN `??osal_getClock::?relay`
        FUNCTION `??osal_getClock::?relay`,00H
        EXTERN `??osal_mem_alloc::?relay`
        FUNCTION `??osal_mem_alloc::?relay`,00H
        EXTERN `??osal_mem_free::?relay`
        FUNCTION `??osal_mem_free::?relay`,00H
        EXTERN `??osal_memcmp::?relay`
        FUNCTION `??osal_memcmp::?relay`,00H
        EXTERN `??osal_memcpy::?relay`
        FUNCTION `??osal_memcpy::?relay`,00H
        EXTERN `??osal_memset::?relay`
        FUNCTION `??osal_memset::?relay`,00H
        EXTERN `??osal_msg_allocate::?relay`
        FUNCTION `??osal_msg_allocate::?relay`,00H
        EXTERN `??osal_msg_deallocate::?relay`
        FUNCTION `??osal_msg_deallocate::?relay`,00H
        EXTERN `??osal_msg_receive::?relay`
        FUNCTION `??osal_msg_receive::?relay`,00H
        EXTERN `??osal_start_timerEx::?relay`
        FUNCTION `??osal_start_timerEx::?relay`,00H
        EXTERN `??osal_stop_timerEx::?relay`
        FUNCTION `??osal_stop_timerEx::?relay`,00H
        EXTERN `??osal_strlen::?relay`
        FUNCTION `??osal_strlen::?relay`,00H
        EXTERN `??sAddrExtCmp::?relay`
        FUNCTION `??sAddrExtCmp::?relay`,00H
        EXTERN AF_DataRequest
        FUNCTION AF_DataRequest,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 224, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN Authlist_item_cnt
        FUNCTION Authlist_item_cnt,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN Authlist_verify_device
        FUNCTION Authlist_verify_device,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 127, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN CustomApp_AF_Broadcast_Data_Process
        FUNCTION CustomApp_AF_Broadcast_Data_Process,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN CustomApp_AF_Group_Data_Process
        FUNCTION CustomApp_AF_Group_Data_Process,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN CustomApp_AF_P2P_Data_Process
        FUNCTION CustomApp_AF_P2P_Data_Process,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN CustomApp_Coordinator_Online
        FUNCTION CustomApp_Coordinator_Online,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN CustomApp_FW_Update
        FUNCTION CustomApp_FW_Update,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN CustomApp_Get_Active_Cnt
        FUNCTION CustomApp_Get_Active_Cnt,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN CustomApp_Get_ExtAddr
        FUNCTION CustomApp_Get_ExtAddr,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN CustomApp_Get_NWKInfo
        FUNCTION CustomApp_Get_NWKInfo,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN CustomApp_Get_Version
        FUNCTION CustomApp_Get_Version,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN CustomApp_Send_BroadCast_Data
        FUNCTION CustomApp_Send_BroadCast_Data,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN CustomApp_Send_Group_Data
        FUNCTION CustomApp_Send_Group_Data,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN CustomApp_Send_P2P_Data
        FUNCTION CustomApp_Send_P2P_Data,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN CustomApp_Set_Multiway
        FUNCTION CustomApp_Set_Multiway,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN CustomApp_coordinator_online_req
        FUNCTION CustomApp_coordinator_online_req,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN CustomApp_router_online_req
        FUNCTION CustomApp_router_online_req,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 26, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN HalLcdWriteString
        FUNCTION HalLcdWriteString,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN HalLcdWriteStringValue
        FUNCTION HalLcdWriteStringValue,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 41, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN HalLedSet
        FUNCTION HalLedSet,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 40, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN HalUARTWrite
        FUNCTION HalUARTWrite,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 41, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN MT_UartCalcFCS
        FUNCTION MT_UartCalcFCS,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 215, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN NLME_GetExtAddr
        FUNCTION NLME_GetExtAddr,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN NLME_GetShortAddr
        FUNCTION NLME_GetShortAddr,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 215, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN NLME_InitNV
        FUNCTION NLME_InitNV,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN NLME_SetDefaultNV
        FUNCTION NLME_SetDefaultNV,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN Node_auth_init
        FUNCTION Node_auth_init,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN Onboard_soft_reset
        FUNCTION Onboard_soft_reset,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN RegisterForKeys
        FUNCTION RegisterForKeys,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZDO_ParseDeviceAnnce
        FUNCTION ZDO_ParseDeviceAnnce,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 40, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZDO_ParseEPListRsp
        FUNCTION ZDO_ParseEPListRsp,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 40, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZDO_RegisterForZDOMsg
        FUNCTION ZDO_RegisterForZDOMsg,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZDP_EndDeviceBindReq
        FUNCTION ZDP_EndDeviceBindReq,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZDP_MatchDescReq
        FUNCTION ZDP_MatchDescReq,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 29, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZDSecMgrClearNVKeyValues
        FUNCTION ZDSecMgrClearNVKeyValues,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN _NIB
        EXTERN afRegister
        FUNCTION afRegister,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN devState
        EXTERN join_device_extaddr
        EXTERN osal_getClock
        FUNCTION osal_getClock,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_mem_alloc
        FUNCTION osal_mem_alloc,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 40, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_mem_free
        FUNCTION osal_mem_free,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 40, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_memcmp
        FUNCTION osal_memcmp,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 29, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_memcpy
        FUNCTION osal_memcpy,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 218, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_memset
        FUNCTION osal_memset,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 126, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_msg_allocate
        FUNCTION osal_msg_allocate,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 215, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_msg_deallocate
        FUNCTION osal_msg_deallocate,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 215, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_msg_receive
        FUNCTION osal_msg_receive,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_start_timerEx
        FUNCTION osal_start_timerEx,0202H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 22, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_stop_timerEx
        FUNCTION osal_stop_timerEx,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_strlen
        FUNCTION osal_strlen,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 22, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN sAddrExtCmp
        FUNCTION sAddrExtCmp,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN zdo_join_device
        EXTERN zgConfigPANID

// C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh 1.0.0\Projects\zstack\Samples\GenericApp\Source\GenericApp.c
//    1 /******************************************************************************
//    2   Filename:       GenericApp.c
//    3   Revised:        $Date: 2014-09-07 13:36:30 -0700 (Sun, 07 Sep 2014) $
//    4   Revision:       $Revision: 40046 $
//    5 
//    6   Description:    Generic Application (no Profile).
//    7 
//    8 
//    9   Copyright 2004-2014 Texas Instruments Incorporated. All rights reserved.
//   10 
//   11   IMPORTANT: Your use of this Software is limited to those specific rights
//   12   granted under the terms of a software license agreement between the user
//   13   who downloaded the software, his/her employer (which must be your employer)
//   14   and Texas Instruments Incorporated (the "License"). You may not use this
//   15   Software unless you agree to abide by the terms of the License. The License
//   16   limits your use, and you acknowledge, that the Software may not be modified,
//   17   copied or distributed unless embedded on a Texas Instruments microcontroller
//   18   or used solely and exclusively in conjunction with a Texas Instruments radio
//   19   frequency transceiver, which is integrated into your product. Other than for
//   20   the foregoing purpose, you may not use, reproduce, copy, prepare derivative
//   21   works of, modify, distribute, perform, display or sell this Software and/or
//   22   its documentation for any purpose.
//   23 
//   24   YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE
//   25   PROVIDED AS IS WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED,
//   26   INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE,
//   27   NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL
//   28   TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT,
//   29   NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER
//   30   LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES
//   31   INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE
//   32   OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT
//   33   OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES
//   34   (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.
//   35 
//   36   Should you have any questions regarding your right to use this Software,
//   37   contact Texas Instruments Incorporated at www.TI.com.
//   38 ******************************************************************************/
//   39 
//   40 /*********************************************************************
//   41   This application isn't intended to do anything useful - it is
//   42   intended to be a simple example of an application's structure.
//   43 
//   44   This application periodically sends a "Hello World" message to
//   45   another "Generic" application (see 'txMsgDelay'). The application
//   46   will also receive "Hello World" packets.
//   47 
//   48   This application doesn't have a profile, so it handles everything
//   49   directly - by itself.
//   50 
//   51   Key control:
//   52     SW1:  changes the delay between TX packets
//   53     SW2:  initiates end device binding
//   54     SW3:
//   55     SW4:  initiates a match description request
//   56 *********************************************************************/
//   57 
//   58 /*********************************************************************
//   59  * INCLUDES
//   60  */
//   61 #include "OSAL.h"
//   62 #include "AF.h"
//   63 #include "ZDApp.h"
//   64 #include "ZDObject.h"
//   65 #include "ZDProfile.h"
//   66 
//   67 #include "GenericApp.h"
//   68 #include "DebugTrace.h"
//   69 
//   70 #if !defined( WIN32 ) || defined( ZBIT )
//   71   #include "OnBoard.h"
//   72 #endif
//   73 
//   74 /* HAL */
//   75 #include "hal_lcd.h"
//   76 #include "hal_led.h"
//   77 #include "hal_key.h"
//   78 #include "hal_uart.h"
//   79 
//   80 #include "MT_UART.h"
//   81 #include "OSAL_Clock.h"
//   82 
//   83 #include "ZDSecMgr.h"
//   84 #include "ProtocolHandler.h"
//   85 #include "NodeAuth.h"
//   86 
//   87 #include "stdlib.h"
//   88 
//   89 /* RTOS */
//   90 #if defined( IAR_ARMCM3_LM )
//   91 #include "RTOS_App.h"
//   92 #endif
//   93 
//   94 /*********************************************************************
//   95  * MACROS
//   96  */
//   97 
//   98 /*********************************************************************
//   99  * CONSTANTS
//  100  */
//  101 
//  102 /*********************************************************************
//  103  * TYPEDEFS
//  104  */
//  105 
//  106 /*********************************************************************
//  107  * GLOBAL VARIABLES
//  108  */
//  109 // This list should be filled with Application specific Cluster IDs.

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
//  110 const cId_t GenericApp_ClusterList[GENERICAPP_MAX_CLUSTERS] =
GenericApp_ClusterList:
        DATA16
        DW 1
        DW 2
        DW 3
        DW 4
        DW 5
        DW 6
        DW 7
//  111 {
//  112   GENERICAPP_CLUSTERID,					  
//  113   GENERICAPP_DATA_P2P_CLUSTERID, 		  
//  114   GENERICAPP_GROUP_CLUSTERID,		  
//  115   GENERICAPP_CMD_P2P_CLUSTERID,			  
//  116   GENERICAPP_BROADCAST_CLUSTERID,
//  117   GENERICAPP_P2P_PERMIT_JOIN_REQ_CLUSTERID,
//  118   GENERICAPP_P2P_PERMIT_JOIN_RSP_CLUSTERID
//  119 };
//  120 

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
//  121 const SimpleDescriptionFormat_t GenericApp_SimpleDesc =
GenericApp_SimpleDesc:
        DB 10
        DATA16
        DW 3844
        DW 1
        DATA8
        DB 0
        DB 7
        DATA16
        DW GenericApp_ClusterList
        DATA8
        DB 7
        DATA16
        DW GenericApp_ClusterList
//  122 {
//  123   GENERICAPP_ENDPOINT,              //  int Endpoint;
//  124   GENERICAPP_PROFID,                //  uint16 AppProfId[2];
//  125   GENERICAPP_DEVICEID,              //  uint16 AppDeviceId[2];
//  126   GENERICAPP_DEVICE_VERSION,        //  int   AppDevVer:4;
//  127   GENERICAPP_FLAGS,                 //  int   AppFlags:4;
//  128   GENERICAPP_MAX_CLUSTERS,          //  byte  AppNumInClusters;
//  129   (cId_t *)GenericApp_ClusterList,  //  byte *pAppInClusterList;
//  130   GENERICAPP_MAX_CLUSTERS,          //  byte  AppNumInClusters;
//  131   (cId_t *)GenericApp_ClusterList   //  byte *pAppInClusterList;
//  132 };
//  133 
//  134 // This is the Endpoint/Interface description.  It is defined here, but
//  135 // filled-in in GenericApp_Init().  Another way to go would be to fill
//  136 // in the structure here and make it a "const" (in code space).  The
//  137 // way it's defined in this sample app it is define in RAM.

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  138 endPointDesc_t GenericApp_epDesc;
GenericApp_epDesc:
        DS 6
        REQUIRE __INIT_XDATA_Z
//  139 
//  140 

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA16
//  141 nodeList_t *nodeList = NULL;
nodeList:
        DS 2
        REQUIRE __INIT_XDATA_Z
//  142 
//  143 
//  144 
//  145 /*********************************************************************
//  146  * EXTERNAL VARIABLES
//  147  */
//  148 
//  149 /*********************************************************************
//  150  * EXTERNAL FUNCTIONS
//  151  */
//  152 
//  153 /*********************************************************************
//  154  * LOCAL VARIABLES
//  155  */

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  156 byte GenericApp_TaskID;   // Task ID for internal task/event processing
GenericApp_TaskID:
        DS 1
        REQUIRE __INIT_XDATA_Z
//  157                           // This variable will be received when
//  158                           // GenericApp_Init() is called.
//  159 

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  160 devStates_t GenericApp_NwkState;
GenericApp_NwkState:
        DS 1
        REQUIRE __INIT_XDATA_Z
//  161 

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  162 byte GenericApp_TransID;  // This is the unique message ID (counter)
GenericApp_TransID:
        DS 1
        REQUIRE __INIT_XDATA_Z
//  163 

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  164 afAddrType_t GenericApp_DstAddr;
GenericApp_DstAddr:
        DS 12
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  165 afAddrType_t SerialApp_TxAddr_broadcast;
SerialApp_TxAddr_broadcast:
        DS 12
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  166 afAddrType_t SerialApp_TxAddr_group;
SerialApp_TxAddr_group:
        DS 12
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  167 afAddrType_t SerialApp_TxAddr_p2p;
SerialApp_TxAddr_p2p:
        DS 12
        REQUIRE __INIT_XDATA_Z
//  168 
//  169 

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  170 uint8 ping_result;
ping_result:
        DS 1
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  171 uint8 ping_error_cnt;
ping_error_cnt:
        DS 1
        REQUIRE __INIT_XDATA_Z
//  172 

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  173 uint8 zc_online_report_cnt =0;
zc_online_report_cnt:
        DS 1
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  174 uint8 zr_online_report_cnt =0;
zr_online_report_cnt:
        DS 1
        REQUIRE __INIT_XDATA_Z
//  175 
//  176 
//  177 // Number of recieved messages

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA16
//  178 static uint16 rxMsgCount;
rxMsgCount:
        DS 2
        REQUIRE __INIT_XDATA_Z
//  179 
//  180 #if defined( LCD_SUPPORTED )		

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA16
//  181 static uint16 askWhiteListCount;   //chaokw panid
askWhiteListCount:
        DS 2
        REQUIRE __INIT_XDATA_Z
//  182 #endif
//  183 
//  184 // Time interval between sending messages

        RSEG XDATA_I:XDATA:NOROOT(0)
//  185 static uint32 txMsgDelay = GENERICAPP_SEND_MSG_TIMEOUT;
txMsgDelay:
        DATA32
        DS 4
        REQUIRE `?<Initializer for txMsgDelay>`
        REQUIRE __INIT_XDATA_I
//  186 

        RSEG XDATA_I:XDATA:NOROOT(0)
//  187 const uint8* fw_version = ZIGBEE_FW_VERSION;
fw_version:
        DATA16
        DS 2
        REQUIRE `?<Initializer for fw_version>`
        REQUIRE __INIT_XDATA_I
//  188 

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  189 uint8 transfer_join_times = 0;  //chaokw
transfer_join_times:
        DS 1
        REQUIRE __INIT_XDATA_Z
//  190 
//  191 #if( ZSTACK_DEVICE_BUILD != DEVICE_BUILD_COORDINATOR)		
//  192 uint32 pingRspTime = 0;   //chaokw ping
//  193 #endif
//  194 
//  195 /*********************************************************************
//  196  * LOCAL FUNCTIONS
//  197  */
//  198 static void GenericApp_ProcessZDOMsgs( zdoIncomingMsg_t *inMsg );
//  199 static void GenericApp_HandleKeys( byte shift, byte keys );
//  200 static void GenericApp_MessageMSGCB( afIncomingMSGPacket_t *pckt );
//  201 static void GenericApp_SendTheMessage( void );
//  202 
//  203 #if defined( IAR_ARMCM3_LM )
//  204 static void GenericApp_ProcessRtosMessage( void );
//  205 #endif
//  206 
//  207 /*********************************************************************
//  208  * NETWORK LAYER CALLBACKS
//  209  */
//  210 
//  211 /*********************************************************************
//  212  * PUBLIC FUNCTIONS
//  213  */
//  214 
//  215 /*********************************************************************
//  216  * @fn      GenericApp_Init
//  217  *
//  218  * @brief   Initialization function for the Generic App Task.
//  219  *          This is called during initialization and should contain
//  220  *          any application specific initialization (ie. hardware
//  221  *          initialization/setup, table initialization, power up
//  222  *          notificaiton ... ).
//  223  *
//  224  * @param   task_id - the ID assigned by OSAL.  This ID should be
//  225  *                    used to send messages and set timers.
//  226  *
//  227  * @return  none
//  228  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  229 void GenericApp_Init( uint8 task_id )
GenericApp_Init:
          CFI Block cfiBlock0 Using cfiCommon0
          CFI Function GenericApp_Init
        CODE
//  230 {
        FUNCALL GenericApp_Init, afRegister
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_Init, RegisterForKeys
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_Init, HalLcdWriteString
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_Init, ZDO_RegisterForZDOMsg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_Init, ZDO_RegisterForZDOMsg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_Init, ZDO_RegisterForZDOMsg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_Init, CustomApp_zigbee_start_ind
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_Init, CustomApp_loadstatus_ind
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_Init, CustomApp_linkstatus_init
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_Init, Node_auth_init
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 0
        MOV     A,R1
        MOV     R6,A
//  231   GenericApp_TaskID = task_id;
        MOV     A,R6
        MOV     DPTR,#GenericApp_TaskID
        MOVX    @DPTR,A
//  232   GenericApp_NwkState = DEV_INIT;
        MOV     DPTR,#GenericApp_NwkState
        MOV     A,#0x1
        MOVX    @DPTR,A
//  233   GenericApp_TransID = 0;
        MOV     DPTR,#GenericApp_TransID
        MOV     A,#0x0
        MOVX    @DPTR,A
//  234 
//  235   // Device hardware initialization can be added here or in main() (Zmain.c).
//  236   // If the hardware is application specific - add it here.
//  237   // If the hardware is other parts of the device add it in main().
//  238 
//  239   GenericApp_DstAddr.addrMode = (afAddrMode_t)Addr16Bit;
        MOV     DPTR,#GenericApp_DstAddr + 8
        MOV     A,#0x2
        MOVX    @DPTR,A
//  240   GenericApp_DstAddr.endPoint = GENERICAPP_ENDPOINT;
        MOV     DPTR,#GenericApp_DstAddr + 9
        MOV     A,#0xa
        MOVX    @DPTR,A
//  241   GenericApp_DstAddr.addr.shortAddr = 0;
        MOV     DPTR,#GenericApp_DstAddr
        MOV     A,#0x0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
//  242 
//  243   // Fill out the endpoint description.
//  244   GenericApp_epDesc.endPoint = GENERICAPP_ENDPOINT;
        MOV     DPTR,#GenericApp_epDesc
        MOV     A,#0xa
        MOVX    @DPTR,A
//  245   GenericApp_epDesc.task_id = &GenericApp_TaskID;
        MOV     DPTR,#GenericApp_epDesc + 1
        MOV     A,#GenericApp_TaskID & 0xff
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#(GenericApp_TaskID >> 8) & 0xff
        MOVX    @DPTR,A
//  246   GenericApp_epDesc.simpleDesc
//  247             = (SimpleDescriptionFormat_t *)&GenericApp_SimpleDesc;
        MOV     DPTR,#GenericApp_epDesc + 3
        MOV     A,#GenericApp_SimpleDesc & 0xff
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#(GenericApp_SimpleDesc >> 8) & 0xff
        MOVX    @DPTR,A
//  248   GenericApp_epDesc.latencyReq = noLatencyReqs;
        MOV     DPTR,#GenericApp_epDesc + 5
        MOV     A,#0x0
        MOVX    @DPTR,A
//  249 
//  250 
//  251     //broadcast to everyone
//  252     SerialApp_TxAddr_broadcast.addrMode = (afAddrMode_t)AddrBroadcast;
        MOV     DPTR,#SerialApp_TxAddr_broadcast + 8
        MOV     A,#0xf
        MOVX    @DPTR,A
//  253     SerialApp_TxAddr_broadcast.endPoint = GENERICAPP_ENDPOINT;
        MOV     DPTR,#SerialApp_TxAddr_broadcast + 9
        MOV     A,#0xa
        MOVX    @DPTR,A
//  254     SerialApp_TxAddr_broadcast.addr.shortAddr = 0xFFFF;
        MOV     DPTR,#SerialApp_TxAddr_broadcast
        MOV     A,#-0x1
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#-0x1
        MOVX    @DPTR,A
//  255 
//  256     //send to group
//  257     SerialApp_TxAddr_group.addrMode = (afAddrMode_t)AddrGroup;
        MOV     DPTR,#SerialApp_TxAddr_group + 8
        MOV     A,#0x1
        MOVX    @DPTR,A
//  258     SerialApp_TxAddr_group.endPoint = GENERICAPP_ENDPOINT;
        MOV     DPTR,#SerialApp_TxAddr_group + 9
        MOV     A,#0xa
        MOVX    @DPTR,A
//  259     SerialApp_TxAddr_group.addr.shortAddr = 0x0000;
        MOV     DPTR,#SerialApp_TxAddr_group
        MOV     A,#0x0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
//  260 	
//  261     //point  to point
//  262     SerialApp_TxAddr_p2p.addrMode = (afAddrMode_t)Addr16Bit;
        MOV     DPTR,#SerialApp_TxAddr_p2p + 8
        MOV     A,#0x2
        MOVX    @DPTR,A
//  263     SerialApp_TxAddr_p2p.endPoint = GENERICAPP_ENDPOINT;
        MOV     DPTR,#SerialApp_TxAddr_p2p + 9
        MOV     A,#0xa
        MOVX    @DPTR,A
//  264     SerialApp_TxAddr_p2p.addr.shortAddr = 0x0000;
        MOV     DPTR,#SerialApp_TxAddr_p2p
        MOV     A,#0x0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
//  265 
//  266 
//  267   // Register the endpoint description with the AF
//  268   afRegister( &GenericApp_epDesc );
        ; Setup parameters for call to function afRegister
        MOV     R2,#GenericApp_epDesc & 0xff
        MOV     R3,#(GenericApp_epDesc >> 8) & 0xff
        LCALL   `??afRegister::?relay`; Banked call to: afRegister
        MOV     A,R1
//  269 
//  270   // Register for all key events - This app will handle all key events
//  271   RegisterForKeys( GenericApp_TaskID );
        ; Setup parameters for call to function RegisterForKeys
        MOV     DPTR,#GenericApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   `??RegisterForKeys::?relay`; Banked call to: RegisterForKeys
        MOV     A,R1
//  272 
//  273   // Update the display
//  274 #if defined ( LCD_SUPPORTED )
//  275   HalLcdWriteString( "GenericApp", HAL_LCD_LINE_1 );
        ; Setup parameters for call to function HalLcdWriteString
        MOV     R1,#0x1
        MOV     R2,#`?<Constant "GenericApp">` & 0xff
        MOV     R3,#(`?<Constant "GenericApp">` >> 8) & 0xff
        LCALL   `??HalLcdWriteString::?relay`; Banked call to: HalLcdWriteString
//  276 #endif
//  277 
//  278   ZDO_RegisterForZDOMsg( GenericApp_TaskID, End_Device_Bind_rsp );
        ; Setup parameters for call to function ZDO_RegisterForZDOMsg
        MOV     R2,#0x20
        MOV     R3,#-0x80
        MOV     DPTR,#GenericApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   `??ZDO_RegisterForZDOMsg::?relay`; Banked call to: ZDO_RegisterForZDOMsg
        MOV     A,R1
//  279   ZDO_RegisterForZDOMsg( GenericApp_TaskID, Match_Desc_rsp );
        ; Setup parameters for call to function ZDO_RegisterForZDOMsg
        MOV     R2,#0x6
        MOV     R3,#-0x80
        MOV     DPTR,#GenericApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   `??ZDO_RegisterForZDOMsg::?relay`; Banked call to: ZDO_RegisterForZDOMsg
        MOV     A,R1
//  280   
//  281 #if( ZSTACK_DEVICE_BUILD == DEVICE_BUILD_COORDINATOR)
//  282     ZDO_RegisterForZDOMsg( GenericApp_TaskID, Device_annce );  //chaokw
        ; Setup parameters for call to function ZDO_RegisterForZDOMsg
        MOV     R2,#0x13
        MOV     R3,#0x0
        MOV     DPTR,#GenericApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   `??ZDO_RegisterForZDOMsg::?relay`; Banked call to: ZDO_RegisterForZDOMsg
        MOV     A,R1
//  283 #endif 
//  284 
//  285 
//  286 #if defined( IAR_ARMCM3_LM )
//  287   // Register this task with RTOS task initiator
//  288   RTOS_RegisterApp( task_id, GENERICAPP_RTOS_MSG_EVT );
//  289 #endif
//  290 
//  291     CustomApp_zigbee_start_ind(); //chaokw lucis	
        ; Setup parameters for call to function CustomApp_zigbee_start_ind
        LCALL   `??CustomApp_zigbee_start_ind::?relay`; Banked call to: CustomApp_zigbee_start_ind
//  292 
//  293 #if( ZSTACK_DEVICE_BUILD != DEVICE_BUILD_COORDINATOR)	
//  294     Register_Group_Multiway();
//  295 #endif
//  296     
//  297 #if( ZSTACK_DEVICE_BUILD == DEVICE_BUILD_COORDINATOR)
//  298     CustomApp_loadstatus_ind();
        ; Setup parameters for call to function CustomApp_loadstatus_ind
        LCALL   `??CustomApp_loadstatus_ind::?relay`; Banked call to: CustomApp_loadstatus_ind
//  299     CustomApp_linkstatus_init();   //chaokw debug
        ; Setup parameters for call to function CustomApp_linkstatus_init
        LCALL   `??CustomApp_linkstatus_init::?relay`; Banked call to: CustomApp_linkstatus_init
//  300 
//  301 
//  302     //CustomApp_coordinater_broadcast_ping();
//  303 	
//  304 #if  NODE_AUTH 	
//  305     Node_auth_init();
        ; Setup parameters for call to function Node_auth_init
        LCALL   `??Node_auth_init::?relay`; Banked call to: Node_auth_init
        MOV     A,R1
//  306 #endif    
//  307 #endif    
//  308 
//  309 #if defined( ZDO_COORDINATOR ) && defined( WIFI_FREQUENCY_SELECT )
//  310     //CustomApp_WifiChannelReq();
//  311 #endif
//  312 
//  313 #ifdef WDT_IN_PM1
//  314   osal_start_timerEx( GenericApp_TaskID,
//  315                       GENERICAPP_FEED_DOG_EVT,
//  316                       GENERICAPP_FEED_DOG_TIME_MAX);
//  317 #endif
//  318 
//  319 }
        MOV     R7,#0x1
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock0
//  320 
//  321 /*********************************************************************
//  322  * @fn      GenericApp_ProcessEvent
//  323  *
//  324  * @brief   Generic Application Task event processor.  This function
//  325  *          is called to process all events for the task.  Events
//  326  *          include timers, messages and any other user defined events.
//  327  *
//  328  * @param   task_id  - The OSAL assigned task ID.
//  329  * @param   events - events to process.  This is a bit map and can
//  330  *                   contain more than one event.
//  331  *
//  332  * @return  none
//  333  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  334 uint16 GenericApp_ProcessEvent( uint8 task_id, uint16 events )
GenericApp_ProcessEvent:
          CFI Block cfiBlock1 Using cfiCommon0
          CFI Function GenericApp_ProcessEvent
        CODE
//  335 {
        FUNCALL GenericApp_ProcessEvent, osal_msg_receive
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, GenericApp_ProcessZDOMsgs
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, GenericApp_HandleKeys
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, GenericApp_MessageMSGCB
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, NLME_InitNV
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, NLME_SetDefaultNV
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, ZDSecMgrClearNVKeyValues
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, Onboard_soft_reset
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, HalLcdWriteStringValue
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 19, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 19, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, HalLcdWriteStringValue
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 19, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 19, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, CustomApp_loadstatus_ind
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, CustomApp_ping_request_init
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, CustomApp_ping_timeout_check_init
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, CustomApp_send_ping_req
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 22, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 22, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, CustomApp_coordinator_online_req
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 22, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 22, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, CustomApp_coordinater_broadcast_ping_init
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, CustomApp_Send_P2P_Data
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, CustomApp_Send_Group_Data
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, CustomApp_Send_BroadCast_Data
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, CustomApp_Get_ExtAddr
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, CustomApp_Get_NWKInfo
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, CustomApp_Get_Active_Cnt
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, CustomApp_Get_Version
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, CustomApp_FW_Update
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, CustomApp_Set_Multiway
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, osal_msg_deallocate
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, osal_msg_receive
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, GenericApp_SendTheMessage
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 22, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 22, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, osal_stop_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, CustomApp_send_ping_req
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 22, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 22, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, osal_stop_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, CustomApp_linkstatus_updated
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 22, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 22, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, osal_stop_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, CustomApp_coordinater_broadcast_ping
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 22, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 22, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, Onboard_soft_reset
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, CustomApp_loadstatus_ind
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, osal_stop_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, CustomApp_coordinator_online_req
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 22, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 22, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessEvent, GenericApp_Free_Join_DeviceInfo
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V3
        REQUIRE ?V4
        REQUIRE ?V5
        REQUIRE ?V6
        REQUIRE ?V7
        REQUIRE ?V8
        REQUIRE ?V9
        MOV     A,#-0x12
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V9 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V8 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-17)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-18)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 18)
        ; Saved register size: 18
        ; Auto size: 0
        MOV     ?V4,R1
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
//  336   afIncomingMSGPacket_t *MSGpkt;
//  337   afDataConfirm_t *afDataConfirm;
//  338 
//  339   // Data Confirmation message fields
//  340   byte sentEP;
//  341 #if( ZSTACK_DEVICE_BUILD != DEVICE_BUILD_COORDINATOR) 
//  342   ZStatus_t sentStatus;
//  343 #endif 
//  344   byte sentTransID;       // This should match the value sent
//  345   (void)task_id;  // Intentionally unreferenced parameter
//  346 
//  347   if (events & GENERICAPP_FEED_DOG_EVT)
        MOV     A,R6
        ANL     A,#0x0
        MOV     R0,A
        MOV     A,R7
        ANL     A,#0x4
        MOV     R1,A
        MOV     A,R0
        ORL     A,R1
        JZ      ??GenericApp_ProcessEvent_0
//  348   {
//  349 #ifdef WDT_IN_PM1
//  350         WatchDogFeedDog();
//  351         osal_start_timerEx( GenericApp_TaskID,
//  352                       GENERICAPP_FEED_DOG_EVT,
//  353                       GENERICAPP_FEED_DOG_TIME_MAX);
//  354 #endif
//  355         return (events ^ GENERICAPP_FEED_DOG_EVT);
        MOV     A,R6
        XRL     A,#0x0
        MOV     R2,A
        MOV     A,R7
        XRL     A,#0x4
        MOV     R3,A
        LJMP    ??GenericApp_ProcessEvent_1 & 0xFFFF
//  356   }
//  357 
//  358   if ( events & SYS_EVENT_MSG )
??GenericApp_ProcessEvent_0:
        MOV     A,R6
        ANL     A,#0x0
        MOV     R0,A
        MOV     A,R7
        ANL     A,#0x80
        MOV     R1,A
        MOV     A,R0
        ORL     A,R1
        JNZ     $+5
        LJMP    ??GenericApp_ProcessEvent_2 & 0xFFFF
//  359   {
//  360     MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( GenericApp_TaskID );
        ; Setup parameters for call to function osal_msg_receive
        MOV     DPTR,#GenericApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   `??osal_msg_receive::?relay`; Banked call to: osal_msg_receive
        MOV     ?V8,R2
        MOV     ?V9,R3
        MOV     ?V0,?V8
        MOV     ?V1,?V9
//  361     while ( MSGpkt )
??GenericApp_ProcessEvent_3:
        MOV     A,?V0
        ORL     A,?V1
        JNZ     $+5
        LJMP    ??GenericApp_ProcessEvent_4 & 0xFFFF
//  362     {
//  363       switch ( MSGpkt->hdr.event )
        MOV     DPL,?V0
        MOV     DPH,?V1
        MOVX    A,@DPTR
        ADD     A,#-0x1a
        JNZ     $+5
        LJMP    ??GenericApp_ProcessEvent_5 & 0xFFFF
        ADD     A,#0x5a
        JZ      ??GenericApp_ProcessEvent_6
        ADD     A,#-0x11
        JNZ     $+5
        LJMP    ??GenericApp_ProcessEvent_7 & 0xFFFF
        ADD     A,#-0x2
        JZ      ??GenericApp_ProcessEvent_8
        ADD     A,#-0xe
        JNZ     $+5
        LJMP    ??GenericApp_ProcessEvent_9 & 0xFFFF
        ADD     A,#-0x2
        JNZ     $+5
        LJMP    ??GenericApp_ProcessEvent_10 & 0xFFFF
        ADD     A,#-0x4
        JNZ     $+5
        LJMP    ??GenericApp_ProcessEvent_11 & 0xFFFF
        DEC     A
        JNZ     $+5
        LJMP    ??GenericApp_ProcessEvent_12 & 0xFFFF
        DEC     A
        JNZ     $+5
        LJMP    ??GenericApp_ProcessEvent_13 & 0xFFFF
        DEC     A
        JNZ     $+5
        LJMP    ??GenericApp_ProcessEvent_14 & 0xFFFF
        ADD     A,#-0x2
        JNZ     $+5
        LJMP    ??GenericApp_ProcessEvent_15 & 0xFFFF
        DEC     A
        JNZ     $+5
        LJMP    ??GenericApp_ProcessEvent_16 & 0xFFFF
        DEC     A
        JNZ     $+5
        LJMP    ??GenericApp_ProcessEvent_17 & 0xFFFF
        ADD     A,#-0xf
        JZ      ??GenericApp_ProcessEvent_18
        LJMP    ??GenericApp_ProcessEvent_19 & 0xFFFF
//  364       {
//  365         case ZDO_CB_MSG:
//  366           GenericApp_ProcessZDOMsgs( (zdoIncomingMsg_t *)MSGpkt );
??GenericApp_ProcessEvent_8:
        ; Setup parameters for call to function GenericApp_ProcessZDOMsgs
        MOV     R2,?V0
        MOV     R3,?V1
        LCALL   `??GenericApp_ProcessZDOMsgs::?relay`; Banked call to: GenericApp_ProcessZDOMsgs
//  367           break;
        LJMP    ??GenericApp_ProcessEvent_19 & 0xFFFF
//  368 
//  369         case KEY_CHANGE:
//  370           GenericApp_HandleKeys( ((keyChange_t *)MSGpkt)->state, ((keyChange_t *)MSGpkt)->keys );
??GenericApp_ProcessEvent_6:
        ; Setup parameters for call to function GenericApp_HandleKeys
        MOV     DPL,?V0
        MOV     DPH,?V1
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     DPL,?V0
        MOV     DPH,?V1
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   `??GenericApp_HandleKeys::?relay`; Banked call to: GenericApp_HandleKeys
//  371           break;
        LJMP    ??GenericApp_ProcessEvent_19 & 0xFFFF
//  372 
//  373         case AF_DATA_CONFIRM_CMD:	
//  374           // This message is received as a confirmation of a data packet sent.
//  375           // The status is of ZStatus_t type [defined in ZComDef.h]
//  376           // The message fields are defined in AF.h
//  377           afDataConfirm = (afDataConfirm_t *)MSGpkt;
??GenericApp_ProcessEvent_18:
        MOV     ?V6,?V0
        MOV     ?V7,?V1
//  378 
//  379           sentEP = afDataConfirm->endpoint;
        MOV     DPL,?V6
        MOV     DPH,?V7
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V3,A
//  380           (void)sentEP;  // This info not used now
//  381           sentTransID = afDataConfirm->transID;
        MOV     DPL,?V6
        MOV     DPH,?V7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V2,A
//  382           (void)sentTransID;  // This info not used now
//  383 
//  384 #if 1   //chaokw ping
//  385 #if( ZSTACK_DEVICE_BUILD != DEVICE_BUILD_COORDINATOR)		
//  386           sentStatus = afDataConfirm->hdr.status;
//  387           // Action taken when confirmation is received.
//  388           if ( sentStatus != ZSuccess )
//  389           {
//  390             // The data wasn't delivered -- Do something
//  391 #if defined( LCD_SUPPORTED )
//  392                 HalLcdWriteStringValue( (char*)"aps ack:", sentStatus, 16, HAL_LCD_LINE_2 );  //chaokw		
//  393 #endif
//  394 
//  395 //---------------------------------------
//  396 #if 0
//  397                 if(0x0000 == _NIB.nwkCoordAddress)
//  398                 {
//  399                    if(sentStatus == ZMacNoACK)
//  400                      ping_error_cnt++;
//  401                 }
//  402 		  else
//  403 		  {
//  404 		     if(sentStatus == ZApsNoAck)
//  405                      ping_error_cnt++;
//  406 		  }
//  407 #else
//  408                 ping_error_cnt++;
//  409 #endif
//  410 //----------------------------------------
//  411 
//  412                 if(ping_error_cnt < TIMEOUT_CNT)
//  413                 {
//  414 		      //SerialApp_ping_request_init();
//  415                 }
//  416 		  else if(ping_error_cnt > TIMEOUT_CNT)
//  417 		  {
//  418                     ping_error_cnt = TIMEOUT_CNT;
//  419 		      ping_result = 1;
//  420                     // rejoin network by zstack?
//  421 #if 0  //chaokw
//  422 		      // restart and clear NV mwk info
//  423 #if defined(NV_INIT) && defined(NV_RESTORE)
//  424                     NLME_InitNV();
//  425                     NLME_SetDefaultNV();
//  426                     ZDSecMgrClearNVKeyValues();
//  427 #endif
//  428                     Onboard_soft_reset();	
//  429 #else
//  430                     //Onboard_soft_reset();	 //chaokw ping
//  431 #endif
//  432 		  }
//  433           }
//  434           else
//  435           {
//  436                     ping_error_cnt = 0;    //chaokw 20170412
//  437                     ping_result = 0;
//  438 	   }
//  439 #if defined( LCD_SUPPORTED )		  
//  440           HalLcdWriteStringValue( (char*)"pingresult", ping_result, 10, HAL_LCD_LINE_1 );
//  441 #endif
//  442 #endif
//  443 #endif
//  444 
//  445           break;
        LJMP    ??GenericApp_ProcessEvent_19 & 0xFFFF
//  446 
//  447         case AF_INCOMING_MSG_CMD:
//  448           GenericApp_MessageMSGCB( MSGpkt );
??GenericApp_ProcessEvent_5:
        ; Setup parameters for call to function GenericApp_MessageMSGCB
        MOV     R2,?V0
        MOV     R3,?V1
        LCALL   `??GenericApp_MessageMSGCB::?relay`; Banked call to: GenericApp_MessageMSGCB
//  449           break;
        LJMP    ??GenericApp_ProcessEvent_19 & 0xFFFF
//  450 
//  451         case ZDO_STATE_CHANGE:
//  452           GenericApp_NwkState = (devStates_t)(MSGpkt->hdr.status);
??GenericApp_ProcessEvent_7:
        MOV     DPL,?V0
        MOV     DPH,?V1
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPTR,#GenericApp_NwkState
        MOVX    @DPTR,A
//  453 
//  454           if ((_NIB.nwkPanId >= (ZDAPP_CONFIG_PAN_ID + PANID_INCREASE_CNT))   //chaokw panid
//  455             || (zgConfigPANID >= (ZDAPP_CONFIG_PAN_ID + PANID_INCREASE_CNT)))
        MOV     DPTR,#_NIB + 33
        CLR     C
        MOVX    A,@DPTR
        SUBB    A,#-0x75
        INC     DPTR
        MOVX    A,@DPTR
        SUBB    A,#0x0
        JNC     ??GenericApp_ProcessEvent_20
        MOV     DPTR,#zgConfigPANID
        CLR     C
        MOVX    A,@DPTR
        SUBB    A,#-0x75
        INC     DPTR
        MOVX    A,@DPTR
        SUBB    A,#0x0
        JC      ??GenericApp_ProcessEvent_21
//  456           {
//  457   #if defined(NV_INIT) && defined(NV_RESTORE)
//  458               NLME_InitNV();
??GenericApp_ProcessEvent_20:
        ; Setup parameters for call to function NLME_InitNV
        LCALL   `??NLME_InitNV::?relay`; Banked call to: NLME_InitNV
        MOV     A,R1
//  459               NLME_SetDefaultNV();
        ; Setup parameters for call to function NLME_SetDefaultNV
        LCALL   `??NLME_SetDefaultNV::?relay`; Banked call to: NLME_SetDefaultNV
//  460               ZDSecMgrClearNVKeyValues();
        ; Setup parameters for call to function ZDSecMgrClearNVKeyValues
        LCALL   `??ZDSecMgrClearNVKeyValues::?relay`; Banked call to: ZDSecMgrClearNVKeyValues
//  461   #endif
//  462               Onboard_soft_reset();
        ; Setup parameters for call to function Onboard_soft_reset
        LCALL   Onboard_soft_reset & 0xFFFF
//  463           }            
//  464 
//  465 
//  466 #if defined( LCD_SUPPORTED )			       
//  467              HalLcdWriteStringValue( (char*)"panid:", _NIB.nwkPanId, 16, HAL_LCD_LINE_1 ); 
??GenericApp_ProcessEvent_21:
        ; Setup parameters for call to function HalLcdWriteStringValue
        MOV     ?V5,#0x1
        MOV     R0,#?V5
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 19)
        MOV     R1,#0x10
        MOV     DPTR,#_NIB + 33
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R5,A
        MOV     R2,#`?<Constant "panid:">` & 0xff
        MOV     R3,#(`?<Constant "panid:">` >> 8) & 0xff
        LCALL   `??HalLcdWriteStringValue::?relay`; Banked call to: HalLcdWriteStringValue
        MOV     A,#0x1
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 18)
//  468              HalLcdWriteStringValue( (char*)"devState:", devState, 10, HAL_LCD_LINE_3 ); 			 
        ; Setup parameters for call to function HalLcdWriteStringValue
        MOV     ?V5,#0x5
        MOV     R0,#?V5
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 19)
        MOV     R1,#0xa
        MOV     DPTR,#devState
        MOVX    A,@DPTR
        MOV     R4,A
        MOV     R5,#0x0
        MOV     R2,#`?<Constant "devState:">` & 0xff
        MOV     R3,#(`?<Constant "devState:">` >> 8) & 0xff
        LCALL   `??HalLcdWriteStringValue::?relay`; Banked call to: HalLcdWriteStringValue
        MOV     A,#0x1
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 18)
//  469 #endif			  
//  470 		  
//  471           if ( (GenericApp_NwkState == DEV_ROUTER) ||
//  472                (GenericApp_NwkState == DEV_END_DEVICE) )
        MOV     DPTR,#GenericApp_NwkState
        MOVX    A,@DPTR
        XRL     A,#0x7
        JZ      ??GenericApp_ProcessEvent_22
        MOV     DPTR,#GenericApp_NwkState
        MOVX    A,@DPTR
        XRL     A,#0x6
        JNZ     ??GenericApp_ProcessEvent_23
//  473           {
//  474 	      CustomApp_loadstatus_ind();	  
??GenericApp_ProcessEvent_22:
        ; Setup parameters for call to function CustomApp_loadstatus_ind
        LCALL   `??CustomApp_loadstatus_ind::?relay`; Banked call to: CustomApp_loadstatus_ind
//  475 	      CustomApp_ping_request_init();
        ; Setup parameters for call to function CustomApp_ping_request_init
        LCALL   `??CustomApp_ping_request_init::?relay`; Banked call to: CustomApp_ping_request_init
//  476              CustomApp_ping_timeout_check_init();  //chaokw ping		  
        ; Setup parameters for call to function CustomApp_ping_timeout_check_init
        LCALL   `??CustomApp_ping_timeout_check_init::?relay`; Banked call to: CustomApp_ping_timeout_check_init
//  477              CustomApp_send_ping_req();  //chaokw  20170322	
        ; Setup parameters for call to function CustomApp_send_ping_req
        LCALL   `??CustomApp_send_ping_req::?relay`; Banked call to: CustomApp_send_ping_req
//  478              osal_start_timerEx( GenericApp_TaskID,
//  479 					GENERICAPP_LOADSTATUS_MSG_EVT,
//  480 					5000); 		 
        ; Setup parameters for call to function osal_start_timerEx
        MOV     DPTR,#__Constant_1388
        LCALL   ?PUSH_XSTACK8_X_FOUR
          CFI CFA_XSP16 add(XSP16, 22)
        MOV     R2,#0x40
        MOV     R3,#0x0
        MOV     DPTR,#GenericApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 18)
        MOV     A,R1
//  481           }
//  482 		  
//  483           if ( (GenericApp_NwkState == DEV_ZB_COORD) )
??GenericApp_ProcessEvent_23:
        MOV     DPTR,#GenericApp_NwkState
        MOVX    A,@DPTR
        XRL     A,#0x9
        JNZ     ??GenericApp_ProcessEvent_19
//  484           {
//  485              CustomApp_coordinator_online_req();
        ; Setup parameters for call to function CustomApp_coordinator_online_req
        LCALL   `??CustomApp_coordinator_online_req::?relay`; Banked call to: CustomApp_coordinator_online_req
        MOV     A,R1
//  486              osal_start_timerEx( GenericApp_TaskID,
//  487 					GENERICAPP_COORDINATOR_ONLINE_EVT,
//  488 					5000); 			 
        ; Setup parameters for call to function osal_start_timerEx
        MOV     DPTR,#__Constant_1388
        LCALL   ?PUSH_XSTACK8_X_FOUR
          CFI CFA_XSP16 add(XSP16, 22)
        MOV     R2,#0x0
        MOV     R3,#0x8
        MOV     DPTR,#GenericApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 18)
        MOV     A,R1
//  489              CustomApp_coordinater_broadcast_ping_init();  //chaokw ping			 
        ; Setup parameters for call to function CustomApp_coordinater_broadcast_ping_init
        LCALL   `??CustomApp_coordinater_broadcast_ping_init::?r`; Banked call to: CustomApp_coordinater_broadcast_ping_init
//  490           }		 
//  491           break;
        SJMP    ??GenericApp_ProcessEvent_19
//  492 
//  493 
//  494 #if defined( ZDO_COORDINATOR ) && defined( WIFI_FREQUENCY_SELECT )
//  495         case ZDO_CHANNEL_UPDATE:
//  496           CustomApp_ChannelSelect(MSGpkt);
//  497 	   break;
//  498 #endif
//  499 		  
//  500         case ZDO_P2P_REQ:
//  501           CustomApp_Send_P2P_Data(MSGpkt);
??GenericApp_ProcessEvent_9:
        ; Setup parameters for call to function CustomApp_Send_P2P_Data
        MOV     R2,?V0
        MOV     R3,?V1
        LCALL   `??CustomApp_Send_P2P_Data::?relay`; Banked call to: CustomApp_Send_P2P_Data
        MOV     A,R1
//  502           break;
        SJMP    ??GenericApp_ProcessEvent_19
//  503 
//  504         case ZDO_GROUP_REQ:
//  505           CustomApp_Send_Group_Data(MSGpkt);
??GenericApp_ProcessEvent_10:
        ; Setup parameters for call to function CustomApp_Send_Group_Data
        MOV     R2,?V0
        MOV     R3,?V1
        LCALL   `??CustomApp_Send_Group_Data::?relay`; Banked call to: CustomApp_Send_Group_Data
        MOV     A,R1
//  506           break;
        SJMP    ??GenericApp_ProcessEvent_19
//  507 		  
//  508         case ZDO_BROADCAST_REQ:
//  509           CustomApp_Send_BroadCast_Data(MSGpkt);
??GenericApp_ProcessEvent_14:
        ; Setup parameters for call to function CustomApp_Send_BroadCast_Data
        MOV     R2,?V0
        MOV     R3,?V1
        LCALL   `??CustomApp_Send_BroadCast_Data::?relay`; Banked call to: CustomApp_Send_BroadCast_Data
        MOV     A,R1
//  510           break;			  
        SJMP    ??GenericApp_ProcessEvent_19
//  511 
//  512         case ZDO_MAC_REQ:
//  513           CustomApp_Get_ExtAddr();
??GenericApp_ProcessEvent_11:
        ; Setup parameters for call to function CustomApp_Get_ExtAddr
        LCALL   `??CustomApp_Get_ExtAddr::?relay`; Banked call to: CustomApp_Get_ExtAddr
//  514           break;
        SJMP    ??GenericApp_ProcessEvent_19
//  515 
//  516         case ZDO_NWKINFO_REQ:
//  517           CustomApp_Get_NWKInfo();
??GenericApp_ProcessEvent_17:
        ; Setup parameters for call to function CustomApp_Get_NWKInfo
        LCALL   `??CustomApp_Get_NWKInfo::?relay`; Banked call to: CustomApp_Get_NWKInfo
//  518           break;
        SJMP    ??GenericApp_ProcessEvent_19
//  519 
//  520         case ZDO_ACTIVE_CNT_REQ:
//  521           CustomApp_Get_Active_Cnt();
??GenericApp_ProcessEvent_16:
        ; Setup parameters for call to function CustomApp_Get_Active_Cnt
        LCALL   `??CustomApp_Get_Active_Cnt::?relay`; Banked call to: CustomApp_Get_Active_Cnt
//  522           break;
        SJMP    ??GenericApp_ProcessEvent_19
//  523 
//  524         case ZDO_FW_VERSION_REQ:
//  525           CustomApp_Get_Version();
??GenericApp_ProcessEvent_12:
        ; Setup parameters for call to function CustomApp_Get_Version
        LCALL   `??CustomApp_Get_Version::?relay`; Banked call to: CustomApp_Get_Version
//  526           break;
        SJMP    ??GenericApp_ProcessEvent_19
//  527 
//  528         case ZDO_FW_UPDATE_REQ:
//  529           CustomApp_FW_Update();
??GenericApp_ProcessEvent_13:
        ; Setup parameters for call to function CustomApp_FW_Update
        LCALL   `??CustomApp_FW_Update::?relay`; Banked call to: CustomApp_FW_Update
//  530           break;
        SJMP    ??GenericApp_ProcessEvent_19
//  531 
//  532         case ZDO_MULTIWAY_SET_REQ:
//  533           CustomApp_Set_Multiway(MSGpkt);
??GenericApp_ProcessEvent_15:
        ; Setup parameters for call to function CustomApp_Set_Multiway
        MOV     R2,?V0
        MOV     R3,?V1
        LCALL   `??CustomApp_Set_Multiway::?relay`; Banked call to: CustomApp_Set_Multiway
//  534           break;
//  535 		  
//  536         default:
//  537           break;
//  538       }
//  539       // Release the memory
//  540       osal_msg_deallocate( (uint8 *)MSGpkt );
??GenericApp_ProcessEvent_19:
        ; Setup parameters for call to function osal_msg_deallocate
        MOV     R2,?V0
        MOV     R3,?V1
        LCALL   `??osal_msg_deallocate::?relay`; Banked call to: osal_msg_deallocate
        MOV     A,R1
//  541 
//  542       // Next
//  543       MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( GenericApp_TaskID );
        ; Setup parameters for call to function osal_msg_receive
        MOV     DPTR,#GenericApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   `??osal_msg_receive::?relay`; Banked call to: osal_msg_receive
        MOV     ?V8,R2
        MOV     ?V9,R3
        MOV     ?V0,?V8
        MOV     ?V1,?V9
        LJMP    ??GenericApp_ProcessEvent_3 & 0xFFFF
//  544     }
//  545 
//  546     // return unprocessed events
//  547     return (events ^ SYS_EVENT_MSG);
??GenericApp_ProcessEvent_4:
        MOV     A,R6
        XRL     A,#0x0
        MOV     R2,A
        MOV     A,R7
        XRL     A,#0x80
        MOV     R3,A
        LJMP    ??GenericApp_ProcessEvent_1 & 0xFFFF
//  548   }
//  549 
//  550   // Send a message out - This event is generated by a timer
//  551   //  (setup in GenericApp_Init()).
//  552   if ( events & GENERICAPP_SEND_MSG_EVT )
??GenericApp_ProcessEvent_2:
        MOV     A,R6
        MOV     C,0xE0 /* A   */.0
        JNC     ??GenericApp_ProcessEvent_24
//  553   {
//  554     // Send "the" message
//  555     GenericApp_SendTheMessage();  //chaokw
        ; Setup parameters for call to function GenericApp_SendTheMessage
        LCALL   `??GenericApp_SendTheMessage::?relay`; Banked call to: GenericApp_SendTheMessage
//  556 
//  557     // Setup to send message again
//  558     osal_start_timerEx( GenericApp_TaskID,
//  559                         GENERICAPP_SEND_MSG_EVT,
//  560                         txMsgDelay );
        ; Setup parameters for call to function osal_start_timerEx
        MOV     DPTR,#txMsgDelay
        LCALL   ?PUSH_XSTACK8_X_FOUR
          CFI CFA_XSP16 add(XSP16, 22)
        MOV     R2,#0x1
        MOV     R3,#0x0
        MOV     DPTR,#GenericApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 18)
        MOV     A,R1
//  561 
//  562     // return unprocessed events
//  563     return (events ^ GENERICAPP_SEND_MSG_EVT);
        MOV     A,R6
        XRL     A,#0x1
        MOV     R2,A
        MOV     A,R7
        XRL     A,#0x0
        MOV     R3,A
        LJMP    ??GenericApp_ProcessEvent_1 & 0xFFFF
//  564   }
//  565 
//  566 #if defined( IAR_ARMCM3_LM )
//  567   // Receive a message from the RTOS queue
//  568   if ( events & GENERICAPP_RTOS_MSG_EVT )
//  569   {
//  570     // Process message from RTOS queue
//  571     GenericApp_ProcessRtosMessage();
//  572 
//  573     // return unprocessed events
//  574     return (events ^ GENERICAPP_RTOS_MSG_EVT);
//  575   }
//  576 #endif
//  577 
//  578 
//  579    if ( events & GENERICAPP_PING_MSG_EVT)
??GenericApp_ProcessEvent_24:
        MOV     A,R6
        ANL     A,#0x4
        JZ      ??GenericApp_ProcessEvent_25
//  580    {
//  581 	osal_stop_timerEx( GenericApp_TaskID, GENERICAPP_PING_MSG_EVT );
        ; Setup parameters for call to function osal_stop_timerEx
        MOV     R2,#0x4
        MOV     R3,#0x0
        MOV     DPTR,#GenericApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   `??osal_stop_timerEx::?relay`; Banked call to: osal_stop_timerEx
        MOV     A,R1
//  582 	CustomApp_send_ping_req();
        ; Setup parameters for call to function CustomApp_send_ping_req
        LCALL   `??CustomApp_send_ping_req::?relay`; Banked call to: CustomApp_send_ping_req
//  583 	osal_start_timerEx( GenericApp_TaskID, GENERICAPP_PING_MSG_EVT, PING_PERIOD);
        ; Setup parameters for call to function osal_start_timerEx
        MOV     DPTR,#__Constant_3a98
        LCALL   ?PUSH_XSTACK8_X_FOUR
          CFI CFA_XSP16 add(XSP16, 22)
        MOV     R2,#0x4
        MOV     R3,#0x0
        MOV     DPTR,#GenericApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 18)
        MOV     A,R1
//  584 
//  585 	return (events ^ GENERICAPP_PING_MSG_EVT);	
        MOV     A,R6
        XRL     A,#0x4
        MOV     R2,A
        MOV     A,R7
        XRL     A,#0x0
        MOV     R3,A
        LJMP    ??GenericApp_ProcessEvent_1 & 0xFFFF
//  586    }
//  587 
//  588 
//  589    if ( events & GENERICAPP_LINK_STATUS_EVT)
??GenericApp_ProcessEvent_25:
        MOV     A,R6
        ANL     A,#0x8
        JZ      ??GenericApp_ProcessEvent_26
//  590    {
//  591 	osal_stop_timerEx( GenericApp_TaskID, GENERICAPP_LINK_STATUS_EVT );
        ; Setup parameters for call to function osal_stop_timerEx
        MOV     R2,#0x8
        MOV     R3,#0x0
        MOV     DPTR,#GenericApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   `??osal_stop_timerEx::?relay`; Banked call to: osal_stop_timerEx
        MOV     A,R1
//  592 	CustomApp_linkstatus_updated();
        ; Setup parameters for call to function CustomApp_linkstatus_updated
        LCALL   `??CustomApp_linkstatus_updated::?relay`; Banked call to: CustomApp_linkstatus_updated
//  593 	osal_start_timerEx( GenericApp_TaskID, GENERICAPP_LINK_STATUS_EVT, LINKSTAT_PRRIOD);
        ; Setup parameters for call to function osal_start_timerEx
        MOV     DPTR,#__Constant_3a98
        LCALL   ?PUSH_XSTACK8_X_FOUR
          CFI CFA_XSP16 add(XSP16, 22)
        MOV     R2,#0x8
        MOV     R3,#0x0
        MOV     DPTR,#GenericApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 18)
        MOV     A,R1
//  594 
//  595 	return (events ^ GENERICAPP_LINK_STATUS_EVT);	
        MOV     A,R6
        XRL     A,#0x8
        MOV     R2,A
        MOV     A,R7
        XRL     A,#0x0
        MOV     R3,A
        LJMP    ??GenericApp_ProcessEvent_1 & 0xFFFF
//  596    }
//  597 
//  598 #if( ZSTACK_DEVICE_BUILD != DEVICE_BUILD_COORDINATOR)	
//  599    if ( events & GENERICAPP_PING_TIMEOUT_CHECK_EVT)   //chaokw ping
//  600    {
//  601 	osal_stop_timerEx( GenericApp_TaskID, GENERICAPP_PING_TIMEOUT_CHECK_EVT );
//  602 	CustomApp_ping_timeout_check();
//  603 	osal_start_timerEx( GenericApp_TaskID, GENERICAPP_PING_TIMEOUT_CHECK_EVT, PING_TIMEOUT_CHECK);
//  604 
//  605 	return (events ^ GENERICAPP_PING_TIMEOUT_CHECK_EVT);	
//  606    }   
//  607 #endif
//  608 
//  609    if ( events & GENERICAPP_COORDINATER_BROADCAST_PING_EVT)  //chaokw ping
??GenericApp_ProcessEvent_26:
        MOV     A,R6
        ANL     A,#0x0
        MOV     R0,A
        MOV     A,R7
        ANL     A,#0x1
        MOV     R1,A
        MOV     A,R0
        ORL     A,R1
        JZ      ??GenericApp_ProcessEvent_27
//  610    {
//  611 	osal_stop_timerEx( GenericApp_TaskID, GENERICAPP_COORDINATER_BROADCAST_PING_EVT );
        ; Setup parameters for call to function osal_stop_timerEx
        MOV     R2,#0x0
        MOV     R3,#0x1
        MOV     DPTR,#GenericApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   `??osal_stop_timerEx::?relay`; Banked call to: osal_stop_timerEx
        MOV     A,R1
//  612 	CustomApp_coordinater_broadcast_ping();
        ; Setup parameters for call to function CustomApp_coordinater_broadcast_ping
        LCALL   `??CustomApp_coordinater_broadcast_ping::?relay`; Banked call to: CustomApp_coordinater_broadcast_ping
//  613 	osal_start_timerEx( GenericApp_TaskID, GENERICAPP_COORDINATER_BROADCAST_PING_EVT, PING_PERIOD);
        ; Setup parameters for call to function osal_start_timerEx
        MOV     DPTR,#__Constant_3a98
        LCALL   ?PUSH_XSTACK8_X_FOUR
          CFI CFA_XSP16 add(XSP16, 22)
        MOV     R2,#0x0
        MOV     R3,#0x1
        MOV     DPTR,#GenericApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 18)
        MOV     A,R1
//  614 
//  615 	return (events ^ GENERICAPP_COORDINATER_BROADCAST_PING_EVT);	
        MOV     A,R6
        XRL     A,#0x0
        MOV     R2,A
        MOV     A,R7
        XRL     A,#0x1
        MOV     R3,A
        LJMP    ??GenericApp_ProcessEvent_1 & 0xFFFF
//  616    }
//  617 
//  618 
//  619    if ( events & GENERICAPP_RESET_SB_MSG_EVT )
??GenericApp_ProcessEvent_27:
        MOV     A,R6
        ANL     A,#0x20
        JZ      ??GenericApp_ProcessEvent_28
//  620    {
//  621     	Onboard_soft_reset();
        ; Setup parameters for call to function Onboard_soft_reset
        LCALL   Onboard_soft_reset & 0xFFFF
//  622    	return ( events ^ GENERICAPP_RESET_SB_MSG_EVT );
        MOV     A,R6
        XRL     A,#0x20
        MOV     R2,A
        MOV     A,R7
        XRL     A,#0x0
        MOV     R3,A
        LJMP    ??GenericApp_ProcessEvent_1 & 0xFFFF
//  623    }
//  624 
//  625    if ( events & GENERICAPP_LOADSTATUS_MSG_EVT)
??GenericApp_ProcessEvent_28:
        MOV     A,R6
        ANL     A,#0x40
        JZ      ??GenericApp_ProcessEvent_29
//  626    {
//  627        CustomApp_loadstatus_ind();
        ; Setup parameters for call to function CustomApp_loadstatus_ind
        LCALL   `??CustomApp_loadstatus_ind::?relay`; Banked call to: CustomApp_loadstatus_ind
//  628 	return (events ^ GENERICAPP_LOADSTATUS_MSG_EVT);	
        MOV     A,R6
        XRL     A,#0x40
        MOV     R2,A
        MOV     A,R7
        XRL     A,#0x0
        MOV     R3,A
        LJMP    ??GenericApp_ProcessEvent_1 & 0xFFFF
//  629    }
//  630 
//  631    if ( events & GENERICAPP_COORDINATOR_ONLINE_EVT)
??GenericApp_ProcessEvent_29:
        MOV     A,R6
        ANL     A,#0x0
        MOV     R0,A
        MOV     A,R7
        ANL     A,#0x8
        MOV     R1,A
        MOV     A,R0
        ORL     A,R1
        JZ      ??GenericApp_ProcessEvent_30
//  632    { 
//  633        osal_stop_timerEx( GenericApp_TaskID, GENERICAPP_COORDINATOR_ONLINE_EVT );
        ; Setup parameters for call to function osal_stop_timerEx
        MOV     R2,#0x0
        MOV     R3,#0x8
        MOV     DPTR,#GenericApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   `??osal_stop_timerEx::?relay`; Banked call to: osal_stop_timerEx
        MOV     A,R1
//  634        zc_online_report_cnt ++;
        MOV     DPTR,#zc_online_report_cnt
        MOVX    A,@DPTR
        ADD     A,#0x1
        MOVX    @DPTR,A
//  635        if (zc_online_report_cnt <= 3)
        MOV     DPTR,#zc_online_report_cnt
        MOVX    A,@DPTR
        CLR     C
        SUBB    A,#0x4
        JNC     ??GenericApp_ProcessEvent_31
//  636        {
//  637            CustomApp_coordinator_online_req();
        ; Setup parameters for call to function CustomApp_coordinator_online_req
        LCALL   `??CustomApp_coordinator_online_req::?relay`; Banked call to: CustomApp_coordinator_online_req
        MOV     A,R1
//  638 	    osal_start_timerEx( GenericApp_TaskID, GENERICAPP_COORDINATOR_ONLINE_EVT, 5000);
        ; Setup parameters for call to function osal_start_timerEx
        MOV     DPTR,#__Constant_1388
        LCALL   ?PUSH_XSTACK8_X_FOUR
          CFI CFA_XSP16 add(XSP16, 22)
        MOV     R2,#0x0
        MOV     R3,#0x8
        MOV     DPTR,#GenericApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 18)
        MOV     A,R1
//  639        }
//  640 	return (events ^ GENERICAPP_COORDINATOR_ONLINE_EVT);	
??GenericApp_ProcessEvent_31:
        MOV     A,R6
        XRL     A,#0x0
        MOV     R2,A
        MOV     A,R7
        XRL     A,#0x8
        MOV     R3,A
        SJMP    ??GenericApp_ProcessEvent_1
//  641    }
//  642 
//  643 #if 0
//  644    if ( events & GENERICAPP_ROUTER_ONLINE_EVT)
//  645    {
//  646        osal_stop_timerEx( GenericApp_TaskID, GENERICAPP_ROUTER_ONLINE_EVT );
//  647        zr_online_report_cnt ++;
//  648        if (zr_online_report_cnt <= 3)
//  649        {
//  650            CustomApp_router_online_req();
//  651 	    osal_start_timerEx( GenericApp_TaskID, GENERICAPP_ROUTER_ONLINE_EVT, 5000);
//  652        }
//  653 	return (events ^ GENERICAPP_ROUTER_ONLINE_EVT);	
//  654    }
//  655 #endif   
//  656 
//  657    if ( events & GENERICAPP_CHANNEL_MSG_EVT )
??GenericApp_ProcessEvent_30:
        MOV     A,R6
        ANL     A,#0x10
        JZ      ??GenericApp_ProcessEvent_32
//  658    {
//  659 #if defined( ZDO_COORDINATOR ) && defined( WIFI_FREQUENCY_SELECT )
//  660        CustomApp_WifiChannelReq();
//  661 #endif
//  662        return ( events ^ GENERICAPP_CHANNEL_MSG_EVT );
        MOV     A,R6
        XRL     A,#0x10
        MOV     R2,A
        MOV     A,R7
        XRL     A,#0x0
        MOV     R3,A
        SJMP    ??GenericApp_ProcessEvent_1
//  663    }
//  664 
//  665 //-----------------------------------------------------chaokw
//  666 	if (events & GENERICAPP_PERMIT_JOIN_MSG_EVT)
??GenericApp_ProcessEvent_32:
        MOV     A,R6
        ANL     A,#0x0
        MOV     R0,A
        MOV     A,R7
        ANL     A,#0x20
        MOV     R1,A
        MOV     A,R0
        ORL     A,R1
        JZ      ??GenericApp_ProcessEvent_33
//  667 	{
//  668 #ifndef ZDO_COORDINATOR
//  669 		if (transfer_join_times++ < 3)
//  670 		{
//  671 			GenericApp_Device_JoinReq();
//  672 			osal_start_timerEx(GenericApp_TaskID,
//  673 								GENERICAPP_PERMIT_JOIN_MSG_EVT,
//  674 								2000);
//  675 		}
//  676 #endif
//  677 		return ( events ^ GENERICAPP_PERMIT_JOIN_MSG_EVT );
        MOV     A,R6
        XRL     A,#0x0
        MOV     R2,A
        MOV     A,R7
        XRL     A,#0x20
        MOV     R3,A
        SJMP    ??GenericApp_ProcessEvent_1
//  678 	}
//  679 
//  680        if (events & GENERICAPP_CLEAR_JOIN_DEVICES_EVT)
??GenericApp_ProcessEvent_33:
        MOV     A,R6
        ANL     A,#0x0
        MOV     R0,A
        MOV     A,R7
        ANL     A,#0x40
        MOV     R1,A
        MOV     A,R0
        ORL     A,R1
        JZ      ??GenericApp_ProcessEvent_34
//  681 	{
//  682 		GenericApp_Free_Join_DeviceInfo(zdo_join_device);
        ; Setup parameters for call to function GenericApp_Free_Join_DeviceInfo
        MOV     DPTR,#zdo_join_device
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   `??GenericApp_Free_Join_DeviceInfo::?relay`; Banked call to: GenericApp_Free_Join_DeviceInfo
//  683 		return ( events ^ GENERICAPP_CLEAR_JOIN_DEVICES_EVT );
        MOV     A,R6
        XRL     A,#0x0
        MOV     R2,A
        MOV     A,R7
        XRL     A,#0x40
        MOV     R3,A
        SJMP    ??GenericApp_ProcessEvent_1
//  684 	}	
//  685 //-----------------------------------------------------------
//  686 	
//  687   // Discard unknown events
//  688   return 0;
??GenericApp_ProcessEvent_34:
        MOV     R2,#0x0
        MOV     R3,#0x0
??GenericApp_ProcessEvent_1:
        MOV     R7,#0xa
        LJMP    ?BANKED_LEAVE_XDATA
//  689 }
          CFI EndBlock cfiBlock1
//  690 
//  691 /*********************************************************************
//  692  * Event Generation Functions
//  693  */
//  694 
//  695 /*********************************************************************
//  696  * @fn      GenericApp_ProcessZDOMsgs()
//  697  *
//  698  * @brief   Process response messages
//  699  *
//  700  * @param   none
//  701  *
//  702  * @return  none
//  703  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  704 static void GenericApp_ProcessZDOMsgs( zdoIncomingMsg_t *inMsg )
GenericApp_ProcessZDOMsgs:
          CFI Block cfiBlock2 Using cfiCommon0
          CFI Function GenericApp_ProcessZDOMsgs
        CODE
//  705 {
        FUNCALL GenericApp_ProcessZDOMsgs, osal_mem_alloc
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 40, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 40, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessZDOMsgs, ZDO_ParseDeviceAnnce
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 40, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 40, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessZDOMsgs, osal_memcpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 43, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 43, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessZDOMsgs, CustomApp_NodeRegister
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 64, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 64, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessZDOMsgs, CustomApp_node_register_ind
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 64, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 64, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessZDOMsgs, HalLcdWriteStringValue
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 41, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 41, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessZDOMsgs, osal_mem_free
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 40, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 40, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessZDOMsgs, HalLedSet
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 40, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 40, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessZDOMsgs, HalLedSet
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 40, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 40, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessZDOMsgs, ZDO_ParseEPListRsp
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 40, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 40, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessZDOMsgs, HalLedSet
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 40, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 40, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_ProcessZDOMsgs, osal_mem_free
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 40, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 40, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V3
        REQUIRE ?V4
        REQUIRE ?V5
        REQUIRE ?V6
        REQUIRE ?V7
        MOV     A,#-0x10
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 16)
        ; Saved register size: 16
        ; Auto size: 24
        MOV     A,#-0x18
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 40)
        MOV     ?V0,R2
        MOV     ?V1,R3
//  706 	ZDO_DeviceAnnce_t *devAnnce=NULL;
        MOV     R6,#0x0
        MOV     R7,#0x0
//  707 	nodeList_t *pnode;
//  708 	afAddrType_t addr64;
//  709 	afAddrType_t addr16;
//  710 
//  711 
//  712   switch ( inMsg->clusterID )
        MOV     A,?V0
        ADD     A,#0xc
        MOV     DPL,A
        CLR     A
        ADDC    A,?V1
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     ?V4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V5,A
        MOV     R0,#?V4
        LCALL   ?US_SWITCH_SPARSE
`?<Jumptable for GenericApp_ProcessZDOMsgs>_0`:
        DATA
        DATA16
        DATA
        DATA16
        DATA
        DATA16
        DW        0
        DATA
        DATA16
        DATA
        DATA16
        DATA
        DATA16
        DW        3
        DATA
        DATA16
        DATA
        DATA16
        DATA
        DATA16
        DW        19
        DATA
        DATA16
        DATA
        DATA16
        DATA
        DATA16
        DW        ??GenericApp_ProcessZDOMsgs_0
        DATA
        DATA16
        DATA
        DATA16
        DATA
        DATA16
        DW        32774
        DATA
        DATA16
        DATA
        DATA16
        DATA
        DATA16
        DW        ??GenericApp_ProcessZDOMsgs_1
        DATA
        DATA16
        DATA
        DATA16
        DATA
        DATA16
        DW        32800
        DATA
        DATA16
        DATA
        DATA16
        DATA
        DATA16
        DW        ??GenericApp_ProcessZDOMsgs_2
        DATA
        DATA16
        DATA
        DATA16
        DW        ??GenericApp_ProcessZDOMsgs_3
        CODE
//  713   {
//  714       case Device_annce:    //chaokw
//  715       {
//  716 		  devAnnce = (ZDO_DeviceAnnce_t *)osal_mem_alloc( sizeof(  ZDO_DeviceAnnce_t ));
??GenericApp_ProcessZDOMsgs_0:
        ; Setup parameters for call to function osal_mem_alloc
        MOV     R2,#0xb
        MOV     R3,#0x0
        LCALL   `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
        MOV     ?V4,R2
        MOV     ?V5,R3
        MOV     R6,?V4
        MOV     R7,?V5
//  717                 if ( devAnnce == NULL )
        MOV     A,R6
        ORL     A,R7
        JNZ     $+5
        LJMP    ??GenericApp_ProcessZDOMsgs_3 & 0xFFFF
//  718                 {
//  719                      return;
//  720                 }
//  721 		  ZDO_ParseDeviceAnnce( inMsg, devAnnce );
        ; Setup parameters for call to function ZDO_ParseDeviceAnnce
        MOV     A,R6
        MOV     R4,A
        MOV     A,R7
        MOV     R5,A
        MOV     R2,?V0
        MOV     R3,?V1
        LCALL   `??ZDO_ParseDeviceAnnce::?relay`; Banked call to: ZDO_ParseDeviceAnnce
//  722 		  if ( devAnnce )
        MOV     A,R6
        ORL     A,R7
        JNZ     $+5
        LJMP    ??GenericApp_ProcessZDOMsgs_3 & 0xFFFF
//  723 		  {			  
//  724 			  addr16.addr.shortAddr = devAnnce->nwkAddr ;	 
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
//  725 			  osal_memcpy(&addr64.addr.extAddr, &devAnnce->extAddr[0], Z_EXTADDR_LEN);
        ; Setup parameters for call to function osal_memcpy
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        MOV     R1,DPL
        MOV     R2,DPH
        MOV     R3,#0x0
        MOV     ?V4,R1
        MOV     ?V5,R2
        MOV     ?V6,R3
        MOV     R0,#?V4
        LCALL   ?PUSH_XSTACK_I_THREE
          CFI CFA_XSP16 add(XSP16, 43)
        MOV     R4,#0x8
        MOV     R5,#0x0
        MOV     A,#0xf
        LCALL   ?XSTACK_DISP101_8
        LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
        MOV     A,#0x3
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 40)
//  726 				 
//  727 			  pnode=CustomApp_NodeRegister(addr64,addr16);
        ; Setup parameters for call to function CustomApp_NodeRegister
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     A,#0xc
        LCALL   ?PUSH_XSTACK8_X
          CFI CFA_XSP16 add(XSP16, 52)
        MOV     A,#0x18
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0xc
        LCALL   ?PUSH_XSTACK8_X
          CFI CFA_XSP16 add(XSP16, 64)
        LCALL   `??CustomApp_NodeRegister::?relay`; Banked call to: CustomApp_NodeRegister
        MOV     A,#0x18
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 40)
        MOV     ?V4,R2
        MOV     ?V5,R3
        MOV     ?V2,?V4
        MOV     ?V3,?V5
//  728 			  if(pnode!=NULL)
        MOV     A,?V2
        ORL     A,?V3
        JZ      ??GenericApp_ProcessZDOMsgs_4
//  729 			  {
//  730 			       CustomApp_node_register_ind(addr64, addr16);	//0x18
        ; Setup parameters for call to function CustomApp_node_register_ind
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     A,#0xc
        LCALL   ?PUSH_XSTACK8_X
          CFI CFA_XSP16 add(XSP16, 52)
        MOV     A,#0x18
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0xc
        LCALL   ?PUSH_XSTACK8_X
          CFI CFA_XSP16 add(XSP16, 64)
        LCALL   `??CustomApp_node_register_ind::?relay`; Banked call to: CustomApp_node_register_ind
        MOV     A,#0x18
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 40)
//  731 #if defined( LCD_SUPPORTED )			       
//  732 				HalLcdWriteStringValue( (char*)"nodregOK:", addr16.addr.shortAddr, 16, HAL_LCD_LINE_2 ); 
        ; Setup parameters for call to function HalLcdWriteStringValue
        MOV     ?V4,#0x3
        MOV     R0,#?V4
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 41)
        MOV     R1,#0x10
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R5,A
        MOV     R2,#`?<Constant "nodregOK:">` & 0xff
        MOV     R3,#(`?<Constant "nodregOK:">` >> 8) & 0xff
        LCALL   `??HalLcdWriteStringValue::?relay`; Banked call to: HalLcdWriteStringValue
        MOV     A,#0x1
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 40)
//  733 #endif
//  734 			  }	  
//  735                        osal_mem_free( devAnnce );
??GenericApp_ProcessZDOMsgs_4:
        ; Setup parameters for call to function osal_mem_free
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        LCALL   `??osal_mem_free::?relay`; Banked call to: osal_mem_free
//  736 		  }
//  737       }
//  738       break;
        LJMP    ??GenericApp_ProcessZDOMsgs_3 & 0xFFFF
//  739 
//  740   
//  741     case End_Device_Bind_rsp:
//  742       if ( ZDO_ParseBindRsp( inMsg ) == ZSuccess )
??GenericApp_ProcessZDOMsgs_2:
        MOV     A,?V0
        ADD     A,#0x13
        MOV     DPL,A
        CLR     A
        ADDC    A,?V1
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        MOVX    A,@DPTR
        JNZ     ??GenericApp_ProcessZDOMsgs_5
//  743       {
//  744         // Light LED
//  745         HalLedSet( HAL_LED_4, HAL_LED_MODE_ON );
        ; Setup parameters for call to function HalLedSet
        MOV     R2,#0x1
        MOV     R1,#0x8
        LCALL   `??HalLedSet::?relay`; Banked call to: HalLedSet
        MOV     A,R1
        SJMP    ??GenericApp_ProcessZDOMsgs_3
//  746       }
//  747 #if defined( BLINK_LEDS )
//  748       else
//  749       {
//  750         // Flash LED to show failure
//  751         HalLedSet ( HAL_LED_4, HAL_LED_MODE_FLASH );
??GenericApp_ProcessZDOMsgs_5:
        ; Setup parameters for call to function HalLedSet
        MOV     R2,#0x4
        MOV     R1,#0x8
        LCALL   `??HalLedSet::?relay`; Banked call to: HalLedSet
        MOV     A,R1
//  752       }
//  753 #endif
//  754       break;
        SJMP    ??GenericApp_ProcessZDOMsgs_3
//  755 
//  756     case Match_Desc_rsp:
//  757       {
//  758         ZDO_ActiveEndpointRsp_t *pRsp = ZDO_ParseEPListRsp( inMsg );
??GenericApp_ProcessZDOMsgs_1:
        ; Setup parameters for call to function ZDO_ParseEPListRsp
        MOV     R2,?V0
        MOV     R3,?V1
        LCALL   `??ZDO_ParseEPListRsp::?relay`; Banked call to: ZDO_ParseEPListRsp
        MOV     ?V6,R2
        MOV     ?V7,R3
        MOV     ?V4,?V6
        MOV     ?V5,?V7
//  759         if ( pRsp )
        MOV     A,?V4
        ORL     A,?V5
        JZ      ??GenericApp_ProcessZDOMsgs_3
//  760         {
//  761           if ( pRsp->status == ZSuccess && pRsp->cnt )
        MOV     DPL,?V4
        MOV     DPH,?V5
        MOVX    A,@DPTR
        JNZ     ??GenericApp_ProcessZDOMsgs_6
        MOV     DPL,?V4
        MOV     DPH,?V5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        JZ      ??GenericApp_ProcessZDOMsgs_6
//  762           {
//  763             GenericApp_DstAddr.addrMode = (afAddrMode_t)Addr16Bit;
        MOV     DPTR,#GenericApp_DstAddr + 8
        MOV     A,#0x2
        MOVX    @DPTR,A
//  764             GenericApp_DstAddr.addr.shortAddr = pRsp->nwkAddr;
        MOV     DPL,?V4
        MOV     DPH,?V5
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     DPTR,#GenericApp_DstAddr
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
//  765             // Take the first endpoint, Can be changed to search through endpoints
//  766             GenericApp_DstAddr.endPoint = pRsp->epList[0];
        MOV     DPL,?V4
        MOV     DPH,?V5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPTR,#GenericApp_DstAddr + 9
        MOVX    @DPTR,A
//  767 
//  768             // Light LED
//  769             HalLedSet( HAL_LED_4, HAL_LED_MODE_ON );
        ; Setup parameters for call to function HalLedSet
        MOV     R2,#0x1
        MOV     R1,#0x8
        LCALL   `??HalLedSet::?relay`; Banked call to: HalLedSet
        MOV     A,R1
//  770           }
//  771           osal_mem_free( pRsp );
??GenericApp_ProcessZDOMsgs_6:
        ; Setup parameters for call to function osal_mem_free
        MOV     R2,?V4
        MOV     R3,?V5
        LCALL   `??osal_mem_free::?relay`; Banked call to: osal_mem_free
//  772         }
//  773       }
//  774       break;
//  775   }
//  776 }
??GenericApp_ProcessZDOMsgs_3:
        MOV     A,#0x18
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 16)
        MOV     R7,#0x8
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock2
//  777 
//  778 /*********************************************************************
//  779  * @fn      GenericApp_HandleKeys
//  780  *
//  781  * @brief   Handles all key events for this device.
//  782  *
//  783  * @param   shift - true if in shift/alt.
//  784  * @param   keys - bit field for key events. Valid entries:
//  785  *                 HAL_KEY_SW_4
//  786  *                 HAL_KEY_SW_3
//  787  *                 HAL_KEY_SW_2
//  788  *                 HAL_KEY_SW_1
//  789  *
//  790  * @return  none
//  791  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  792 static void GenericApp_HandleKeys( uint8 shift, uint8 keys )
GenericApp_HandleKeys:
          CFI Block cfiBlock3 Using cfiCommon0
          CFI Function GenericApp_HandleKeys
        CODE
//  793 {
        FUNCALL GenericApp_HandleKeys, HalLedSet
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 21, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 21, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_HandleKeys, NLME_GetShortAddr
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 21, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 21, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_HandleKeys, ZDP_EndDeviceBindReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 30, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_HandleKeys, HalLedSet
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 21, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 21, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_HandleKeys, ZDP_MatchDescReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 29, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 29, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V3
        MOV     A,#-0xc
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 12)
        ; Saved register size: 12
        ; Auto size: 9
        MOV     A,#-0x9
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 21)
        MOV     A,R1
        MOV     R6,A
        MOV     A,R2
        MOV     R7,A
//  794   zAddrType_t dstAddr;
//  795 
//  796   // Shift is used to make each button/switch dual purpose.
//  797   if( 0 ) // ( shift )
//  798   {
//  799     if ( keys & HAL_KEY_SW_1 )
//  800     {
//  801     }
//  802     if ( keys & HAL_KEY_SW_2 )
//  803     {
//  804     }
//  805     if ( keys & HAL_KEY_SW_3 )
//  806     {
//  807     }
//  808     if ( keys & HAL_KEY_SW_4 )
//  809     {
//  810     }
//  811   }
//  812   else
//  813   {
//  814     if ( keys & HAL_KEY_SW_1 )
        MOV     A,R7
        MOV     C,0xE0 /* A   */.0
        JNC     ??GenericApp_HandleKeys_0
//  815     {
//  816 #if defined( SWITCH1_BIND )
//  817       // We can use SW1 to simulate SW2 for devices that only have one switch,
//  818       keys |= HAL_KEY_SW_2;
//  819 #elif defined( SWITCH1_MATCH )
//  820       // or use SW1 to simulate SW4 for devices that only have one switch
//  821       keys |= HAL_KEY_SW_4;
//  822 #else
//  823       // Normally, SW1 changes the rate that messages are sent
//  824       if ( txMsgDelay > 100 )
        MOV     DPTR,#__Constant_65
        MOV     R0,#?V0
        LCALL   ?L_MOV_X
        MOV     DPTR,#txMsgDelay
        MOV     R0,#?V0
        LCALL   ?UL_GT_X
        JC      ??GenericApp_HandleKeys_1
//  825       {
//  826         // Cut the message TX delay in half
//  827         txMsgDelay /= 2;
        MOV     DPTR,#txMsgDelay
        MOV     R0,#?V0
        LCALL   ?L_MOV_X
        MOV     A,#0x1
        MOV     R0,#?V0
        LCALL   ?UL_SHR
        MOV     DPTR,#txMsgDelay
        MOV     R0,#?V0
        LCALL   ?L_MOV_TO_X
        SJMP    ??GenericApp_HandleKeys_0
//  828       }
//  829       else
//  830       {
//  831         // Reset to the default
//  832         txMsgDelay = GENERICAPP_SEND_MSG_TIMEOUT;
??GenericApp_HandleKeys_1:
        MOV     R2,#-0x78
        MOV     R3,#0x13
        MOV     R4,#0x0
        MOV     R5,#0x0
        MOV     DPTR,#txMsgDelay
        MOV     A,R2
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R3
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R4
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R5
        MOVX    @DPTR,A
//  833       }
//  834 #endif
//  835     }
//  836 
//  837     if ( keys & HAL_KEY_SW_2 )
??GenericApp_HandleKeys_0:
        MOV     A,R7
        MOV     C,0xE0 /* A   */.1
        JNC     ??GenericApp_HandleKeys_2
//  838     {
//  839       HalLedSet ( HAL_LED_4, HAL_LED_MODE_OFF );
        ; Setup parameters for call to function HalLedSet
        MOV     R2,#0x0
        MOV     R1,#0x8
        LCALL   `??HalLedSet::?relay`; Banked call to: HalLedSet
        MOV     A,R1
//  840 
//  841       // Initiate an End Device Bind Request for the mandatory endpoint
//  842       dstAddr.addrMode = Addr16Bit;
        MOV     A,#0x8
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x2
        MOVX    @DPTR,A
//  843       dstAddr.addr.shortAddr = 0x0000; // Coordinator
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     A,#0x0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
//  844       ZDP_EndDeviceBindReq( &dstAddr, NLME_GetShortAddr(),
//  845                             GenericApp_epDesc.endPoint,
//  846                             GENERICAPP_PROFID,
//  847                             GENERICAPP_MAX_CLUSTERS, (cId_t *)GenericApp_ClusterList,
//  848                             GENERICAPP_MAX_CLUSTERS, (cId_t *)GenericApp_ClusterList,
//  849                             FALSE );
        ; Setup parameters for call to function NLME_GetShortAddr
        LCALL   `??NLME_GetShortAddr::?relay`; Banked call to: NLME_GetShortAddr
        MOV     ?V0,R2
        MOV     ?V1,R3
        MOV     R4,?V0
        MOV     R5,?V1
        ; Setup parameters for call to function ZDP_EndDeviceBindReq
        MOV     ?V0,#0x0
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 22)
        MOV     ?V0,#GenericApp_ClusterList & 0xff
        MOV     ?V1,#(GenericApp_ClusterList >> 8) & 0xff
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 24)
        MOV     ?V0,#0x7
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 25)
        MOV     ?V0,#GenericApp_ClusterList & 0xff
        MOV     ?V1,#(GenericApp_ClusterList >> 8) & 0xff
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 27)
        MOV     ?V0,#0x7
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 28)
        MOV     ?V0,#0x4
        MOV     ?V1,#0xf
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 30)
        MOV     DPTR,#GenericApp_epDesc
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,#0x9
        LCALL   ?XSTACK_DISP101_8
        LCALL   `??ZDP_EndDeviceBindReq::?relay`; Banked call to: ZDP_EndDeviceBindReq
        MOV     A,#0x9
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 21)
        MOV     A,R1
//  850     }
//  851 
//  852     if ( keys & HAL_KEY_SW_3 )
//  853     {
//  854     }
//  855 
//  856     if ( keys & HAL_KEY_SW_4 )
??GenericApp_HandleKeys_2:
        MOV     A,R7
        MOV     C,0xE0 /* A   */.3
        JNC     ??GenericApp_HandleKeys_3
//  857     {
//  858       HalLedSet ( HAL_LED_4, HAL_LED_MODE_OFF );
        ; Setup parameters for call to function HalLedSet
        MOV     R2,#0x0
        MOV     R1,#0x8
        LCALL   `??HalLedSet::?relay`; Banked call to: HalLedSet
        MOV     A,R1
//  859       // Initiate a Match Description Request (Service Discovery)
//  860       dstAddr.addrMode = AddrBroadcast;
        MOV     A,#0x8
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0xf
        MOVX    @DPTR,A
//  861       dstAddr.addr.shortAddr = NWK_BROADCAST_SHORTADDR;
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     A,#-0x1
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#-0x1
        MOVX    @DPTR,A
//  862       ZDP_MatchDescReq( &dstAddr, NWK_BROADCAST_SHORTADDR,
//  863                         GENERICAPP_PROFID,
//  864                         GENERICAPP_MAX_CLUSTERS, (cId_t *)GenericApp_ClusterList,
//  865                         GENERICAPP_MAX_CLUSTERS, (cId_t *)GenericApp_ClusterList,
//  866                         FALSE );
        ; Setup parameters for call to function ZDP_MatchDescReq
        MOV     ?V0,#0x0
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 22)
        MOV     ?V0,#GenericApp_ClusterList & 0xff
        MOV     ?V1,#(GenericApp_ClusterList >> 8) & 0xff
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 24)
        MOV     ?V0,#0x7
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 25)
        MOV     ?V0,#GenericApp_ClusterList & 0xff
        MOV     ?V1,#(GenericApp_ClusterList >> 8) & 0xff
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 27)
        MOV     ?V0,#0x4
        MOV     ?V1,#0xf
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 29)
        MOV     R1,#0x7
        MOV     R4,#-0x1
        MOV     R5,#-0x1
        MOV     A,#0x8
        LCALL   ?XSTACK_DISP101_8
        LCALL   `??ZDP_MatchDescReq::?relay`; Banked call to: ZDP_MatchDescReq
        MOV     A,#0x8
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 21)
        MOV     A,R1
//  867     }
//  868   }
//  869 }
??GenericApp_HandleKeys_3:
        MOV     A,#0x9
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 12)
        MOV     R7,#0x4
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock3
//  870 
//  871 /*********************************************************************
//  872  * LOCAL FUNCTIONS
//  873  */
//  874 
//  875 /*********************************************************************
//  876  * @fn      GenericApp_MessageMSGCB
//  877  *
//  878  * @brief   Data message processor callback.  This function processes
//  879  *          any incoming data - probably from other devices.  So, based
//  880  *          on cluster ID, perform the intended action.
//  881  *
//  882  * @param   none
//  883  *
//  884  * @return  none
//  885  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  886 static void GenericApp_MessageMSGCB( afIncomingMSGPacket_t *pkt )
GenericApp_MessageMSGCB:
          CFI Block cfiBlock4 Using cfiCommon0
          CFI Function GenericApp_MessageMSGCB
        CODE
//  887 {
        FUNCALL GenericApp_MessageMSGCB, CustomApp_NodeFindNwkAddrList
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_MessageMSGCB, HalLedSet
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_MessageMSGCB, HalLcdWriteString
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_MessageMSGCB, HalLcdWriteStringValue
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 17, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 17, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_MessageMSGCB, CustomApp_AF_P2P_Data_Process
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_MessageMSGCB, CustomApp_AF_Group_Data_Process
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_MessageMSGCB, CustomApp_Coordinator_Online
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_MessageMSGCB, CustomApp_AF_Broadcast_Data_Process
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_MessageMSGCB, HalLcdWriteStringValue
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 17, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 17, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_MessageMSGCB, CustomApp_process_ping
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_MessageMSGCB, HalLcdWriteStringValue
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 17, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 17, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_MessageMSGCB, GenericApp_Device_JoinRsp
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_MessageMSGCB, GenericApp_Get_PermitJoin
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V3
        REQUIRE ?V4
        REQUIRE ?V5
        REQUIRE ?V6
        REQUIRE ?V7
        MOV     A,#-0x10
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 16)
        ; Saved register size: 16
        ; Auto size: 0
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
//  888   uint16 msgid;
//  889 
//  890 #if( ZSTACK_DEVICE_BUILD == DEVICE_BUILD_COORDINATOR)		
//  891   nodeList_t *nodeSearch;
//  892   pingpkt_t * pinbgpkt;
//  893   if(pkt->srcAddr.addr.shortAddr != 0x0000)  //chaokw ping
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R0
        ORL     A,R1
        JZ      ??GenericApp_MessageMSGCB_0
//  894   {
//  895     pinbgpkt = (pingpkt_t *)(pkt->cmd.Data);
        MOV     A,R6
        ADD     A,#0x22
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     ?V4,R0
        MOV     ?V5,R1
//  896     nodeSearch = CustomApp_NodeFindNwkAddrList(pinbgpkt->devAddr16.addr.shortAddr);
        ; Setup parameters for call to function CustomApp_NodeFindNwkAddrList
        MOV     A,?V4
        ADD     A,#0xe
        MOV     DPL,A
        CLR     A
        ADDC    A,?V5
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   `??CustomApp_NodeFindNwkAddrList::?relay`; Banked call to: CustomApp_NodeFindNwkAddrList
        MOV     ?V6,R2
        MOV     ?V7,R3
        MOV     ?V2,?V6
        MOV     ?V3,?V7
//  897     if (nodeSearch!=NULL)
        MOV     A,?V2
        ORL     A,?V3
        JZ      ??GenericApp_MessageMSGCB_0
//  898     {	
//  899         nodeSearch->oldtimestamp = nodeSearch->timestamp; 
        MOV     A,?V2
        ADD     A,#0x1c
        MOV     DPL,A
        CLR     A
        ADDC    A,?V3
        MOV     DPH,A
        LCALL   ?XLOAD_R0123
        MOV     A,?V2
        ADD     A,#0x20
        MOV     DPL,A
        CLR     A
        ADDC    A,?V3
        MOV     DPH,A
        LCALL   ?XSTORE_R0123
//  900     }
//  901   }
//  902 #endif    
//  903 
//  904 #if( ZSTACK_DEVICE_BUILD != DEVICE_BUILD_COORDINATOR)		
//  905   if(pkt->srcAddr.addr.shortAddr == 0x0000)  //chaokw ping
//  906   {
//  907        pingRspTime = osal_getClock();
//  908   }
//  909 #endif
//  910 
//  911 
//  912   switch ( pkt->clusterId )
??GenericApp_MessageMSGCB_0:
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V6,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V7,A
        MOV     R0,#?V6
        LCALL   ?US_SWITCH_DENSE
`?<Jumptable for GenericApp_MessageMSGCB>_0`:
        DATA
        DATA16
        DATA
        DATA16
        DW        1
        DATA
        DATA8
        DATA
        DATA8
        DB        6
        DATA
        DATA16
        DATA
        DATA16
        DW        ??GenericApp_MessageMSGCB_1
        DATA
        DATA16
        DATA
        DATA16
        DW        ??GenericApp_MessageMSGCB_2
        DATA
        DATA16
        DATA
        DATA16
        DW        ??GenericApp_MessageMSGCB_3
        DATA
        DATA16
        DATA
        DATA16
        DW        ??GenericApp_MessageMSGCB_4
        DATA
        DATA16
        DATA
        DATA16
        DW        ??GenericApp_MessageMSGCB_5
        DATA
        DATA16
        DATA
        DATA16
        DW        ??GenericApp_MessageMSGCB_6
        DATA
        DATA16
        DATA
        DATA16
        DW        ??GenericApp_MessageMSGCB_7
        DATA
        DATA16
        DATA
        DATA16
        DW        ??GenericApp_MessageMSGCB_8
        CODE
//  913   {
//  914     case GENERICAPP_CLUSTERID:
//  915       rxMsgCount += 1;  // Count this message
??GenericApp_MessageMSGCB_2:
        MOV     DPTR,#rxMsgCount
        MOVX    A,@DPTR
        ADD     A,#0x1
        MOVX    @DPTR,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#0x0
        MOVX    @DPTR,A
//  916       HalLedSet ( HAL_LED_4, HAL_LED_MODE_BLINK );  // Blink an LED
        ; Setup parameters for call to function HalLedSet
        MOV     R2,#0x2
        MOV     R1,#0x8
        LCALL   `??HalLedSet::?relay`; Banked call to: HalLedSet
        MOV     A,R1
//  917 #if defined( LCD_SUPPORTED )
//  918       HalLcdWriteString( (char*)pkt->cmd.Data, HAL_LCD_LINE_1 );
        ; Setup parameters for call to function HalLcdWriteString
        MOV     R1,#0x1
        MOV     A,R6
        ADD     A,#0x22
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   `??HalLcdWriteString::?relay`; Banked call to: HalLcdWriteString
//  919       HalLcdWriteStringValue( "Rcvd:", rxMsgCount, 10, HAL_LCD_LINE_2 );
        ; Setup parameters for call to function HalLcdWriteStringValue
        MOV     ?V6,#0x3
        MOV     R0,#?V6
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 17)
        MOV     R1,#0xa
        MOV     DPTR,#rxMsgCount
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R5,A
        MOV     R2,#`?<Constant "Rcvd:">` & 0xff
        MOV     R3,#(`?<Constant "Rcvd:">` >> 8) & 0xff
        LCALL   `??HalLcdWriteStringValue::?relay`; Banked call to: HalLcdWriteStringValue
        MOV     A,#0x1
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 16)
//  920 #elif defined( WIN32 )
//  921       WPRINTSTR( pkt->cmd.Data );
//  922 #endif
//  923       break;
        LJMP    ??GenericApp_MessageMSGCB_1 & 0xFFFF
//  924 
//  925     case GENERICAPP_DATA_P2P_CLUSTERID:
//  926        CustomApp_AF_P2P_Data_Process(pkt);
??GenericApp_MessageMSGCB_3:
        ; Setup parameters for call to function CustomApp_AF_P2P_Data_Process
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        LCALL   `??CustomApp_AF_P2P_Data_Process::?relay`; Banked call to: CustomApp_AF_P2P_Data_Process
//  927 	break;
        LJMP    ??GenericApp_MessageMSGCB_1 & 0xFFFF
//  928 
//  929     case GENERICAPP_GROUP_CLUSTERID:
//  930        CustomApp_AF_Group_Data_Process(pkt);	 
??GenericApp_MessageMSGCB_4:
        ; Setup parameters for call to function CustomApp_AF_Group_Data_Process
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        LCALL   `??CustomApp_AF_Group_Data_Process::?relay`; Banked call to: CustomApp_AF_Group_Data_Process
//  931 	break;
        LJMP    ??GenericApp_MessageMSGCB_1 & 0xFFFF
//  932 
//  933     case GENERICAPP_BROADCAST_CLUSTERID:
//  934         msgid = pkt->cmd.Data[4] | pkt->cmd.Data[5] << 8;
??GenericApp_MessageMSGCB_6:
        MOV     A,R6
        ADD     A,#0x22
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     R3,#0x0
        MOV     A,R6
        ADD     A,#0x22
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     R1,#0x0
        CLR     A
        XCH     A,R0
        MOV     R1,A
        MOV     A,R2
        ORL     A,R0
        MOV     R0,A
        MOV     A,R3
        ORL     A,R1
        MOV     R1,A
        MOV     ?V0,R0
        MOV     ?V1,R1
//  935         switch ( msgid )	
        MOV     A,#0x1a
        XRL     A,?V0
        JNZ     ??GenericApp_MessageMSGCB_9
        MOV     A,#0x21
        XRL     A,?V1
??GenericApp_MessageMSGCB_9:
        JNZ     ??GenericApp_MessageMSGCB_10
//  936         {
//  937           case COORDINATOR_ONLINE_REQ:
//  938              CustomApp_Coordinator_Online();		  	
        ; Setup parameters for call to function CustomApp_Coordinator_Online
        LCALL   `??CustomApp_Coordinator_Online::?relay`; Banked call to: CustomApp_Coordinator_Online
//  939 	      break;
        SJMP    ??GenericApp_MessageMSGCB_11
//  940 		 
//  941 	   default:
//  942              CustomApp_AF_Broadcast_Data_Process(pkt);	   	
??GenericApp_MessageMSGCB_10:
        ; Setup parameters for call to function CustomApp_AF_Broadcast_Data_Process
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        LCALL   `??CustomApp_AF_Broadcast_Data_Process::?relay`; Banked call to: CustomApp_AF_Broadcast_Data_Process
//  943              break;
//  944         }
//  945 	break;		
??GenericApp_MessageMSGCB_11:
        LJMP    ??GenericApp_MessageMSGCB_1 & 0xFFFF
//  946 
//  947     case GENERICAPP_CMD_P2P_CLUSTERID:
//  948 #if defined( LCD_SUPPORTED )		
//  949         rxMsgCount += 1;	
??GenericApp_MessageMSGCB_5:
        MOV     DPTR,#rxMsgCount
        MOVX    A,@DPTR
        ADD     A,#0x1
        MOVX    @DPTR,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#0x0
        MOVX    @DPTR,A
//  950         HalLcdWriteStringValue( "cmd Rcvd:", rxMsgCount, 10, HAL_LCD_LINE_2 );
        ; Setup parameters for call to function HalLcdWriteStringValue
        MOV     ?V6,#0x3
        MOV     R0,#?V6
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 17)
        MOV     R1,#0xa
        MOV     DPTR,#rxMsgCount
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R5,A
        MOV     R2,#`?<Constant "cmd Rcvd:">` & 0xff
        MOV     R3,#(`?<Constant "cmd Rcvd:">` >> 8) & 0xff
        LCALL   `??HalLcdWriteStringValue::?relay`; Banked call to: HalLcdWriteStringValue
        MOV     A,#0x1
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 16)
//  951 #endif
//  952 
//  953         msgid = pkt->cmd.Data[0] | pkt->cmd.Data[1] << 8;
        MOV     A,R6
        ADD     A,#0x22
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     R3,#0x0
        MOV     A,R6
        ADD     A,#0x22
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     R1,#0x0
        CLR     A
        XCH     A,R0
        MOV     R1,A
        MOV     A,R2
        ORL     A,R0
        MOV     R0,A
        MOV     A,R3
        ORL     A,R1
        MOV     R1,A
        MOV     ?V0,R0
        MOV     ?V1,R1
//  954         switch ( msgid )
        MOV     A,#0x3a
        XRL     A,?V0
        JNZ     ??GenericApp_MessageMSGCB_12
        MOV     A,#0x10
        XRL     A,?V1
??GenericApp_MessageMSGCB_12:
        JNZ     ??GenericApp_MessageMSGCB_1
//  955         {
//  956           case PING_REQ_MSG:
//  957              CustomApp_process_ping((pingpkt_t *)(pkt->cmd.Data)); // update node timestamp
        ; Setup parameters for call to function CustomApp_process_ping
        MOV     A,R6
        ADD     A,#0x22
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   `??CustomApp_process_ping::?relay`; Banked call to: CustomApp_process_ping
//  958 	      break;
//  959 
//  960 #if( ZSTACK_DEVICE_BUILD != DEVICE_BUILD_COORDINATOR)		
//  961           case ROUTER_ONLINE_REQ:
//  962              CustomApp_Get_Flex_Devinfo();
//  963              break;
//  964 
//  965           case ROUTER_ONFFLINE_REQ:
//  966              Onboard_soft_reset();
//  967              break;
//  968 
//  969           case PING_RSP_MSG:   //chaokw ping
//  970              pingRspTime = osal_getClock();
//  971 #if defined( LCD_SUPPORTED )		
//  972              HalLcdWriteStringValue( "ping rsp:", pingRspTime, 16, HAL_LCD_LINE_2 );
//  973 #endif			 
//  974 	      break;
//  975 #endif			 
//  976 	
//  977 	   default:
//  978              break;
//  979          }	
//  980 	break;		
        SJMP    ??GenericApp_MessageMSGCB_1
//  981 
//  982 
//  983 	case GENERICAPP_P2P_PERMIT_JOIN_REQ_CLUSTERID:
//  984 	  	// gateway coordinator process flex router join from flex request
//  985 
//  986 #if defined( LCD_SUPPORTED )		
//  987         askWhiteListCount += 1;	
??GenericApp_MessageMSGCB_7:
        MOV     DPTR,#askWhiteListCount
        MOVX    A,@DPTR
        ADD     A,#0x1
        MOVX    @DPTR,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#0x0
        MOVX    @DPTR,A
//  988         HalLcdWriteStringValue( "ask WL:", askWhiteListCount, 10, HAL_LCD_LINE_2 );
        ; Setup parameters for call to function HalLcdWriteStringValue
        MOV     ?V6,#0x3
        MOV     R0,#?V6
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 17)
        MOV     R1,#0xa
        MOV     DPTR,#askWhiteListCount
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R5,A
        MOV     R2,#`?<Constant "ask WL:">` & 0xff
        MOV     R3,#(`?<Constant "ask WL:">` >> 8) & 0xff
        LCALL   `??HalLcdWriteStringValue::?relay`; Banked call to: HalLcdWriteStringValue
        MOV     A,#0x1
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 16)
//  989 #endif	  	
//  990 		GenericApp_Device_JoinRsp(pkt);
        ; Setup parameters for call to function GenericApp_Device_JoinRsp
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        LCALL   `??GenericApp_Device_JoinRsp::?relay`; Banked call to: GenericApp_Device_JoinRsp
        MOV     A,R1
//  991 		break;
        SJMP    ??GenericApp_MessageMSGCB_1
//  992 
//  993 	case GENERICAPP_P2P_PERMIT_JOIN_RSP_CLUSTERID:
//  994 	  	// flex router received join permit info from gateway coordinator
//  995 		GenericApp_Get_PermitJoin(pkt);
??GenericApp_MessageMSGCB_8:
        ; Setup parameters for call to function GenericApp_Get_PermitJoin
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        LCALL   `??GenericApp_Get_PermitJoin::?relay`; Banked call to: GenericApp_Get_PermitJoin
//  996 		break;
//  997 
//  998 		
//  999     default:
// 1000         break;
// 1001 
// 1002   }
// 1003 }
??GenericApp_MessageMSGCB_1:
        MOV     R7,#0x8
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock4
// 1004 
// 1005 /*********************************************************************
// 1006  * @fn      GenericApp_SendTheMessage
// 1007  *
// 1008  * @brief   Send "the" message.
// 1009  *
// 1010  * @param   none
// 1011  *
// 1012  * @return  none
// 1013  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1014 static void GenericApp_SendTheMessage( void )
GenericApp_SendTheMessage:
          CFI Block cfiBlock5 Using cfiCommon0
          CFI Function GenericApp_SendTheMessage
        CODE
// 1015 {
        FUNCALL GenericApp_SendTheMessage, osal_strlen
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 22, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 22, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_SendTheMessage, AF_DataRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 31, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 31, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        MOV     A,#-0xa
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 12
        MOV     A,#-0xc
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 22)
// 1016   char theMessageData[] = "Hello World";
        MOV     DPTR,#`?<Constant "Hello World">`
        MOV     R4,?XSP + 0
        MOV     R5,?XSP + 1
        MOV     A,#0xc
        LCALL   ?MOVE_LONG8_XDATA_XDATA
// 1017 
// 1018   if ( AF_DataRequest( &GenericApp_DstAddr, &GenericApp_epDesc,
// 1019                        GENERICAPP_CLUSTERID,
// 1020                        (byte)osal_strlen( theMessageData ) + 1,
// 1021                        (byte *)&theMessageData,
// 1022                        &GenericApp_TransID,
// 1023                        AF_DISCV_ROUTE, AF_DEFAULT_RADIUS ) == afStatus_SUCCESS )
        ; Setup parameters for call to function osal_strlen
        MOV     R2,?XSP + 0
        MOV     R3,?XSP + 1
        LCALL   `??osal_strlen::?relay`; Banked call to: osal_strlen
        MOV     ?V0,R2
        MOV     ?V1,R3
        MOV     R2,?V0
        MOV     R3,?V1
        ; Setup parameters for call to function AF_DataRequest
        MOV     ?V0,#0x1e
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 23)
        MOV     ?V0,#GenericApp_TransID & 0xff
        MOV     ?V1,#(GenericApp_TransID >> 8) & 0xff
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 25)
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP100_8
        MOV     ?V0,R0
        MOV     ?V1,R1
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 27)
        MOV     R3,#0x0
        MOV     A,R2
        ADD     A,#0x1
        MOV     ?V0,A
        CLR     A
        ADDC    A,R3
        MOV     ?V1,A
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 29)
        MOV     ?V0,#0x1
        MOV     ?V1,#0x0
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 31)
        MOV     R1,#0x0
        MOV     R4,#GenericApp_epDesc & 0xff
        MOV     R5,#(GenericApp_epDesc >> 8) & 0xff
        MOV     R2,#GenericApp_DstAddr & 0xff
        MOV     R3,#(GenericApp_DstAddr >> 8) & 0xff
        LCALL   `??AF_DataRequest::?relay`; Banked call to: AF_DataRequest
        MOV     A,#0x9
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 22)
        MOV     A,R1
// 1024   {
// 1025     // Successfully requested to be sent.
// 1026   }
// 1027   else
// 1028   {
// 1029     // Error occurred in request to send.
// 1030   }
// 1031 }
        MOV     A,#0xc
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 10)
        MOV     R7,#0x2
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock5
// 1032 
// 1033 #if defined( IAR_ARMCM3_LM )
// 1034 /*********************************************************************
// 1035  * @fn      GenericApp_ProcessRtosMessage
// 1036  *
// 1037  * @brief   Receive message from RTOS queue, send response back.
// 1038  *
// 1039  * @param   none
// 1040  *
// 1041  * @return  none
// 1042  */
// 1043 static void GenericApp_ProcessRtosMessage( void )
// 1044 {
// 1045   osalQueue_t inMsg;
// 1046 
// 1047   if ( osal_queue_receive( OsalQueue, &inMsg, 0 ) == pdPASS )
// 1048   {
// 1049     uint8 cmndId = inMsg.cmnd;
// 1050     uint32 counter = osal_build_uint32( inMsg.cbuf, 4 );
// 1051 
// 1052     switch ( cmndId )
// 1053     {
// 1054       case CMD_INCR:
// 1055         counter += 1;  /* Increment the incoming counter */
// 1056                        /* Intentionally fall through next case */
// 1057 
// 1058       case CMD_ECHO:
// 1059       {
// 1060         userQueue_t outMsg;
// 1061 
// 1062         outMsg.resp = RSP_CODE | cmndId;  /* Response ID */
// 1063         osal_buffer_uint32( outMsg.rbuf, counter );    /* Increment counter */
// 1064         osal_queue_send( UserQueue1, &outMsg, 0 );  /* Send back to UserTask */
// 1065         break;
// 1066       }
// 1067 
// 1068       default:
// 1069         break;  /* Ignore unknown command */
// 1070     }
// 1071   }
// 1072 }
// 1073 #endif
// 1074 
// 1075 
// 1076 
// 1077 /*********************************************************************
// 1078  */
// 1079 

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1080 nodeList_t *CustomApp_NodeRegister (afAddrType_t addr64, afAddrType_t addr16)
CustomApp_NodeRegister:
          CFI Block cfiBlock6 Using cfiCommon0
          CFI Function CustomApp_NodeRegister
        CODE
// 1081 {
        FUNCALL CustomApp_NodeRegister, CustomApp_NodeFindMacAddrList
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_NodeRegister, osal_mem_alloc
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V3
        MOV     A,#-0xc
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 12)
        ; Saved register size: 12
        ; Auto size: 0
// 1082     nodeList_t *nodeSearch;
// 1083 
// 1084     nodeSearch = CustomApp_NodeFindMacAddrList(addr64.addr.extAddr);  //chaokw issue
        ; Setup parameters for call to function CustomApp_NodeFindMacAddrList
        MOV     A,#0xc
        LCALL   ?XSTACK_DISP101_8
        LCALL   `??CustomApp_NodeFindMacAddrList::?relay`; Banked call to: CustomApp_NodeFindMacAddrList
        MOV     ?V2,R2
        MOV     ?V3,R3
        MOV     ?V0,?V2
        MOV     ?V1,?V3
// 1085 
// 1086     if (nodeSearch == NULL)
        MOV     A,?V0
        ORL     A,?V1
        JZ      $+5
        LJMP    ??CustomApp_NodeRegister_0 & 0xFFFF
// 1087     {
// 1088         nodeList_t *node = osal_mem_alloc(sizeof(nodeList_t));  
        ; Setup parameters for call to function osal_mem_alloc
        MOV     R2,#0x25
        MOV     R3,#0x0
        LCALL   `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
        MOV     ?V2,R2
        MOV     ?V3,R3
        MOV     R6,?V2
        MOV     R7,?V3
// 1089 
// 1090         if ( node == NULL )
        MOV     A,R6
        ORL     A,R7
        JNZ     ??CustomApp_NodeRegister_1
// 1091         {
// 1092             return NULL;
        MOV     R2,#0x0
        MOV     R3,#0x0
        LJMP    ??CustomApp_NodeRegister_2 & 0xFFFF
// 1093         }
// 1094 
// 1095         node->nextDesc = nodeList;
??CustomApp_NodeRegister_1:
        MOV     DPTR,#nodeList
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     DPL,R6
        MOV     DPH,R7
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
// 1096         nodeList = node;
        MOV     DPTR,#nodeList
        MOV     A,R6
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R7
        MOVX    @DPTR,A
// 1097         node->devAddr64 = addr64;
        MOV     A,#0xc
        LCALL   ?XSTACK_DISP0_8
        MOV     A,R6
        ADD     A,#0x2
        MOV     R4,A
        CLR     A
        ADDC    A,R7
        MOV     R5,A
        MOV     A,#0xc
        LCALL   ?MOVE_LONG8_XDATA_XDATA
// 1098         node->devAddr16 = addr16;
        MOV     A,#0x18
        LCALL   ?XSTACK_DISP0_8
        MOV     A,R6
        ADD     A,#0xe
        MOV     R4,A
        CLR     A
        ADDC    A,R7
        MOV     R5,A
        MOV     A,#0xc
        LCALL   ?MOVE_LONG8_XDATA_XDATA
// 1099         node->status= nodeconnected;
        MOV     A,R6
        ADD     A,#0x1a
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        MOV     A,#0x2
        MOVX    @DPTR,A
// 1100         node->sequence = 0;
        MOV     A,R6
        ADD     A,#0x1b
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        MOV     A,#0x0
        MOVX    @DPTR,A
// 1101         node->timestamp = 0;
        MOV     R2,#0x0
        MOV     R3,#0x0
        MOV     R4,#0x0
        MOV     R5,#0x0
        MOV     A,R6
        ADD     A,#0x1c
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        MOV     A,R2
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R3
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R4
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R5
        MOVX    @DPTR,A
// 1102         node->oldtimestamp =0;
        MOV     R2,#0x0
        MOV     R3,#0x0
        MOV     R4,#0x0
        MOV     R5,#0x0
        MOV     A,R6
        ADD     A,#0x20
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        MOV     A,R2
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R3
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R4
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R5
        MOVX    @DPTR,A
// 1103         node->timeoutcnt	=0;
        MOV     A,R6
        ADD     A,#0x24
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        MOV     A,#0x0
        MOVX    @DPTR,A
// 1104 
// 1105 	 return node;
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        SJMP    ??CustomApp_NodeRegister_2
// 1106     }
// 1107 
// 1108     return NULL;
??CustomApp_NodeRegister_0:
        MOV     R2,#0x0
        MOV     R3,#0x0
??CustomApp_NodeRegister_2:
        MOV     R7,#0x4
        LJMP    ?BANKED_LEAVE_XDATA
// 1109 }
          CFI EndBlock cfiBlock6
// 1110 
// 1111 
// 1112 /*********************************************************************
// 1113  * @fn      nodeDelete
// 1114  *
// 1115  * @brief   Delete an Application's EndPoint descriptor and frees the memory
// 1116  *
// 1117  * @param   EndPoint - Application Endpoint to delete
// 1118  *
// 1119  * @return  afStatus_SUCCESS - endpoint deleted
// 1120  *          afStatus_INVALID_PARAMETER - endpoint not found
// 1121  *          afStatus_FAILED - endpoint list empty
// 1122  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1123 nodeStatus_t CustomApp_NodeDelete ( uint16 devaddr )
CustomApp_NodeDelete:
          CFI Block cfiBlock7 Using cfiCommon0
          CFI Function CustomApp_NodeDelete
        CODE
// 1124 {
        FUNCALL CustomApp_NodeDelete, osal_mem_free
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_NodeDelete, osal_mem_free
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V3
        MOV     A,#-0xc
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 12)
        ; Saved register size: 12
        ; Auto size: 0
        MOV     ?V2,R2
        MOV     ?V3,R3
// 1125     nodeList_t *nodeCurrent;
// 1126     nodeList_t *nodePrevious;
// 1127 
// 1128     if (nodeList != NULL)
        MOV     DPTR,#nodeList
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R0
        ORL     A,R1
        JNZ     $+5
        LJMP    ??CustomApp_NodeDelete_0 & 0xFFFF
// 1129     {
// 1130         nodePrevious = nodeCurrent = nodeList;
        MOV     DPTR,#nodeList
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R0
        MOV     R6,A
        MOV     A,R1
        MOV     R7,A
        MOV     ?V0,R6
        MOV     ?V1,R7
// 1131         if (nodeCurrent->devAddr16.addr.shortAddr == devaddr )
        MOV     A,R6
        ADD     A,#0xe
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        MOVX    A,@DPTR
        XRL     A,?V2
        JNZ     ??CustomApp_NodeDelete_1
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,?V3
??CustomApp_NodeDelete_1:
        JNZ     ??CustomApp_NodeDelete_2
// 1132         {
// 1133             nodeList = nodeCurrent->nextDesc;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     DPTR,#nodeList
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
// 1134             osal_mem_free(nodeCurrent);
        ; Setup parameters for call to function osal_mem_free
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        LCALL   `??osal_mem_free::?relay`; Banked call to: osal_mem_free
// 1135             return (nodeStatus_SUCCESS);
        MOV     R1,#0x0
        SJMP    ??CustomApp_NodeDelete_3
// 1136         }
// 1137         else
// 1138         {
// 1139             for (nodeCurrent = nodePrevious->nextDesc; nodeCurrent != NULL; nodeCurrent = nodeCurrent->nextDesc )  
??CustomApp_NodeDelete_2:
        MOV     DPL,?V0
        MOV     DPH,?V1
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R0
        MOV     R6,A
        MOV     A,R1
        MOV     R7,A
??CustomApp_NodeDelete_4:
        MOV     A,R6
        ORL     A,R7
        JZ      ??CustomApp_NodeDelete_5
// 1140             {
// 1141                 if (nodeCurrent->devAddr16.addr.shortAddr== devaddr)
        MOV     A,R6
        ADD     A,#0xe
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        MOVX    A,@DPTR
        XRL     A,?V2
        JNZ     ??CustomApp_NodeDelete_6
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,?V3
??CustomApp_NodeDelete_6:
        JNZ     ??CustomApp_NodeDelete_7
// 1142                 {
// 1143                     nodePrevious->nextDesc = nodeCurrent->nextDesc;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     DPL,?V0
        MOV     DPH,?V1
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
// 1144                     osal_mem_free(nodeCurrent);
        ; Setup parameters for call to function osal_mem_free
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        LCALL   `??osal_mem_free::?relay`; Banked call to: osal_mem_free
// 1145                     return (nodeStatus_SUCCESS);
        MOV     R1,#0x0
        SJMP    ??CustomApp_NodeDelete_3
// 1146                 }
// 1147                 nodePrevious = nodeCurrent;  
??CustomApp_NodeDelete_7:
        MOV     ?V0,R6
        MOV     ?V1,R7
// 1148             }
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     R6,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R7,A
        SJMP    ??CustomApp_NodeDelete_4
// 1149         }
// 1150         return (nodeStatus_INVALID_PARAMETER);
??CustomApp_NodeDelete_5:
        MOV     R1,#0x2
        SJMP    ??CustomApp_NodeDelete_3
// 1151     }
// 1152     else
// 1153     {
// 1154         return (nodeStatus_FAILED);
??CustomApp_NodeDelete_0:
        MOV     R1,#0x1
??CustomApp_NodeDelete_3:
        MOV     R7,#0x4
        LJMP    ?BANKED_LEAVE_XDATA
// 1155     }
// 1156 }
          CFI EndBlock cfiBlock7
// 1157 
// 1158 
// 1159 /*********************************************************************
// 1160  * @fn      nodeFinddevaddrList
// 1161  *
// 1162  * @brief   Find the endpoint description entry from the endpoint
// 1163  *          number.
// 1164  *
// 1165  * @param   EndPoint - Application Endpoint to look for
// 1166  *
// 1167  * @return  the address to the endpoint/interface description entry
// 1168  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1169 nodeList_t *CustomApp_NodeFindNwkAddrList ( uint16 Addr16 )
CustomApp_NodeFindNwkAddrList:
          CFI Block cfiBlock8 Using cfiCommon0
          CFI Function CustomApp_NodeFindNwkAddrList
        CODE
// 1170 {
        PUSH    DPL
          CFI DPL0 Frame(CFA_SP, 4)
          CFI CFA_SP SP+-4
        PUSH    DPH
          CFI DPH0 Frame(CFA_SP, 5)
          CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
        MOV     A,R2
        MOV     R4,A
        MOV     A,R3
        MOV     R5,A
// 1171     nodeList_t *nodeSearch;
// 1172 
// 1173     for (nodeSearch = nodeList; (nodeSearch != NULL);
        MOV     DPTR,#nodeList
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R0
        MOV     R2,A
        MOV     A,R1
        MOV     R3,A
??CustomApp_NodeFindNwkAddrList_0:
        MOV     A,R2
        ORL     A,R3
        JZ      ??CustomApp_NodeFindNwkAddrList_1
// 1174          nodeSearch = nodeSearch->nextDesc)
// 1175     {
// 1176         if (nodeSearch->devAddr16.addr.shortAddr== Addr16)
        MOV     A,R2
        ADD     A,#0xe
        MOV     DPL,A
        CLR     A
        ADDC    A,R3
        MOV     DPH,A
        MOVX    A,@DPTR
        XRL     A,R4
        JNZ     ??CustomApp_NodeFindNwkAddrList_2
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,R5
??CustomApp_NodeFindNwkAddrList_2:
        JZ      ??CustomApp_NodeFindNwkAddrList_1
// 1177         {
// 1178             break;
// 1179         }
// 1180     }
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        SJMP    ??CustomApp_NodeFindNwkAddrList_0
// 1181     return nodeSearch;
??CustomApp_NodeFindNwkAddrList_1:
        POP     DPH
          CFI DPH0 SameValue
          CFI CFA_SP SP+-4
        POP     DPL
          CFI DPL0 SameValue
          CFI CFA_SP SP+-3
        LJMP    ?BRET
// 1182 }
          CFI EndBlock cfiBlock8
// 1183 
// 1184 

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1185 nodeList_t *CustomApp_NodeFindMacAddrList ( uint8* Addr64 )
CustomApp_NodeFindMacAddrList:
          CFI Block cfiBlock9 Using cfiCommon0
          CFI Function CustomApp_NodeFindMacAddrList
        CODE
// 1186 {
        FUNCALL CustomApp_NodeFindMacAddrList, sAddrExtCmp
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 10, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 10, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        MOV     A,#-0xa
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 0
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
// 1187     nodeList_t *nodeSearch;
// 1188 
// 1189     for (nodeSearch = nodeList; nodeSearch != NULL;
        MOV     DPTR,#nodeList
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     ?V0,R0
        MOV     ?V1,R1
??CustomApp_NodeFindMacAddrList_0:
        MOV     A,?V0
        ORL     A,?V1
        JZ      ??CustomApp_NodeFindMacAddrList_1
// 1190          nodeSearch = nodeSearch->nextDesc)
// 1191     {
// 1192         if ( osal_ExtAddrEqual( (uint8 *)(nodeSearch->devAddr64.addr.extAddr),
// 1193                                 (uint8 *)Addr64 ) == true )
        ; Setup parameters for call to function sAddrExtCmp
        MOV     A,R6
        MOV     R4,A
        MOV     A,R7
        MOV     R5,A
        MOV     A,?V0
        ADD     A,#0x2
        MOV     R2,A
        CLR     A
        ADDC    A,?V1
        MOV     R3,A
        LCALL   `??sAddrExtCmp::?relay`; Banked call to: sAddrExtCmp
        MOV     A,R1
        XRL     A,#0x1
        JZ      ??CustomApp_NodeFindMacAddrList_1
// 1194         {
// 1195             break;
// 1196         }
// 1197     }
        MOV     DPL,?V0
        MOV     DPH,?V1
        MOVX    A,@DPTR
        MOV     ?V0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V1,A
        SJMP    ??CustomApp_NodeFindMacAddrList_0
// 1198     return nodeSearch;
??CustomApp_NodeFindMacAddrList_1:
        MOV     R2,?V0
        MOV     R3,?V1
        MOV     R7,#0x2
        LJMP    ?BANKED_LEAVE_XDATA
// 1199 }
          CFI EndBlock cfiBlock9
// 1200 
// 1201 

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1202 void CustomApp_ping_request_init( void )
CustomApp_ping_request_init:
          CFI Block cfiBlock10 Using cfiCommon0
          CFI Function CustomApp_ping_request_init
        CODE
// 1203 {
        FUNCALL CustomApp_ping_request_init, osal_start_timerEx
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 4, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 4, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        PUSH    DPL
          CFI DPL0 Frame(CFA_SP, 4)
          CFI CFA_SP SP+-4
        PUSH    DPH
          CFI DPH0 Frame(CFA_SP, 5)
          CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
// 1204 	 osal_start_timerEx( GenericApp_TaskID, GENERICAPP_PING_MSG_EVT, PING_PERIOD );
        ; Setup parameters for call to function osal_start_timerEx
        MOV     DPTR,#__Constant_3a98
        LCALL   ?PUSH_XSTACK8_X_FOUR
          CFI CFA_XSP16 add(XSP16, 4)
        MOV     R2,#0x4
        MOV     R3,#0x0
        MOV     DPTR,#GenericApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 XSP16+0
        MOV     A,R1
// 1205 }
        POP     DPH
          CFI DPH0 SameValue
          CFI CFA_SP SP+-4
        POP     DPL
          CFI DPL0 SameValue
          CFI CFA_SP SP+-3
        LJMP    ?BRET
          CFI EndBlock cfiBlock10
// 1206 

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1207 void CustomApp_linkstatus_init( void )
CustomApp_linkstatus_init:
          CFI Block cfiBlock11 Using cfiCommon0
          CFI Function CustomApp_linkstatus_init
        CODE
// 1208 {
        FUNCALL CustomApp_linkstatus_init, osal_start_timerEx
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 4, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 4, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        PUSH    DPL
          CFI DPL0 Frame(CFA_SP, 4)
          CFI CFA_SP SP+-4
        PUSH    DPH
          CFI DPH0 Frame(CFA_SP, 5)
          CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
// 1209 	 osal_start_timerEx( GenericApp_TaskID, GENERICAPP_LINK_STATUS_EVT, LINKSTAT_PRRIOD );
        ; Setup parameters for call to function osal_start_timerEx
        MOV     DPTR,#__Constant_3a98
        LCALL   ?PUSH_XSTACK8_X_FOUR
          CFI CFA_XSP16 add(XSP16, 4)
        MOV     R2,#0x8
        MOV     R3,#0x0
        MOV     DPTR,#GenericApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 XSP16+0
        MOV     A,R1
// 1210 }
        POP     DPH
          CFI DPH0 SameValue
          CFI CFA_SP SP+-4
        POP     DPL
          CFI DPL0 SameValue
          CFI CFA_SP SP+-3
        LJMP    ?BRET
          CFI EndBlock cfiBlock11
// 1211 
// 1212 

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1213 void CustomApp_ping_timeout_check_init( void )   //chaokw ping
CustomApp_ping_timeout_check_init:
          CFI Block cfiBlock12 Using cfiCommon0
          CFI Function CustomApp_ping_timeout_check_init
        CODE
// 1214 {
        FUNCALL CustomApp_ping_timeout_check_init, osal_start_timerEx
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 4, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 4, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        PUSH    DPL
          CFI DPL0 Frame(CFA_SP, 4)
          CFI CFA_SP SP+-4
        PUSH    DPH
          CFI DPH0 Frame(CFA_SP, 5)
          CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
// 1215 	 osal_start_timerEx( GenericApp_TaskID, GENERICAPP_PING_TIMEOUT_CHECK_EVT, PING_TIMEOUT_CHECK );
        ; Setup parameters for call to function osal_start_timerEx
        MOV     DPTR,#__Constant_2710
        LCALL   ?PUSH_XSTACK8_X_FOUR
          CFI CFA_XSP16 add(XSP16, 4)
        MOV     R2,#-0x80
        MOV     R3,#0x0
        MOV     DPTR,#GenericApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 XSP16+0
        MOV     A,R1
// 1216 }
        POP     DPH
          CFI DPH0 SameValue
          CFI CFA_SP SP+-4
        POP     DPL
          CFI DPL0 SameValue
          CFI CFA_SP SP+-3
        LJMP    ?BRET
          CFI EndBlock cfiBlock12
// 1217 
// 1218 

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1219 void CustomApp_coordinater_broadcast_ping_init( void )   //chaokw ping
CustomApp_coordinater_broadcast_ping_init:
          CFI Block cfiBlock13 Using cfiCommon0
          CFI Function CustomApp_coordinater_broadcast_ping_init
        CODE
// 1220 {
        FUNCALL CustomApp_coordinater_broadcast_ping_init, osal_start_timerEx
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 4, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 4, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        PUSH    DPL
          CFI DPL0 Frame(CFA_SP, 4)
          CFI CFA_SP SP+-4
        PUSH    DPH
          CFI DPH0 Frame(CFA_SP, 5)
          CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
// 1221 	 osal_start_timerEx( GenericApp_TaskID, GENERICAPP_COORDINATER_BROADCAST_PING_EVT, PING_PERIOD );
        ; Setup parameters for call to function osal_start_timerEx
        MOV     DPTR,#__Constant_3a98
        LCALL   ?PUSH_XSTACK8_X_FOUR
          CFI CFA_XSP16 add(XSP16, 4)
        MOV     R2,#0x0
        MOV     R3,#0x1
        MOV     DPTR,#GenericApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 XSP16+0
        MOV     A,R1
// 1222 }
        POP     DPH
          CFI DPH0 SameValue
          CFI CFA_SP SP+-4
        POP     DPL
          CFI DPL0 SameValue
          CFI CFA_SP SP+-3
        LJMP    ?BRET
          CFI EndBlock cfiBlock13
// 1223 

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1224 void CustomApp_zigbee_start_ind (void)
CustomApp_zigbee_start_ind:
          CFI Block cfiBlock14 Using cfiCommon0
          CFI Function CustomApp_zigbee_start_ind
        CODE
// 1225 {
        FUNCALL CustomApp_zigbee_start_ind, NLME_GetExtAddr
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 28, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 28, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_zigbee_start_ind, osal_memcpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 31, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 31, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_zigbee_start_ind, MT_UartCalcFCS
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 28, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 28, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_zigbee_start_ind, HalUARTWrite
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 28, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 28, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V3
        REQUIRE ?V4
        REQUIRE ?V5
        REQUIRE ?V6
        MOV     A,#-0xf
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 15)
        ; Saved register size: 15
        ; Auto size: 13
        MOV     A,#-0xd
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 28)
// 1226 
// 1227     uint8 msg[13];
// 1228     uint8* ExtAddr;	
// 1229 
// 1230     msg[0] = MT_CPT_SOP;
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     A,#-0x2
        MOVX    @DPTR,A
// 1231     msg[1] = 0x08;
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x8
        MOVX    @DPTR,A
// 1232     msg[2] = MT_ZIGBEE_START_IND & 0xff; //0x80
        MOV     A,#0x2
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#-0x80
        MOVX    @DPTR,A
// 1233     msg[3] = (MT_ZIGBEE_START_IND  & 0xff00) >> 8;  //0x16
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x16
        MOVX    @DPTR,A
// 1234 
// 1235     ExtAddr = NLME_GetExtAddr();
        ; Setup parameters for call to function NLME_GetExtAddr
        LCALL   `??NLME_GetExtAddr::?relay`; Banked call to: NLME_GetExtAddr
        MOV     ?V2,R2
        MOV     ?V3,R3
        MOV     ?V0,?V2
        MOV     ?V1,?V3
// 1236     osal_memcpy(&msg[4], ExtAddr, 8);
        ; Setup parameters for call to function osal_memcpy
        MOV     ?V4,?V0
        MOV     ?V5,?V1
        MOV     ?V6,#0x0
        MOV     R0,#?V4
        LCALL   ?PUSH_XSTACK_I_THREE
          CFI CFA_XSP16 add(XSP16, 31)
        MOV     R4,#0x8
        MOV     R5,#0x0
        MOV     A,#0x7
        LCALL   ?XSTACK_DISP0_8
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
        MOV     A,#0x3
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 28)
// 1237 #ifdef OPEN_FCS 
// 1238     msg[12]=MT_UartCalcFCS (&msg[1], 11);
        ; Setup parameters for call to function MT_UartCalcFCS
        MOV     R1,#0xb
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   `??MT_UartCalcFCS::?relay`; Banked call to: MT_UartCalcFCS
        MOV     A,R1
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0xc
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1239 #else   
// 1240     msg[12] = DEFAULTFCS;
// 1241 #endif
// 1242 
// 1243     HalUARTWrite( 0, msg, 13 );
        ; Setup parameters for call to function HalUARTWrite
        MOV     R4,#0xd
        MOV     R5,#0x0
        MOV     R2,?XSP + 0
        MOV     R3,?XSP + 1
        MOV     R1,#0x0
        LCALL   `??HalUARTWrite::?relay`; Banked call to: HalUARTWrite
// 1244 }
        MOV     A,#0xd
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 15)
        MOV     R7,#0x7
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock14
// 1245 
// 1246 

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1247 void CustomApp_loadstatus_ind(void) 
CustomApp_loadstatus_ind:
          CFI Block cfiBlock15 Using cfiCommon0
          CFI Function CustomApp_loadstatus_ind
        CODE
// 1248 {
        FUNCALL CustomApp_loadstatus_ind, NLME_GetExtAddr
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 30, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_loadstatus_ind, osal_memcpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 33, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 33, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_loadstatus_ind, MT_UartCalcFCS
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 30, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_loadstatus_ind, HalUARTWrite
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 30, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V3
        REQUIRE ?V4
        REQUIRE ?V5
        REQUIRE ?V6
        MOV     A,#-0xf
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 15)
        ; Saved register size: 15
        ; Auto size: 15
        MOV     A,#-0xf
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 30)
// 1249     uint8 msg[15]; 
// 1250     uint8* ExtAddr;
// 1251     uint16 ShortAddr;	
// 1252     
// 1253     msg[0] = MT_CPT_SOP;
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     A,#-0x2
        MOVX    @DPTR,A
// 1254     msg[1] = 0x0A;  
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0xa
        MOVX    @DPTR,A
// 1255     msg[2] = MT_LOAD_STATUS_IND & 0xff;   //0x80
        MOV     A,#0x2
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#-0x80
        MOVX    @DPTR,A
// 1256     msg[3] = (MT_LOAD_STATUS_IND  & 0xff00) >> 8;  //0x17
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x17
        MOVX    @DPTR,A
// 1257     
// 1258     ExtAddr = NLME_GetExtAddr();
        ; Setup parameters for call to function NLME_GetExtAddr
        LCALL   `??NLME_GetExtAddr::?relay`; Banked call to: NLME_GetExtAddr
        MOV     ?V2,R2
        MOV     ?V3,R3
        MOV     ?V0,?V2
        MOV     ?V1,?V3
// 1259     osal_memcpy(&msg[4], ExtAddr, 8);
        ; Setup parameters for call to function osal_memcpy
        MOV     ?V4,?V0
        MOV     ?V5,?V1
        MOV     ?V6,#0x0
        MOV     R0,#?V4
        LCALL   ?PUSH_XSTACK_I_THREE
          CFI CFA_XSP16 add(XSP16, 33)
        MOV     R4,#0x8
        MOV     R5,#0x0
        MOV     A,#0x7
        LCALL   ?XSTACK_DISP0_8
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
        MOV     A,#0x3
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 30)
// 1260 
// 1261 #if( ZSTACK_DEVICE_BUILD == DEVICE_BUILD_COORDINATOR)
// 1262     ShortAddr =0x0000;
        MOV     R6,#0x0
        MOV     R7,#0x0
// 1263 #else
// 1264     ShortAddr = NLME_GetShortAddr();
// 1265 #endif
// 1266 
// 1267     msg[12] = ShortAddr & 0xff;
        MOV     A,R6
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0xc
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1268     msg[13] = (ShortAddr & 0xff00) >> 8;
        MOV     A,R6
        MOV     R0,A
        MOV     A,R7
        MOV     R1,A
        CLR     A
        XCH     A,R1
        MOV     R0,A
        MOV     A,R0
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0xd
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1269 
// 1270 #ifdef OPEN_FCS 	
// 1271     msg[14] = MT_UartCalcFCS(&msg[1], 13);          
        ; Setup parameters for call to function MT_UartCalcFCS
        MOV     R1,#0xd
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   `??MT_UartCalcFCS::?relay`; Banked call to: MT_UartCalcFCS
        MOV     A,R1
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0xe
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1272 #else   
// 1273     msg[14] = DEFAULTFCS;
// 1274 #endif
// 1275     HalUARTWrite( 0, msg, 15 );        
        ; Setup parameters for call to function HalUARTWrite
        MOV     R4,#0xf
        MOV     R5,#0x0
        MOV     R2,?XSP + 0
        MOV     R3,?XSP + 1
        MOV     R1,#0x0
        LCALL   `??HalUARTWrite::?relay`; Banked call to: HalUARTWrite
// 1276 
// 1277 }
        MOV     A,#0xf
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 15)
        MOV     R7,#0x7
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock15
// 1278 
// 1279 

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1280 void CustomApp_node_register_ind(afAddrType_t addr64, afAddrType_t addr16)
CustomApp_node_register_ind:
          CFI Block cfiBlock16 Using cfiCommon0
          CFI Function CustomApp_node_register_ind
        CODE
// 1281 {
        FUNCALL CustomApp_node_register_ind, osal_msg_allocate
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 41, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 41, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_node_register_ind, osal_memcpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 44, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 44, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_node_register_ind, osal_memcpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 44, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 44, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_node_register_ind, MT_UartCalcFCS
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 41, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 41, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_node_register_ind, osal_memcpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 44, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 44, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_node_register_ind, osal_memcpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 44, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 44, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_node_register_ind, MT_UartCalcFCS
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 41, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 41, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_node_register_ind, HalUARTWrite
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 41, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 41, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_node_register_ind, osal_msg_deallocate
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 41, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 41, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V2
        REQUIRE ?V3
        REQUIRE ?V4
        REQUIRE ?V5
        REQUIRE ?V6
        MOV     A,#-0xf
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 15)
        ; Saved register size: 15
        ; Auto size: 26
        MOV     A,#-0x1a
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 41)
// 1282     uint8 msg[25];
// 1283     transferpkt_t *rptmac;
// 1284     uint8 fcs;
// 1285 	
// 1286     rptmac = (transferpkt_t *)osal_msg_allocate( sizeof (transferpkt_t) + 8); 
        ; Setup parameters for call to function osal_msg_allocate
        MOV     R2,#0x14
        MOV     R3,#0x0
        LCALL   `??osal_msg_allocate::?relay`; Banked call to: osal_msg_allocate
        MOV     ?V2,R2
        MOV     ?V3,R3
        MOV     R6,?V2
        MOV     R7,?V3
// 1287     if (rptmac != NULL)
        MOV     A,R6
        ORL     A,R7
        JNZ     $+5
        LJMP    ??CustomApp_node_register_ind_0 & 0xFFFF
// 1288     {
// 1289         rptmac->msgid = REPORT_RPTMAC_MSG; 
        MOV     DPL,R6
        MOV     DPH,R7
        MOV     A,#0x2c
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x60
        MOVX    @DPTR,A
// 1290         rptmac->msgseq = 0x0001;
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        MOV     A,#0x1
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
// 1291         rptmac->srcid = 0x0000;
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
// 1292         osal_memcpy(&rptmac->destid, &addr16.addr.shortAddr, 2);
        ; Setup parameters for call to function osal_memcpy
        MOV     A,#0x35
        LCALL   ?XSTACK_DISP100_8
        MOV     ?V4,R0
        MOV     ?V5,R1
        MOV     ?V6,#0x0
        MOV     R0,#?V4
        LCALL   ?PUSH_XSTACK_I_THREE
          CFI CFA_XSP16 add(XSP16, 44)
        MOV     R4,#0x2
        MOV     R5,#0x0
        MOV     A,R6
        ADD     A,#0x4
        MOV     R2,A
        CLR     A
        ADDC    A,R7
        MOV     R3,A
        LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
        MOV     A,#0x3
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 41)
// 1293         rptmac->datalen = 8;
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOV     A,#0x8
        MOVX    @DPTR,A
// 1294 
// 1295 	 rptmac->data = (uint8 *)(rptmac + 1);
        MOV     A,R6
        ADD     A,#0xc
        MOV     R0,A
        CLR     A
        ADDC    A,R7
        MOV     R1,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
// 1296 	 osal_memcpy(&rptmac->data, &addr64.addr.extAddr, 8);
        ; Setup parameters for call to function osal_memcpy
        MOV     A,#0x29
        LCALL   ?XSTACK_DISP100_8
        MOV     ?V4,R0
        MOV     ?V5,R1
        MOV     ?V6,#0x0
        MOV     R0,#?V4
        LCALL   ?PUSH_XSTACK_I_THREE
          CFI CFA_XSP16 add(XSP16, 44)
        MOV     R4,#0x8
        MOV     R5,#0x0
        MOV     A,R6
        ADD     A,#0x9
        MOV     R2,A
        CLR     A
        ADDC    A,R7
        MOV     R3,A
        LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
        MOV     A,#0x3
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 41)
// 1297 	 fcs = MT_UartCalcFCS((uint8 *)rptmac, rptmac->datalen + PKT_HEAD_LEN); 
        ; Setup parameters for call to function MT_UartCalcFCS
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        ADD     A,#0x9
        MOV     R1,A
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        LCALL   `??MT_UartCalcFCS::?relay`; Banked call to: MT_UartCalcFCS
        MOV     A,R1
        MOV     ?V0,A
// 1298    
// 1299         msg[0] = MT_CPT_SOP;
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#-0x2
        MOVX    @DPTR,A
// 1300         msg[1] = rptmac->datalen + PKT_HEAD_LEN + 1 ;  //rptmac17 + fcs1 
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        ADD     A,#0xa
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0x2
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1301         msg[2] = MT_NODE_REG_IND & 0xff;
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#-0x80
        MOVX    @DPTR,A
// 1302         msg[3] = (MT_NODE_REG_IND & 0xff00) >> 8;
        MOV     A,#0x4
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x18
        MOVX    @DPTR,A
// 1303 
// 1304         osal_memcpy(&msg[4], (uint8 *)rptmac, PKT_HEAD_LEN);
        ; Setup parameters for call to function osal_memcpy
        MOV     ?V4,R6
        MOV     ?V5,R7
        MOV     ?V6,#0x0
        MOV     R0,#?V4
        LCALL   ?PUSH_XSTACK_I_THREE
          CFI CFA_XSP16 add(XSP16, 44)
        MOV     R4,#0x9
        MOV     R5,#0x0
        MOV     A,#0x8
        LCALL   ?XSTACK_DISP0_8
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
        MOV     A,#0x3
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 41)
// 1305         osal_memcpy(&msg[4 + PKT_HEAD_LEN], &rptmac->data, rptmac->datalen);
        ; Setup parameters for call to function osal_memcpy
        MOV     A,R6
        ADD     A,#0x9
        MOV     ?V4,A
        CLR     A
        ADDC    A,R7
        MOV     ?V5,A
        MOV     ?V6,#0x0
        MOV     R0,#?V4
        LCALL   ?PUSH_XSTACK_I_THREE
          CFI CFA_XSP16 add(XSP16, 44)
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R4,A
        MOV     R5,#0x0
        MOV     A,#0x11
        LCALL   ?XSTACK_DISP0_8
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
        MOV     A,#0x3
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 41)
// 1306         msg[4 + rptmac->datalen + PKT_HEAD_LEN] = fcs;
        MOV     A,?V0
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     R1,#0x0
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     A,DPL
        ADD     A,R0
        MOV     R0,A
        MOV     A,DPH
        ADDC    A,R1
        MOV     R1,A
        MOV     A,R0
        ADD     A,#0xd
        MOV     DPL,A
        CLR     A
        ADDC    A,R1
        MOV     DPH,A
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1307 
// 1308 #ifdef OPEN_FCS 			
// 1309 	 msg[4 + rptmac->datalen + PKT_HEAD_LEN + 1] = MT_UartCalcFCS(&msg[1], rptmac->datalen + PKT_HEAD_LEN + 1 + 3); //rptmac17 + fcs1 + cmd2 + len1
        ; Setup parameters for call to function MT_UartCalcFCS
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        ADD     A,#0xd
        MOV     R1,A
        MOV     A,#0x2
        LCALL   ?XSTACK_DISP0_8
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   `??MT_UartCalcFCS::?relay`; Banked call to: MT_UartCalcFCS
        MOV     A,R1
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     R1,#0x0
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     A,DPL
        ADD     A,R0
        MOV     R0,A
        MOV     A,DPH
        ADDC    A,R1
        MOV     R1,A
        MOV     A,R0
        ADD     A,#0xe
        MOV     DPL,A
        CLR     A
        ADDC    A,R1
        MOV     DPH,A
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1310 #else  
// 1311         msg[4 + rptmac->datalen + PKT_HEAD_LEN + 1] = DEFAULTFCS;
// 1312 #endif
// 1313         HalUARTWrite( 0, msg, rptmac->datalen + PKT_HEAD_LEN + 1 + 3 + 2 ); //0xfe+fcs  2B
        ; Setup parameters for call to function HalUARTWrite
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     R1,#0x0
        MOV     A,R0
        ADD     A,#0xf
        MOV     R4,A
        CLR     A
        ADDC    A,R1
        MOV     R5,A
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP101_8
        MOV     R1,#0x0
        LCALL   `??HalUARTWrite::?relay`; Banked call to: HalUARTWrite
// 1314 	 osal_msg_deallocate((uint8 *) rptmac );
        ; Setup parameters for call to function osal_msg_deallocate
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        LCALL   `??osal_msg_deallocate::?relay`; Banked call to: osal_msg_deallocate
        MOV     A,R1
// 1315 	 
// 1316     }
// 1317 
// 1318 }
??CustomApp_node_register_ind_0:
        MOV     A,#0x1a
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 15)
        MOV     R7,#0x7
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock16
// 1319 
// 1320 
// 1321 #if 0
// 1322 void CustomApp_node_deregister_ind(afAddrType_t addr64, afAddrType_t addr16)
// 1323 {
// 1324     uint8 msg[25];
// 1325     transferpkt_t *rptmac;
// 1326     uint8 fcs;
// 1327 	
// 1328     rptmac = (transferpkt_t *)osal_msg_allocate( sizeof (transferpkt_t) +  PKT_HEAD_LEN + 8 + 1); 
// 1329     if (rptmac != NULL)
// 1330     {
// 1331         rptmac->msgid = REPORT_RPTMAC_MSG; 
// 1332         rptmac->msgseq = 0x0001;
// 1333         rptmac->srcid = 0x0000;
// 1334         osal_memcpy(&rptmac->destid, &addr16.addr.shortAddr, 2);
// 1335         rptmac->datalen = 8;
// 1336 
// 1337 	 rptmac->data = (uint8 *)(rptmac + 1);
// 1338 	 osal_memcpy(&rptmac->data, &addr64.addr.extAddr, 8);
// 1339 	 fcs = MT_UartCalcFCS((uint8 *)rptmac, rptmac->datalen + PKT_HEAD_LEN); 
// 1340    
// 1341         msg[0] = MT_CPT_SOP;
// 1342         msg[1] = rptmac->datalen + PKT_HEAD_LEN + 1 ;  //rptmac17 + fcs1 
// 1343         msg[2] = MT_NODE_DEREG_IND & 0xff;
// 1344         msg[3] = (MT_NODE_DEREG_IND & 0xff00) >> 8;
// 1345 
// 1346         osal_memcpy(&msg[4], (uint8 *)rptmac, PKT_HEAD_LEN);
// 1347         osal_memcpy(&msg[4 + PKT_HEAD_LEN], &rptmac->data, rptmac->datalen);
// 1348         msg[4 + rptmac->datalen + PKT_HEAD_LEN] = fcs;
// 1349 
// 1350 #ifdef OPEN_FCS 			
// 1351 	 msg[4 + rptmac->datalen + PKT_HEAD_LEN + 1] = MT_UartCalcFCS(&msg[1], rptmac->datalen + PKT_HEAD_LEN + 1 + 3); //rptmac17 + fcs1 + cmd2 + len1
// 1352 #else  
// 1353         msg[4 + rptmac->datalen + PKT_HEAD_LEN + 1] = DEFAULTFCS;
// 1354 #endif
// 1355         HalUARTWrite( 0, msg, rptmac->datalen + PKT_HEAD_LEN + 1 + 3 + 2 ); //0xfe+fcs  2B
// 1356 	 osal_msg_deallocate((uint8 *) rptmac );
// 1357 	 
// 1358     }
// 1359 
// 1360 }
// 1361 #else
// 1362 

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1363 void CustomApp_node_deregister_ind(afAddrType_t addr64, afAddrType_t addr16)
CustomApp_node_deregister_ind:
          CFI Block cfiBlock17 Using cfiCommon0
          CFI Function CustomApp_node_deregister_ind
        CODE
// 1364 {
        FUNCALL CustomApp_node_deregister_ind, osal_memcpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 27, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 27, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_node_deregister_ind, MT_UartCalcFCS
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 24, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 24, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_node_deregister_ind, HalUARTWrite
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 24, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 24, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        MOV     A,#-0xb
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 11)
        ; Saved register size: 11
        ; Auto size: 13
        MOV     A,#-0xd
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 24)
// 1365         uint8 msg[13];
// 1366 		
// 1367         msg[0] = MT_CPT_SOP;
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     A,#-0x2
        MOVX    @DPTR,A
// 1368         msg[1] = Z_EXTADDR_LEN ;  
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x8
        MOVX    @DPTR,A
// 1369         msg[2] = MT_NODE_DEREG_IND & 0xff;
        MOV     A,#0x2
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#-0x80
        MOVX    @DPTR,A
// 1370         msg[3] = (MT_NODE_DEREG_IND & 0xff00) >> 8;
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x19
        MOVX    @DPTR,A
// 1371 		
// 1372         osal_memcpy(&msg[4], &addr64.addr.extAddr, Z_EXTADDR_LEN);
        ; Setup parameters for call to function osal_memcpy
        MOV     A,#0x18
        LCALL   ?XSTACK_DISP100_8
        MOV     ?V0,R0
        MOV     ?V1,R1
        MOV     ?V2,#0x0
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_THREE
          CFI CFA_XSP16 add(XSP16, 27)
        MOV     R4,#0x8
        MOV     R5,#0x0
        MOV     A,#0x7
        LCALL   ?XSTACK_DISP0_8
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
        MOV     A,#0x3
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 24)
// 1373 	 msg[4 + Z_EXTADDR_LEN] = MT_UartCalcFCS( &msg[1], MT_UART_HEAD_LEN + Z_EXTADDR_LEN );
        ; Setup parameters for call to function MT_UartCalcFCS
        MOV     R1,#0xb
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   `??MT_UartCalcFCS::?relay`; Banked call to: MT_UartCalcFCS
        MOV     A,R1
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0xc
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1374 
// 1375         HalUARTWrite( 0, msg, MT_UART_HEAD_LEN + Z_EXTADDR_LEN + 2 );
        ; Setup parameters for call to function HalUARTWrite
        MOV     R4,#0xd
        MOV     R5,#0x0
        MOV     R2,?XSP + 0
        MOV     R3,?XSP + 1
        MOV     R1,#0x0
        LCALL   `??HalUARTWrite::?relay`; Banked call to: HalUARTWrite
// 1376 }
        MOV     A,#0xd
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 11)
        MOV     R7,#0x3
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock17
// 1377 
// 1378 #endif
// 1379 
// 1380 

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
// 1381 uint8 cnt=0;
cnt:
        DS 1
        REQUIRE __INIT_XDATA_Z

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1382 void CustomApp_send_ping_req ( void )  
CustomApp_send_ping_req:
          CFI Block cfiBlock18 Using cfiCommon0
          CFI Function CustomApp_send_ping_req
        CODE
// 1383 {
        FUNCALL CustomApp_send_ping_req, osal_msg_allocate
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_send_ping_req, osal_memset
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_send_ping_req, NLME_GetShortAddr
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_send_ping_req, NLME_GetExtAddr
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_send_ping_req, osal_memcpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 19, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 19, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_send_ping_req, osal_getClock
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_send_ping_req, osal_memcpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 19, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 19, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_send_ping_req, AF_DataRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 25, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 25, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_send_ping_req, HalLcdWriteStringValue
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 17, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 17, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_send_ping_req, osal_msg_deallocate
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V3
        REQUIRE ?V4
        REQUIRE ?V5
        MOV     A,#-0xe
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 14)
        ; Saved register size: 14
        ; Auto size: 2
        MOV     A,#-0x2
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 16)
// 1384     uint16 parentShortAddr;
// 1385     uint8 len=sizeof(pingpkt_t);
        MOV     R6,#0x21
// 1386 
// 1387 #if 0 // chaokw debug
// 1388     uint8 send_buf[13];	
// 1389     uint32 timestamp;
// 1390 #endif //================	
// 1391 
// 1392     pingpkt_t *pkt = (pingpkt_t *)osal_msg_allocate( sizeof(pingpkt_t) );	
        ; Setup parameters for call to function osal_msg_allocate
        MOV     R2,#0x21
        MOV     R3,#0x0
        LCALL   `??osal_msg_allocate::?relay`; Banked call to: osal_msg_allocate
        MOV     ?V0,R2
        MOV     ?V1,R3
        MOV     ?V4,?V0
        MOV     ?V5,?V1
// 1393     osal_memset(pkt, 0, sizeof(pingpkt_t));
        ; Setup parameters for call to function osal_memset
        MOV     R4,#0x21
        MOV     R5,#0x0
        MOV     R1,#0x0
        MOV     R2,?V4
        MOV     R3,?V5
        LCALL   `??osal_memset::?relay`; Banked call to: osal_memset
// 1394 		
// 1395     if(pkt != NULL)
        MOV     A,?V4
        ORL     A,?V5
        JNZ     $+5
        LJMP    ??CustomApp_send_ping_req_0 & 0xFFFF
// 1396     {
// 1397 		pkt->msgid = PING_REQ_MSG;
        MOV     DPL,?V4
        MOV     DPH,?V5
        MOV     A,#0x3a
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x10
        MOVX    @DPTR,A
// 1398 		pkt->devAddr16.addr.shortAddr = NLME_GetShortAddr();
        ; Setup parameters for call to function NLME_GetShortAddr
        LCALL   `??NLME_GetShortAddr::?relay`; Banked call to: NLME_GetShortAddr
        MOV     A,?V4
        ADD     A,#0xe
        MOV     DPL,A
        CLR     A
        ADDC    A,?V5
        MOV     DPH,A
        MOV     A,R2
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R3
        MOVX    @DPTR,A
// 1399 		osal_memcpy(&pkt->devAddr64.addr.extAddr, NLME_GetExtAddr(), Z_EXTADDR_LEN);
        ; Setup parameters for call to function NLME_GetExtAddr
        LCALL   `??NLME_GetExtAddr::?relay`; Banked call to: NLME_GetExtAddr
        MOV     ?V2,R2
        MOV     ?V3,R3
        MOV     ?V0,?V2
        MOV     ?V1,?V3
        ; Setup parameters for call to function osal_memcpy
        MOV     ?V2,#0x0
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_THREE
          CFI CFA_XSP16 add(XSP16, 19)
        MOV     R4,#0x8
        MOV     R5,#0x0
        MOV     A,?V4
        ADD     A,#0x2
        MOV     R2,A
        CLR     A
        ADDC    A,?V5
        MOV     R3,A
        LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
        MOV     A,#0x3
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 16)
// 1400 		pkt->timestamp = osal_getClock();
        ; Setup parameters for call to function osal_getClock
        LCALL   `??osal_getClock::?relay`; Banked call to: osal_getClock
        MOV     A,R2
        MOV     R0,A
        MOV     A,R3
        MOV     R1,A
        MOV     A,R4
        MOV     R2,A
        MOV     A,R5
        MOV     R3,A
        MOV     A,?V4
        ADD     A,#0x1c
        MOV     DPL,A
        CLR     A
        ADDC    A,?V5
        MOV     DPH,A
        LCALL   ?XSTORE_R0123
// 1401 
// 1402 		osal_memcpy(&parentShortAddr, &_NIB.nwkCoordAddress, sizeof(uint16));
        ; Setup parameters for call to function osal_memcpy
        MOV     ?V0,#(_NIB + 23) & 0xff
        MOV     ?V1,#((_NIB + 23) >> 8) & 0xff
        MOV     ?V2,#0x0
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_THREE
          CFI CFA_XSP16 add(XSP16, 19)
        MOV     R4,#0x2
        MOV     R5,#0x0
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP101_8
        LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
        MOV     A,#0x3
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 16)
// 1403 		pkt->parentaddr = parentShortAddr;
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,?V4
        ADD     A,#0x1a
        MOV     DPL,A
        CLR     A
        ADDC    A,?V5
        MOV     DPH,A
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
// 1404 
// 1405 		cnt++;
        MOV     DPTR,#cnt
        MOVX    A,@DPTR
        ADD     A,#0x1
        MOVX    @DPTR,A
// 1406               pkt->seqnum = cnt;
        MOV     DPTR,#cnt
        MOVX    A,@DPTR
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,?V4
        ADD     A,#0x20
        MOV     DPL,A
        CLR     A
        ADDC    A,?V5
        MOV     DPH,A
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1407               if(cnt>254) cnt=2;  //chaokw
        MOV     DPTR,#cnt
        MOVX    A,@DPTR
        XRL     A,#0xff
        JNZ     ??CustomApp_send_ping_req_1
        MOV     DPTR,#cnt
        MOV     A,#0x2
        MOVX    @DPTR,A
// 1408        
// 1409 		if (afStatus_SUCCESS == AF_DataRequest( &SerialApp_TxAddr_p2p, &GenericApp_epDesc,
// 1410                        GENERICAPP_CMD_P2P_CLUSTERID,
// 1411                        len,   
// 1412                        (byte *)pkt,  
// 1413                        &GenericApp_TransID,
// 1414                        AF_DISCV_ROUTE, AF_DEFAULT_RADIUS ))   //AF_ACK_REQUEST
??CustomApp_send_ping_req_1:
        ; Setup parameters for call to function AF_DataRequest
        MOV     ?V0,#0x1e
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 17)
        MOV     ?V0,#GenericApp_TransID & 0xff
        MOV     ?V1,#(GenericApp_TransID >> 8) & 0xff
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 19)
        MOV     R0,#?V4
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 21)
        MOV     ?V0,R6
        MOV     ?V1,#0x0
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 23)
        MOV     ?V0,#0x4
        MOV     ?V1,#0x0
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 25)
        MOV     R1,#0x0
        MOV     R4,#GenericApp_epDesc & 0xff
        MOV     R5,#(GenericApp_epDesc >> 8) & 0xff
        MOV     R2,#SerialApp_TxAddr_p2p & 0xff
        MOV     R3,#(SerialApp_TxAddr_p2p >> 8) & 0xff
        LCALL   `??AF_DataRequest::?relay`; Banked call to: AF_DataRequest
        MOV     A,#0x9
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 16)
        MOV     A,R1
        JNZ     ??CustomApp_send_ping_req_2
// 1415               {
// 1416 #if defined( LCD_SUPPORTED )              
// 1417                   HalLcdWriteStringValue( (char*)"pingreqSend", pkt->seqnum, 10, HAL_LCD_LINE_3);
        ; Setup parameters for call to function HalLcdWriteStringValue
        MOV     ?V0,#0x5
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 17)
        MOV     R1,#0xa
        MOV     A,?V4
        ADD     A,#0x20
        MOV     DPL,A
        CLR     A
        ADDC    A,?V5
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R4,A
        MOV     R5,#0x0
        MOV     R2,#`?<Constant "pingreqSend">` & 0xff
        MOV     R3,#(`?<Constant "pingreqSend">` >> 8) & 0xff
        LCALL   `??HalLcdWriteStringValue::?relay`; Banked call to: HalLcdWriteStringValue
        MOV     A,#0x1
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 16)
// 1418 #endif
// 1419               }
// 1420 
// 1421 	       osal_msg_deallocate( (uint8 *)pkt );
??CustomApp_send_ping_req_2:
        ; Setup parameters for call to function osal_msg_deallocate
        MOV     R2,?V4
        MOV     R3,?V5
        LCALL   `??osal_msg_deallocate::?relay`; Banked call to: osal_msg_deallocate
        MOV     A,R1
// 1422 
// 1423     }
// 1424 
// 1425 
// 1426 #if 0   //chaokw  debug =================================================           
// 1427 	send_buf[0] = 0xFE;
// 1428 	send_buf[1 + MT_RPC_POS_LEN] = 0x08;
// 1429 	send_buf[1 + MT_RPC_POS_CMD0] = 0x0080 & 0xff;
// 1430 	send_buf[1 + MT_RPC_POS_CMD1] = (0x0080 >> 8) & 0xff;
// 1431 	
// 1432 	osal_memcpy( &send_buf[1 + MT_RPC_POS_DAT0], &pingRspTime, 4 );
// 1433 
// 1434 	timestamp = osal_getClock();
// 1435 	osal_memcpy( &send_buf[1 + MT_RPC_POS_DAT0 + 4], &timestamp, 4 );
// 1436 
// 1437 
// 1438 	send_buf[1 + MT_RPC_POS_DAT0 + SADDR_EXT_LEN] =
// 1439 	  MT_UartCalcFCS( &send_buf[1 + MT_RPC_POS_LEN], MT_UART_HEAD_LEN + SADDR_EXT_LEN );
// 1440 
// 1441 	HalUARTWrite( 0, send_buf, MT_UART_HEAD_LEN + SADDR_EXT_LEN + 2 );
// 1442 #endif //======================================================	
// 1443 	
// 1444     return;
??CustomApp_send_ping_req_0:
        MOV     A,#0x2
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 14)
        MOV     R7,#0x6
        LJMP    ?BANKED_LEAVE_XDATA
// 1445 }
          CFI EndBlock cfiBlock18
// 1446 
// 1447 
// 1448 

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1449 void CustomApp_send_ping_rsp ( uint16 Addr16 )  
CustomApp_send_ping_rsp:
          CFI Block cfiBlock19 Using cfiCommon0
          CFI Function CustomApp_send_ping_rsp
        CODE
// 1450 {
        FUNCALL CustomApp_send_ping_rsp, AF_DataRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 21, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 21, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_send_ping_rsp, HalLcdWriteStringValue
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 13, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 13, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        MOV     A,#-0xa
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 2
        MOV     A,#-0x2
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 12)
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
// 1451     uint16 msgid = PING_RSP_MSG;;
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     A,#0x3b
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x10
        MOVX    @DPTR,A
// 1452 
// 1453     SerialApp_TxAddr_p2p.addr.shortAddr = Addr16;
        MOV     DPTR,#SerialApp_TxAddr_p2p
        MOV     A,R6
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R7
        MOVX    @DPTR,A
// 1454     if (afStatus_SUCCESS == AF_DataRequest( &SerialApp_TxAddr_p2p, &GenericApp_epDesc,
// 1455                    GENERICAPP_CMD_P2P_CLUSTERID,
// 1456                    2,   
// 1457                    (byte *)&msgid,  
// 1458                    &GenericApp_TransID,
// 1459                    AF_DISCV_ROUTE, AF_DEFAULT_RADIUS ))
        ; Setup parameters for call to function AF_DataRequest
        MOV     ?V0,#0x1e
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 13)
        MOV     ?V0,#GenericApp_TransID & 0xff
        MOV     ?V1,#(GenericApp_TransID >> 8) & 0xff
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 15)
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP100_8
        MOV     ?V0,R0
        MOV     ?V1,R1
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 17)
        MOV     ?V0,#0x2
        MOV     ?V1,#0x0
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 19)
        MOV     ?V0,#0x4
        MOV     ?V1,#0x0
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 21)
        MOV     R1,#0x0
        MOV     R4,#GenericApp_epDesc & 0xff
        MOV     R5,#(GenericApp_epDesc >> 8) & 0xff
        MOV     R2,#SerialApp_TxAddr_p2p & 0xff
        MOV     R3,#(SerialApp_TxAddr_p2p >> 8) & 0xff
        LCALL   `??AF_DataRequest::?relay`; Banked call to: AF_DataRequest
        MOV     A,#0x9
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 12)
        MOV     A,R1
        JNZ     ??CustomApp_send_ping_rsp_0
// 1460     {
// 1461 #if defined( LCD_SUPPORTED )              
// 1462      HalLcdWriteStringValue( (char*)"pingrspSend", 1, 10, HAL_LCD_LINE_3);
        ; Setup parameters for call to function HalLcdWriteStringValue
        MOV     ?V0,#0x5
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 13)
        MOV     R1,#0xa
        MOV     R4,#0x1
        MOV     R5,#0x0
        MOV     R2,#`?<Constant "pingrspSend">` & 0xff
        MOV     R3,#(`?<Constant "pingrspSend">` >> 8) & 0xff
        LCALL   `??HalLcdWriteStringValue::?relay`; Banked call to: HalLcdWriteStringValue
        MOV     A,#0x1
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 12)
// 1463 #endif
// 1464     }
// 1465     return;
??CustomApp_send_ping_rsp_0:
        MOV     A,#0x2
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 10)
        MOV     R7,#0x2
        LJMP    ?BANKED_LEAVE_XDATA
// 1466 }
          CFI EndBlock cfiBlock19
// 1467 

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1468 void CustomApp_coordinater_broadcast_ping( void )  //chaokw ping
CustomApp_coordinater_broadcast_ping:
          CFI Block cfiBlock20 Using cfiCommon0
          CFI Function CustomApp_coordinater_broadcast_ping
        CODE
// 1469 {
        FUNCALL CustomApp_coordinater_broadcast_ping, AF_DataRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 21, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 21, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_coordinater_broadcast_ping, HalLcdWriteStringValue
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 13, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 13, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        MOV     A,#-0xa
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 2
        MOV     A,#-0x2
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 12)
// 1470     uint16 msgid = PING_RSP_MSG;;
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     A,#0x3b
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x10
        MOVX    @DPTR,A
// 1471 
// 1472     SerialApp_TxAddr_broadcast.addr.shortAddr = 0xffff;
        MOV     DPTR,#SerialApp_TxAddr_broadcast
        MOV     A,#-0x1
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#-0x1
        MOVX    @DPTR,A
// 1473     if (afStatus_SUCCESS == AF_DataRequest( &SerialApp_TxAddr_broadcast, &GenericApp_epDesc,
// 1474                    GENERICAPP_CMD_P2P_CLUSTERID,
// 1475                    2,   
// 1476                    (byte *)&msgid,  
// 1477                    &GenericApp_TransID,
// 1478                    AF_DISCV_ROUTE, AF_DEFAULT_RADIUS ))
        ; Setup parameters for call to function AF_DataRequest
        MOV     ?V0,#0x1e
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 13)
        MOV     ?V0,#GenericApp_TransID & 0xff
        MOV     ?V1,#(GenericApp_TransID >> 8) & 0xff
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 15)
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP100_8
        MOV     ?V0,R0
        MOV     ?V1,R1
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 17)
        MOV     ?V0,#0x2
        MOV     ?V1,#0x0
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 19)
        MOV     ?V0,#0x4
        MOV     ?V1,#0x0
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 21)
        MOV     R1,#0x0
        MOV     R4,#GenericApp_epDesc & 0xff
        MOV     R5,#(GenericApp_epDesc >> 8) & 0xff
        MOV     R2,#SerialApp_TxAddr_broadcast & 0xff
        MOV     R3,#(SerialApp_TxAddr_broadcast >> 8) & 0xff
        LCALL   `??AF_DataRequest::?relay`; Banked call to: AF_DataRequest
        MOV     A,#0x9
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 12)
        MOV     A,R1
        JNZ     ??CustomApp_coordinater_broadcast_ping_0
// 1479     {
// 1480 #if defined( LCD_SUPPORTED )              
// 1481      HalLcdWriteStringValue( (char*)"broadcast ping", 1, 10, HAL_LCD_LINE_3);
        ; Setup parameters for call to function HalLcdWriteStringValue
        MOV     ?V0,#0x5
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 13)
        MOV     R1,#0xa
        MOV     R4,#0x1
        MOV     R5,#0x0
        MOV     R2,#`?<Constant "broadcast ping">` & 0xff
        MOV     R3,#(`?<Constant "broadcast ping">` >> 8) & 0xff
        LCALL   `??HalLcdWriteStringValue::?relay`; Banked call to: HalLcdWriteStringValue
        MOV     A,#0x1
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 12)
// 1482 #endif
// 1483     }
// 1484     return;
??CustomApp_coordinater_broadcast_ping_0:
        MOV     A,#0x2
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 10)
        MOV     R7,#0x2
        LJMP    ?BANKED_LEAVE_XDATA
// 1485 
// 1486 }
          CFI EndBlock cfiBlock20
// 1487 

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1488 void CustomApp_linkstatus_updated ( void )
CustomApp_linkstatus_updated:
          CFI Block cfiBlock21 Using cfiCommon0
          CFI Function CustomApp_linkstatus_updated
        CODE
// 1489 {
        FUNCALL CustomApp_linkstatus_updated, CustomApp_NodeDelete
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_linkstatus_updated, CustomApp_node_deregister_ind
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 40, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 40, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_linkstatus_updated, HalLcdWriteStringValue
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 17, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 17, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_linkstatus_updated, HalLcdWriteStringValue
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 17, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 17, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_linkstatus_updated, CustomApp_get_connected_node_count
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_linkstatus_updated, HalLcdWriteStringValue
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 17, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 17, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_linkstatus_updated, Authlist_item_cnt
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_linkstatus_updated, NLME_InitNV
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_linkstatus_updated, NLME_SetDefaultNV
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_linkstatus_updated, ZDSecMgrClearNVKeyValues
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_linkstatus_updated, Onboard_soft_reset
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V4
        REQUIRE ?V5
        REQUIRE ?V6
        REQUIRE ?V7
        MOV     A,#-0x10
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 16)
        ; Saved register size: 16
        ; Auto size: 0
// 1490     nodeList_t *nodeSearch = NULL;
        MOV     R6,#0x0
        MOV     R7,#0x0
// 1491     uint8 status;
// 1492 //#if defined( LCD_SUPPORTED )    	
// 1493     uint8 activeCount;
// 1494 //#endif
// 1495 
// 1496 
// 1497 node_check:
// 1498     for (nodeSearch = nodeList; nodeSearch != NULL; nodeSearch = nodeSearch->nextDesc)
??CustomApp_linkstatus_updated_0:
        MOV     DPTR,#nodeList
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R0
        MOV     R6,A
        MOV     A,R1
        MOV     R7,A
??CustomApp_linkstatus_updated_1:
        MOV     A,R6
        ORL     A,R7
        JNZ     $+5
        LJMP    ??CustomApp_linkstatus_updated_2 & 0xFFFF
// 1499     {
// 1500         if (nodeSearch->status == nodedisconnected)
        MOV     A,R6
        ADD     A,#0x1a
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        MOVX    A,@DPTR
        XRL     A,#0x1
        JNZ     ??CustomApp_linkstatus_updated_3
// 1501         {
// 1502             //node delete
// 1503 	     status = CustomApp_NodeDelete( nodeSearch->devAddr16.addr.shortAddr );
        ; Setup parameters for call to function CustomApp_NodeDelete
        MOV     A,R6
        ADD     A,#0xe
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   `??CustomApp_NodeDelete::?relay`; Banked call to: CustomApp_NodeDelete
        MOV     A,R1
        MOV     ?V0,A
// 1504             if(nodeStatus_SUCCESS == status)
        MOV     A,?V0
        JNZ     ??CustomApp_linkstatus_updated_4
// 1505             {
// 1506                   CustomApp_node_deregister_ind(nodeSearch->devAddr64, nodeSearch->devAddr16);
        ; Setup parameters for call to function CustomApp_node_deregister_ind
        MOV     A,R6
        ADD     A,#0xe
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        MOV     A,#0xc
        LCALL   ?PUSH_XSTACK8_X
          CFI CFA_XSP16 add(XSP16, 28)
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        MOV     A,#0xc
        LCALL   ?PUSH_XSTACK8_X
          CFI CFA_XSP16 add(XSP16, 40)
        LCALL   `??CustomApp_node_deregister_ind::?relay`; Banked call to: CustomApp_node_deregister_ind
        MOV     A,#0x18
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 16)
// 1507                   //CustomApp_router_offline_req ( nodeSearch->devAddr16 );		//chaokw ping
// 1508 #if defined( LCD_SUPPORTED )				  
// 1509                   HalLcdWriteStringValue( (char*)"nodedelete OK:", status, 16, HAL_LCD_LINE_3 );
        ; Setup parameters for call to function HalLcdWriteStringValue
        MOV     ?V2,#0x5
        MOV     R0,#?V2
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 17)
        MOV     R1,#0x10
        MOV     R4,?V0
        MOV     R5,#0x0
        MOV     R2,#`?<Constant "nodedelete OK:">` & 0xff
        MOV     R3,#(`?<Constant "nodedelete OK:">` >> 8) & 0xff
        LCALL   `??HalLcdWriteStringValue::?relay`; Banked call to: HalLcdWriteStringValue
        MOV     A,#0x1
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 16)
        SJMP    ??CustomApp_linkstatus_updated_0
// 1510 #endif
// 1511             }
// 1512             else
// 1513             {
// 1514 #if defined( LCD_SUPPORTED )            
// 1515                   HalLcdWriteStringValue( (char*)"nodedelete NOK:", status, 16, HAL_LCD_LINE_3 );
??CustomApp_linkstatus_updated_4:
        ; Setup parameters for call to function HalLcdWriteStringValue
        MOV     ?V2,#0x5
        MOV     R0,#?V2
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 17)
        MOV     R1,#0x10
        MOV     R4,?V0
        MOV     R5,#0x0
        MOV     R2,#`?<Constant "nodedelete NOK:">` & 0xff
        MOV     R3,#(`?<Constant "nodedelete NOK:">` >> 8) & 0xff
        LCALL   `??HalLcdWriteStringValue::?relay`; Banked call to: HalLcdWriteStringValue
        MOV     A,#0x1
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 16)
// 1516 #endif
// 1517             }
// 1518             goto node_check;   //break;
        LJMP    ??CustomApp_linkstatus_updated_0 & 0xFFFF
// 1519         }
// 1520         else if (nodeSearch->status == nodeconnected)
??CustomApp_linkstatus_updated_3:
        MOV     A,R6
        ADD     A,#0x1a
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        MOVX    A,@DPTR
        XRL     A,#0x2
        JNZ     ??CustomApp_linkstatus_updated_5
// 1521         {		
// 1522              if(nodeSearch->timestamp == nodeSearch->oldtimestamp)
        MOV     A,R6
        ADD     A,#0x20
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        MOV     R0,#?V4
        LCALL   ?L_MOV_X
        MOV     A,R6
        ADD     A,#0x1c
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        MOV     R0,#?V4
        LCALL   ?L_EQ_X
        JNZ     ??CustomApp_linkstatus_updated_5
// 1523              {
// 1524                  nodeSearch->timeoutcnt ++;
        MOV     A,R6
        ADD     A,#0x24
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        MOVX    A,@DPTR
        ADD     A,#0x1
        MOVX    @DPTR,A
// 1525 	          if(nodeSearch->timeoutcnt < TIMEOUT_CNT)
        MOV     A,R6
        ADD     A,#0x24
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        MOVX    A,@DPTR
        CLR     C
        SUBB    A,#0x4
        JC      ??CustomApp_linkstatus_updated_2
// 1526                  {
// 1527                          break;
// 1528                  }
// 1529                  nodeSearch->timeoutcnt = 0;
        MOV     A,R6
        ADD     A,#0x24
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        MOV     A,#0x0
        MOVX    @DPTR,A
// 1530                  nodeSearch->status = nodedisconnected;
        MOV     A,R6
        ADD     A,#0x1a
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        MOV     A,#0x1
        MOVX    @DPTR,A
// 1531              }
// 1532         }
// 1533         nodeSearch->oldtimestamp = nodeSearch->timestamp;		
??CustomApp_linkstatus_updated_5:
        MOV     A,R6
        ADD     A,#0x1c
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        LCALL   ?XLOAD_R0123
        MOV     A,R6
        ADD     A,#0x20
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        LCALL   ?XSTORE_R0123
// 1534     }
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     R6,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R7,A
        LJMP    ??CustomApp_linkstatus_updated_1 & 0xFFFF
// 1535 
// 1536     activeCount = CustomApp_get_connected_node_count();
??CustomApp_linkstatus_updated_2:
        ; Setup parameters for call to function CustomApp_get_connected_node_count
        LCALL   `??CustomApp_get_connected_node_count::?relay`; Banked call to: CustomApp_get_connected_node_count
        MOV     A,R1
        MOV     ?V1,A
// 1537 #if defined( LCD_SUPPORTED )    	
// 1538     HalLcdWriteStringValue( (char*)"connected:", activeCount, 10, HAL_LCD_LINE_1 );
        ; Setup parameters for call to function HalLcdWriteStringValue
        MOV     ?V2,#0x1
        MOV     R0,#?V2
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 17)
        MOV     R1,#0xa
        MOV     R4,?V1
        MOV     R5,#0x0
        MOV     R2,#`?<Constant "connected:">` & 0xff
        MOV     R3,#(`?<Constant "connected:">` >> 8) & 0xff
        LCALL   `??HalLcdWriteStringValue::?relay`; Banked call to: HalLcdWriteStringValue
        MOV     A,#0x1
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 16)
// 1539 #endif
// 1540 
// 1541 
// 1542 #if 1
// 1543     //exception: panid conflict 
// 1544     if(activeCount > Authlist_item_cnt())
        ; Setup parameters for call to function Authlist_item_cnt
        LCALL   `??Authlist_item_cnt::?relay`; Banked call to: Authlist_item_cnt
        MOV     A,R1
        CLR     C
        SUBB    A,?V1
        JNC     ??CustomApp_linkstatus_updated_6
// 1545     {
// 1546 #if defined ( NV_RESTORE )		
// 1547         NLME_InitNV();
        ; Setup parameters for call to function NLME_InitNV
        LCALL   `??NLME_InitNV::?relay`; Banked call to: NLME_InitNV
        MOV     A,R1
// 1548         NLME_SetDefaultNV();
        ; Setup parameters for call to function NLME_SetDefaultNV
        LCALL   `??NLME_SetDefaultNV::?relay`; Banked call to: NLME_SetDefaultNV
// 1549         ZDSecMgrClearNVKeyValues();
        ; Setup parameters for call to function ZDSecMgrClearNVKeyValues
        LCALL   `??ZDSecMgrClearNVKeyValues::?relay`; Banked call to: ZDSecMgrClearNVKeyValues
// 1550 #endif	  
// 1551         Onboard_soft_reset();
        ; Setup parameters for call to function Onboard_soft_reset
        LCALL   Onboard_soft_reset & 0xFFFF
// 1552     }
// 1553 #endif
// 1554 
// 1555 
// 1556     return;
??CustomApp_linkstatus_updated_6:
        MOV     R7,#0x8
        LJMP    ?BANKED_LEAVE_XDATA
// 1557 }
          CFI EndBlock cfiBlock21
// 1558 
// 1559 

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1560 void  CustomApp_process_ping( pingpkt_t *pkt )
CustomApp_process_ping:
          CFI Block cfiBlock22 Using cfiCommon0
          CFI Function CustomApp_process_ping
        CODE
// 1561 {
        FUNCALL CustomApp_process_ping, CustomApp_NodeFindNwkAddrList
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_process_ping, CustomApp_node_register_ind
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 38, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 38, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_process_ping, CustomApp_NodeRegister
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 38, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 38, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_process_ping, CustomApp_node_register_ind
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 38, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 38, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_process_ping, CustomApp_router_online_req
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 26, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 26, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_process_ping, CustomApp_router_online_req
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 26, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 26, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_process_ping, HalLcdWriteStringValue
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 15, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 15, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL CustomApp_process_ping, CustomApp_send_ping_rsp
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V3
        REQUIRE ?V4
        REQUIRE ?V5
        MOV     A,#-0xe
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 14)
        ; Saved register size: 14
        ; Auto size: 0
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
// 1562         nodeList_t *nodeSearch;
// 1563 	 nodeList_t *pnode;
// 1564         nodeSearch = CustomApp_NodeFindNwkAddrList(pkt->devAddr16.addr.shortAddr);
        ; Setup parameters for call to function CustomApp_NodeFindNwkAddrList
        MOV     A,R6
        ADD     A,#0xe
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   `??CustomApp_NodeFindNwkAddrList::?relay`; Banked call to: CustomApp_NodeFindNwkAddrList
        MOV     ?V4,R2
        MOV     ?V5,R3
        MOV     ?V0,?V4
        MOV     ?V1,?V5
// 1565         if (nodeSearch!=NULL)
        MOV     A,?V0
        ORL     A,?V1
        JZ      ??CustomApp_process_ping_0
// 1566         {
// 1567            if(nodeSearch->status == nodeconnected)
        MOV     A,?V0
        ADD     A,#0x1a
        MOV     DPL,A
        CLR     A
        ADDC    A,?V1
        MOV     DPH,A
        MOVX    A,@DPTR
        XRL     A,#0x2
        JZ      $+5
        LJMP    ??CustomApp_process_ping_1 & 0xFFFF
// 1568            {
// 1569 		   nodeSearch->timestamp = pkt->timestamp;
        MOV     A,R6
        ADD     A,#0x1c
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        LCALL   ?XLOAD_R0123
        MOV     A,?V0
        ADD     A,#0x1c
        MOV     DPL,A
        CLR     A
        ADDC    A,?V1
        MOV     DPH,A
        LCALL   ?XSTORE_R0123
// 1570 		   if (pkt->seqnum <= 2)
        MOV     A,R6
        ADD     A,#0x20
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        MOVX    A,@DPTR
        CLR     C
        SUBB    A,#0x3
        JC      $+5
        LJMP    ??CustomApp_process_ping_1 & 0xFFFF
// 1571 		   CustomApp_node_register_ind(pkt->devAddr64, pkt->devAddr16);
        ; Setup parameters for call to function CustomApp_node_register_ind
        MOV     A,R6
        ADD     A,#0xe
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        MOV     A,#0xc
        LCALL   ?PUSH_XSTACK8_X
          CFI CFA_XSP16 add(XSP16, 26)
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        MOV     A,#0xc
        LCALL   ?PUSH_XSTACK8_X
          CFI CFA_XSP16 add(XSP16, 38)
        LCALL   `??CustomApp_node_register_ind::?relay`; Banked call to: CustomApp_node_register_ind
        MOV     A,#0x18
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 14)
        LJMP    ??CustomApp_process_ping_1 & 0xFFFF
// 1572            }
// 1573         }
// 1574 	 else
// 1575 	 {
// 1576             pnode=CustomApp_NodeRegister(pkt->devAddr64, pkt->devAddr16);
??CustomApp_process_ping_0:
        ; Setup parameters for call to function CustomApp_NodeRegister
        MOV     A,R6
        ADD     A,#0xe
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        MOV     A,#0xc
        LCALL   ?PUSH_XSTACK8_X
          CFI CFA_XSP16 add(XSP16, 26)
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        MOV     A,#0xc
        LCALL   ?PUSH_XSTACK8_X
          CFI CFA_XSP16 add(XSP16, 38)
        LCALL   `??CustomApp_NodeRegister::?relay`; Banked call to: CustomApp_NodeRegister
        MOV     A,#0x18
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 14)
        MOV     ?V4,R2
        MOV     ?V5,R3
        MOV     ?V2,?V4
        MOV     ?V3,?V5
// 1577             if(pnode!=NULL)
        MOV     A,?V2
        ORL     A,?V3
        JZ      ??CustomApp_process_ping_1
// 1578             {
// 1579                  CustomApp_node_register_ind(pkt->devAddr64, pkt->devAddr16);	//0x18
        ; Setup parameters for call to function CustomApp_node_register_ind
        MOV     A,R6
        ADD     A,#0xe
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        MOV     A,#0xc
        LCALL   ?PUSH_XSTACK8_X
          CFI CFA_XSP16 add(XSP16, 26)
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        MOV     A,#0xc
        LCALL   ?PUSH_XSTACK8_X
          CFI CFA_XSP16 add(XSP16, 38)
        LCALL   `??CustomApp_node_register_ind::?relay`; Banked call to: CustomApp_node_register_ind
        MOV     A,#0x18
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 14)
// 1580                  CustomApp_router_online_req(pkt->devAddr16);
        ; Setup parameters for call to function CustomApp_router_online_req
        MOV     A,R6
        ADD     A,#0xe
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        MOV     A,#0xc
        LCALL   ?PUSH_XSTACK8_X
          CFI CFA_XSP16 add(XSP16, 26)
        LCALL   `??CustomApp_router_online_req::?relay`; Banked call to: CustomApp_router_online_req
        MOV     A,#0xc
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 14)
        MOV     A,R1
// 1581 #if 0				 
// 1582                  osal_start_timerEx( GenericApp_TaskID,
// 1583 					GENERICAPP_ROUTER_ONLINE_EVT,
// 1584 					5000); 		
// 1585 #endif
// 1586                  CustomApp_router_online_req(pkt->devAddr16);
        ; Setup parameters for call to function CustomApp_router_online_req
        MOV     A,R6
        ADD     A,#0xe
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        MOV     A,#0xc
        LCALL   ?PUSH_XSTACK8_X
          CFI CFA_XSP16 add(XSP16, 26)
        LCALL   `??CustomApp_router_online_req::?relay`; Banked call to: CustomApp_router_online_req
        MOV     A,#0xc
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 14)
        MOV     A,R1
// 1587 #if defined( LCD_SUPPORTED )
// 1588                  HalLcdWriteStringValue( (char*)"nodregOK:", pkt->devAddr16.addr.shortAddr, 16, HAL_LCD_LINE_2 );  
        ; Setup parameters for call to function HalLcdWriteStringValue
        MOV     ?V4,#0x3
        MOV     R0,#?V4
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 15)
        MOV     R1,#0x10
        MOV     A,R6
        ADD     A,#0xe
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R5,A
        MOV     R2,#`?<Constant "nodregOK:">` & 0xff
        MOV     R3,#(`?<Constant "nodregOK:">` >> 8) & 0xff
        LCALL   `??HalLcdWriteStringValue::?relay`; Banked call to: HalLcdWriteStringValue
        MOV     A,#0x1
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 14)
// 1589 #endif
// 1590             }	  
// 1591 	 }
// 1592 	 nodeSearch->oldtimestamp = nodeSearch->timestamp;  //chaokw ping
??CustomApp_process_ping_1:
        MOV     A,?V0
        ADD     A,#0x1c
        MOV     DPL,A
        CLR     A
        ADDC    A,?V1
        MOV     DPH,A
        LCALL   ?XLOAD_R0123
        MOV     A,?V0
        ADD     A,#0x20
        MOV     DPL,A
        CLR     A
        ADDC    A,?V1
        MOV     DPH,A
        LCALL   ?XSTORE_R0123
// 1593 	 CustomApp_send_ping_rsp(pkt->devAddr16.addr.shortAddr);  //chaokw ping
        ; Setup parameters for call to function CustomApp_send_ping_rsp
        MOV     A,R6
        ADD     A,#0xe
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   `??CustomApp_send_ping_rsp::?relay`; Banked call to: CustomApp_send_ping_rsp
// 1594 	 
// 1595 }
        MOV     R7,#0x6
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock22
// 1596 
// 1597 
// 1598 #if( ZSTACK_DEVICE_BUILD != DEVICE_BUILD_COORDINATOR)	
// 1599 void CustomApp_ping_timeout_check ( void )
// 1600 {
// 1601     uint32 timestamp = osal_getClock();
// 1602 #if 0	
// 1603 #if defined( LCD_SUPPORTED )
// 1604     HalLcdWriteStringValue( (char*)"ping timeout:", (timestamp - pingRspTime), 16, HAL_LCD_LINE_3 );  
// 1605 #endif	
// 1606 #endif
// 1607     if ( abs(timestamp - pingRspTime) >= 60 ) 
// 1608         Onboard_soft_reset();	
// 1609 }
// 1610 #endif
// 1611 

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1612 uint8 CustomApp_get_connected_node_count( void )
CustomApp_get_connected_node_count:
          CFI Block cfiBlock23 Using cfiCommon0
          CFI Function CustomApp_get_connected_node_count
        CODE
// 1613 {
        PUSH    DPL
          CFI DPL0 Frame(CFA_SP, 4)
          CFI CFA_SP SP+-4
        PUSH    DPH
          CFI DPH0 Frame(CFA_SP, 5)
          CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
// 1614 	uint8 activeCount = 0;
        MOV     R1,#0x0
// 1615 	nodeList_t *nodeSearch;
// 1616 
// 1617        for (nodeSearch = nodeList; (nodeSearch != NULL); nodeSearch = nodeSearch->nextDesc)
        MOV     DPTR,#nodeList
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R5,A
        MOV     A,R4
        MOV     R2,A
        MOV     A,R5
        MOV     R3,A
??CustomApp_get_connected_node_count_0:
        MOV     A,R2
        ORL     A,R3
        JZ      ??CustomApp_get_connected_node_count_1
// 1618        {
// 1619         if (nodeSearch->status == nodeconnected)
        MOV     A,R2
        ADD     A,#0x1a
        MOV     DPL,A
        CLR     A
        ADDC    A,R3
        MOV     DPH,A
        MOVX    A,@DPTR
        XRL     A,#0x2
        JNZ     ??CustomApp_get_connected_node_count_2
// 1620         {
// 1621             activeCount ++;
        INC     R1
// 1622         }
// 1623        }
??CustomApp_get_connected_node_count_2:
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        SJMP    ??CustomApp_get_connected_node_count_0
// 1624        return activeCount;
??CustomApp_get_connected_node_count_1:
        POP     DPH
          CFI DPH0 SameValue
          CFI CFA_SP SP+-4
        POP     DPL
          CFI DPL0 SameValue
          CFI CFA_SP SP+-3
        LJMP    ?BRET
// 1625 }
          CFI EndBlock cfiBlock23
// 1626 
// 1627 

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1628 bool GenericApp_Device_JoinRsp(afIncomingMSGPacket_t *pkt)
GenericApp_Device_JoinRsp:
          CFI Block cfiBlock24 Using cfiCommon0
          CFI Function GenericApp_Device_JoinRsp
        CODE
// 1629 {
        FUNCALL GenericApp_Device_JoinRsp, osal_memcpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 129, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 129, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_Device_JoinRsp, osal_msg_allocate
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 126, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 126, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_Device_JoinRsp, NLME_GetShortAddr
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 126, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 126, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_Device_JoinRsp, Authlist_verify_device
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 127, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 127, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_Device_JoinRsp, osal_memset
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 126, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 126, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_Device_JoinRsp, osal_memcpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 129, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 129, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_Device_JoinRsp, osal_memcpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 129, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 129, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_Device_JoinRsp, osal_memcpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 129, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 129, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_Device_JoinRsp, MT_UartCalcFCS
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 126, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 126, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_Device_JoinRsp, AF_DataRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 135, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 135, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_Device_JoinRsp, osal_msg_deallocate
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 126, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 126, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V3
        REQUIRE ?V4
        REQUIRE ?V5
        REQUIRE ?V6
        REQUIRE ?V8
        REQUIRE ?V9
        MOV     A,#-0x12
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V9 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V8 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-17)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-18)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 18)
        ; Saved register size: 18
        ; Auto size: 108
        MOV     A,#-0x6c
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 126)
        MOV     ?V8,R2
        MOV     ?V9,R3
// 1630 	transferpkt_t *protocol_pack;
// 1631 	uint16 clusterid;
// 1632 	uint8 buf[100];
// 1633 	bool ret = FALSE;
        MOV     ?V2,#0x0
// 1634 	uint8 extaddr[SADDR_EXT_LEN] = {0};
        MOV     DPTR,#`?<Constant {0, 0, 0, 0, 0, 0, 0, 0}>`
        MOV     R4,?XSP + 0
        MOV     R5,?XSP + 1
        MOV     A,#0x8
        LCALL   ?MOVE_LONG8_XDATA_XDATA
// 1635 
// 1636 	osal_memcpy(extaddr, pkt->cmd.Data + PKT_HEAD_LEN , SADDR_EXT_LEN);
        ; Setup parameters for call to function osal_memcpy
        MOV     A,?V8
        ADD     A,#0x22
        MOV     DPL,A
        CLR     A
        ADDC    A,?V9
        MOV     DPH,A
        MOVX    A,@DPTR
        ADD     A,#0x9
        MOV     ?V4,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#0x0
        MOV     ?V5,A
        MOV     ?V6,#0x0
        MOV     R0,#?V4
        LCALL   ?PUSH_XSTACK_I_THREE
          CFI CFA_XSP16 add(XSP16, 129)
        MOV     R4,#0x8
        MOV     R5,#0x0
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP101_8
        LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
        MOV     A,#0x3
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 126)
// 1637 
// 1638 	protocol_pack = (transferpkt_t *)osal_msg_allocate( sizeof( transferpkt_t ) + SADDR_EXT_LEN + 1);
        ; Setup parameters for call to function osal_msg_allocate
        MOV     R2,#0x15
        MOV     R3,#0x0
        LCALL   `??osal_msg_allocate::?relay`; Banked call to: osal_msg_allocate
        MOV     ?V4,R2
        MOV     ?V5,R3
        MOV     R6,?V4
        MOV     R7,?V5
// 1639 	protocol_pack->msgid = PROT_JOIN_RSP_MSG;
        MOV     DPL,R6
        MOV     DPH,R7
        MOV     A,#0x4b
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x30
        MOVX    @DPTR,A
// 1640 	protocol_pack->msgseq = 0x0001;
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        MOV     A,#0x1
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
// 1641 	protocol_pack->destid = (pkt->cmd.Data[7] << 8) | pkt->cmd.Data[6];
        MOV     A,?V8
        ADD     A,#0x22
        MOV     DPL,A
        CLR     A
        ADDC    A,?V9
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        XCH     A,R0
        ADD     A,#0x7
        MOV     DPL,A
        XCH     A,R0
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     R3,#0x0
        CLR     A
        XCH     A,R2
        MOV     R3,A
        MOV     A,?V8
        ADD     A,#0x22
        MOV     DPL,A
        CLR     A
        ADDC    A,?V9
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        XCH     A,R0
        ADD     A,#0x6
        MOV     DPL,A
        XCH     A,R0
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     R1,#0x0
        MOV     A,R2
        ORL     A,R0
        MOV     R0,A
        MOV     A,R3
        ORL     A,R1
        MOV     R1,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
// 1642 	protocol_pack->srcid = NLME_GetShortAddr();
        ; Setup parameters for call to function NLME_GetShortAddr
        LCALL   `??NLME_GetShortAddr::?relay`; Banked call to: NLME_GetShortAddr
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOV     A,R2
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R3
        MOVX    @DPTR,A
// 1643 	protocol_pack->datalen = SADDR_EXT_LEN;
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOV     A,#0x8
        MOVX    @DPTR,A
// 1644 
// 1645 	if (!Authlist_verify_device(0x0000, extaddr, 0, 0))
        ; Setup parameters for call to function Authlist_verify_device
        MOV     ?V3,#0x0
        MOV     R0,#?V3
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 127)
        MOV     R1,#0x0
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP102_8
        MOV     R2,#0x0
        MOV     R3,#0x0
        LCALL   `??Authlist_verify_device::?relay`; Banked call to: Authlist_verify_device
        MOV     A,#0x1
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 126)
        MOV     A,R1
        JNZ     ??GenericApp_Device_JoinRsp_0
// 1646           osal_memset(extaddr, 0, SADDR_EXT_LEN);
        ; Setup parameters for call to function osal_memset
        MOV     R4,#0x8
        MOV     R5,#0x0
        MOV     R1,#0x0
        MOV     R2,?XSP + 0
        MOV     R3,?XSP + 1
        LCALL   `??osal_memset::?relay`; Banked call to: osal_memset
// 1647 
// 1648 	protocol_pack->data = (uint8 *)(protocol_pack + 1);
??GenericApp_Device_JoinRsp_0:
        MOV     A,R6
        ADD     A,#0xc
        MOV     R0,A
        CLR     A
        ADDC    A,R7
        MOV     R1,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
// 1649 	osal_memcpy(protocol_pack->data, extaddr, SADDR_EXT_LEN);
        ; Setup parameters for call to function osal_memcpy
        MOV     R0,?XSP + 0
        MOV     R1,?XSP + 1
        MOV     ?V4,R0
        MOV     ?V5,R1
        MOV     ?V6,#0x0
        MOV     R0,#?V4
        LCALL   ?PUSH_XSTACK_I_THREE
          CFI CFA_XSP16 add(XSP16, 129)
        MOV     R4,#0x8
        MOV     R5,#0x0
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
        MOV     A,#0x3
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 126)
// 1650 	osal_memcpy( buf, (uint8 *)protocol_pack, PKT_HEAD_LEN );
        ; Setup parameters for call to function osal_memcpy
        MOV     ?V4,R6
        MOV     ?V5,R7
        MOV     ?V6,#0x0
        MOV     R0,#?V4
        LCALL   ?PUSH_XSTACK_I_THREE
          CFI CFA_XSP16 add(XSP16, 129)
        MOV     R4,#0x9
        MOV     R5,#0x0
        MOV     A,#0xb
        LCALL   ?XSTACK_DISP101_8
        LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
        MOV     A,#0x3
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 126)
// 1651 	osal_memcpy(&buf[PKT_HEAD_LEN], protocol_pack->data, protocol_pack->datalen);
        ; Setup parameters for call to function osal_memcpy
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V5,A
        MOV     ?V6,#0x0
        MOV     R0,#?V4
        LCALL   ?PUSH_XSTACK_I_THREE
          CFI CFA_XSP16 add(XSP16, 129)
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R4,A
        MOV     R5,#0x0
        MOV     A,#0x14
        LCALL   ?XSTACK_DISP0_8
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
        MOV     A,#0x3
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 126)
// 1652 	protocol_pack->fcs = MT_UartCalcFCS( buf, PKT_HEAD_LEN + protocol_pack->datalen );
        ; Setup parameters for call to function MT_UartCalcFCS
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        ADD     A,#0x9
        MOV     R1,A
        MOV     A,#0x8
        LCALL   ?XSTACK_DISP101_8
        LCALL   `??MT_UartCalcFCS::?relay`; Banked call to: MT_UartCalcFCS
        MOV     A,R1
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,R6
        ADD     A,#0xb
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1653 	buf[PKT_HEAD_LEN + protocol_pack->datalen] = protocol_pack->fcs;
        MOV     A,R6
        ADD     A,#0xb
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        MOVX    A,@DPTR
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     R1,#0x0
        MOV     A,#0x8
        LCALL   ?XSTACK_DISP0_8
        MOV     A,DPL
        ADD     A,R0
        MOV     DPL,A
        MOV     A,DPH
        ADDC    A,R1
        MOV     DPH,A
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1654 	clusterid = GENERICAPP_P2P_PERMIT_JOIN_RSP_CLUSTERID;
        MOV     ?V0,#0x7
        MOV     ?V1,#0x0
// 1655 	SerialApp_TxAddr_p2p.addr.shortAddr = protocol_pack->destid;
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     DPTR,#SerialApp_TxAddr_p2p
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
// 1656 
// 1657 	if ( AF_DataRequest( &SerialApp_TxAddr_p2p, &GenericApp_epDesc,
// 1658 						clusterid,
// 1659 						PKT_HEAD_LEN + SADDR_EXT_LEN + 1,
// 1660 						buf, //(uint8 *)protocol_pack,
// 1661 						&GenericApp_TransID,
// 1662 						AF_DISCV_ROUTE, AF_DEFAULT_RADIUS ) == afStatus_SUCCESS )
        ; Setup parameters for call to function AF_DataRequest
        MOV     ?V3,#0x1e
        MOV     R0,#?V3
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 127)
        MOV     ?V4,#GenericApp_TransID & 0xff
        MOV     ?V5,#(GenericApp_TransID >> 8) & 0xff
        MOV     R0,#?V4
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 129)
        MOV     A,#0xb
        LCALL   ?XSTACK_DISP100_8
        MOV     ?V4,R0
        MOV     ?V5,R1
        MOV     R0,#?V4
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 131)
        MOV     ?V4,#0x12
        MOV     ?V5,#0x0
        MOV     R0,#?V4
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 133)
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 135)
        MOV     R1,#0x0
        MOV     R4,#GenericApp_epDesc & 0xff
        MOV     R5,#(GenericApp_epDesc >> 8) & 0xff
        MOV     R2,#SerialApp_TxAddr_p2p & 0xff
        MOV     R3,#(SerialApp_TxAddr_p2p >> 8) & 0xff
        LCALL   `??AF_DataRequest::?relay`; Banked call to: AF_DataRequest
        MOV     A,#0x9
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 126)
        MOV     A,R1
        JNZ     ??GenericApp_Device_JoinRsp_1
// 1663 	{
// 1664 		ret = TRUE;
        MOV     ?V2,#0x1
        SJMP    ??GenericApp_Device_JoinRsp_2
// 1665 	}
// 1666 	else
// 1667 	{
// 1668 		ret = FALSE;
??GenericApp_Device_JoinRsp_1:
        MOV     ?V2,#0x0
// 1669 	}
// 1670 	osal_msg_deallocate( (uint8 *)protocol_pack );
??GenericApp_Device_JoinRsp_2:
        ; Setup parameters for call to function osal_msg_deallocate
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        LCALL   `??osal_msg_deallocate::?relay`; Banked call to: osal_msg_deallocate
        MOV     A,R1
// 1671 	return ret;
        MOV     R1,?V2
        MOV     A,#0x6c
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 18)
        MOV     R7,#0xa
        LJMP    ?BANKED_LEAVE_XDATA
// 1672 }
          CFI EndBlock cfiBlock24
// 1673 
// 1674 

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1675 void GenericApp_Get_PermitJoin(afIncomingMSGPacket_t *pkt)
GenericApp_Get_PermitJoin:
          CFI Block cfiBlock25 Using cfiCommon0
          CFI Function GenericApp_Get_PermitJoin
        CODE
// 1676 {
        FUNCALL GenericApp_Get_PermitJoin, osal_memcpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 29, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 29, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_Get_PermitJoin, osal_memcmp
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 29, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 29, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_Get_PermitJoin, osal_mem_alloc
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 26, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 26, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_Get_PermitJoin, osal_memcpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 29, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 29, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_Get_PermitJoin, osal_memcpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 29, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 29, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V4
        REQUIRE ?V5
        REQUIRE ?V6
        REQUIRE ?V8
        REQUIRE ?V9
        MOV     A,#-0x12
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V9 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V8 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-17)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-18)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 18)
        ; Saved register size: 18
        ; Auto size: 8
        MOV     A,#-0x8
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 26)
        MOV     ?V8,R2
        MOV     ?V9,R3
// 1677 	uint8 extaddr[SADDR_EXT_LEN];
// 1678 	ZDO_Permit_Join_Device_t *tmp_join_device = NULL;
        MOV     R6,#0x0
        MOV     R7,#0x0
// 1679 	ZDO_Permit_Join_Device_t *new_join_device = NULL;
        MOV     ?V0,#0x0
        MOV     ?V1,#0x0
// 1680 	uint8 device_cnt = 0;
        MOV     ?V2,#0x0
// 1681 	static uint8 device_index = 0;
// 1682 
// 1683 	osal_memcpy(extaddr, pkt->cmd.Data + PKT_HEAD_LEN, SADDR_EXT_LEN);
        ; Setup parameters for call to function osal_memcpy
        MOV     A,?V8
        ADD     A,#0x22
        MOV     DPL,A
        CLR     A
        ADDC    A,?V9
        MOV     DPH,A
        MOVX    A,@DPTR
        ADD     A,#0x9
        MOV     ?V4,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#0x0
        MOV     ?V5,A
        MOV     ?V6,#0x0
        MOV     R0,#?V4
        LCALL   ?PUSH_XSTACK_I_THREE
          CFI CFA_XSP16 add(XSP16, 29)
        MOV     R4,#0x8
        MOV     R5,#0x0
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP101_8
        LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
        MOV     A,#0x3
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 26)
// 1684  
// 1685 	tmp_join_device = zdo_join_device;
        MOV     DPTR,#zdo_join_device
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R0
        MOV     R6,A
        MOV     A,R1
        MOV     R7,A
// 1686 	while (tmp_join_device)
??GenericApp_Get_PermitJoin_0:
        MOV     A,R6
        ORL     A,R7
        JZ      ??GenericApp_Get_PermitJoin_1
// 1687 	{
// 1688 		if (osal_memcmp(tmp_join_device->permit_device.extaddr, extaddr, SADDR_EXT_LEN))
        ; Setup parameters for call to function osal_memcmp
        MOV     R0,?XSP + 0
        MOV     R1,?XSP + 1
        MOV     ?V4,R0
        MOV     ?V5,R1
        MOV     ?V6,#0x0
        MOV     R0,#?V4
        LCALL   ?PUSH_XSTACK_I_THREE
          CFI CFA_XSP16 add(XSP16, 29)
        MOV     R4,#0x8
        MOV     R5,#0x0
        MOV     DPL,R6
        MOV     DPH,R7
        MOV     R1,DPL
        MOV     R2,DPH
        MOV     R3,#0x0
        LCALL   `??osal_memcmp::?relay`; Banked call to: osal_memcmp
        MOV     A,#0x3
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 26)
        MOV     A,R1
        JZ      $+5
        LJMP    ??GenericApp_Get_PermitJoin_2 & 0xFFFF
// 1689 		{
// 1690 			return;
// 1691 		}
// 1692 		tmp_join_device = tmp_join_device->next;
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R6,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R7,A
        SJMP    ??GenericApp_Get_PermitJoin_0
// 1693 	}
// 1694 	// Calculate permit device count
// 1695 	tmp_join_device = zdo_join_device;
??GenericApp_Get_PermitJoin_1:
        MOV     DPTR,#zdo_join_device
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R0
        MOV     R6,A
        MOV     A,R1
        MOV     R7,A
// 1696 	if (tmp_join_device)
        MOV     A,R6
        ORL     A,R7
        JZ      ??GenericApp_Get_PermitJoin_3
// 1697 	{
// 1698 		device_cnt = 1;
        MOV     ?V2,#0x1
// 1699 		while (tmp_join_device->next)
??GenericApp_Get_PermitJoin_4:
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R0
        ORL     A,R1
        JZ      ??GenericApp_Get_PermitJoin_3
// 1700 		{
// 1701 			device_cnt++;
        INC     ?V2
// 1702 			tmp_join_device = tmp_join_device->next;
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R6,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R7,A
        SJMP    ??GenericApp_Get_PermitJoin_4
// 1703 		}
// 1704 	}
// 1705 	if (device_cnt < MAX_JOIN_DEVICE_CNT)
??GenericApp_Get_PermitJoin_3:
        MOV     A,?V2
        CLR     C
        SUBB    A,#0xa
        JNC     ??GenericApp_Get_PermitJoin_5
// 1706 	{
// 1707 		new_join_device = (ZDO_Permit_Join_Device_t *) osal_mem_alloc(sizeof(ZDO_Permit_Join_Device_t));
        ; Setup parameters for call to function osal_mem_alloc
        MOV     R2,#0xa
        MOV     R3,#0x0
        LCALL   `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
        MOV     ?V4,R2
        MOV     ?V5,R3
        MOV     ?V0,?V4
        MOV     ?V1,?V5
// 1708 		osal_memcpy(new_join_device->permit_device.extaddr, extaddr, SADDR_EXT_LEN);
        ; Setup parameters for call to function osal_memcpy
        MOV     R0,?XSP + 0
        MOV     R1,?XSP + 1
        MOV     ?V4,R0
        MOV     ?V5,R1
        MOV     ?V6,#0x0
        MOV     R0,#?V4
        LCALL   ?PUSH_XSTACK_I_THREE
          CFI CFA_XSP16 add(XSP16, 29)
        MOV     R4,#0x8
        MOV     R5,#0x0
        MOV     R2,?V0
        MOV     R3,?V1
        LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
        MOV     A,#0x3
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 26)
// 1709 		new_join_device->next = NULL;
        MOV     DPL,?V0
        MOV     DPH,?V1
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
// 1710 		if (tmp_join_device)
        MOV     A,R6
        ORL     A,R7
        JZ      ??GenericApp_Get_PermitJoin_6
// 1711 		{
// 1712 			tmp_join_device->next = new_join_device;
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOV     A,?V0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,?V1
        MOVX    @DPTR,A
        SJMP    ??GenericApp_Get_PermitJoin_7
// 1713 		}
// 1714 		else
// 1715 		{
// 1716 			zdo_join_device = new_join_device;
??GenericApp_Get_PermitJoin_6:
        MOV     DPTR,#zdo_join_device
        MOV     A,?V0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,?V1
        MOVX    @DPTR,A
// 1717 		}
// 1718 		device_cnt++;
??GenericApp_Get_PermitJoin_7:
        INC     ?V2
        SJMP    ??GenericApp_Get_PermitJoin_2
// 1719 	}
// 1720 	else
// 1721 	{
// 1722 		tmp_join_device = zdo_join_device;
??GenericApp_Get_PermitJoin_5:
        MOV     DPTR,#zdo_join_device
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R0
        MOV     R6,A
        MOV     A,R1
        MOV     R7,A
// 1723 		for (uint8 i = 0; i < device_index; i++)
        MOV     R0,#0x0
??GenericApp_Get_PermitJoin_8:
        MOV     DPTR,#??device_index
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R0
        CLR     C
        SUBB    A,R1
        JNC     ??GenericApp_Get_PermitJoin_9
// 1724 		{
// 1725 			tmp_join_device = tmp_join_device->next;
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R6,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R7,A
// 1726 		}
        INC     R0
        SJMP    ??GenericApp_Get_PermitJoin_8
// 1727 		osal_memcpy(tmp_join_device->permit_device.extaddr, extaddr, SADDR_EXT_LEN);
??GenericApp_Get_PermitJoin_9:
        ; Setup parameters for call to function osal_memcpy
        MOV     R0,?XSP + 0
        MOV     R1,?XSP + 1
        MOV     ?V4,R0
        MOV     ?V5,R1
        MOV     ?V6,#0x0
        MOV     R0,#?V4
        LCALL   ?PUSH_XSTACK_I_THREE
          CFI CFA_XSP16 add(XSP16, 29)
        MOV     R4,#0x8
        MOV     R5,#0x0
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
        MOV     A,#0x3
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 26)
// 1728 		if (++device_index >= MAX_JOIN_DEVICE_CNT)
        MOV     DPTR,#??device_index
        MOVX    A,@DPTR
        ADD     A,#0x1
        MOVX    @DPTR,A
        MOV     DPTR,#??device_index
        MOVX    A,@DPTR
        CLR     C
        SUBB    A,#0xa
        JC      ??GenericApp_Get_PermitJoin_2
// 1729 		{
// 1730 			device_index = 0;
        MOV     DPTR,#??device_index
        MOV     A,#0x0
        MOVX    @DPTR,A
// 1731 		}
// 1732 	}
// 1733 	
// 1734 }
??GenericApp_Get_PermitJoin_2:
        MOV     A,#0x8
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 18)
        MOV     R7,#0xa
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock25

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
??device_index:
        DS 1
        REQUIRE __INIT_XDATA_Z
// 1735 

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1736 bool GenericApp_Device_JoinReq(void)
GenericApp_Device_JoinReq:
          CFI Block cfiBlock26 Using cfiCommon0
          CFI Function GenericApp_Device_JoinReq
        CODE
// 1737 {
        FUNCALL GenericApp_Device_JoinReq, osal_msg_allocate
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 215, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 215, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_Device_JoinReq, NLME_GetShortAddr
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 215, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 215, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_Device_JoinReq, osal_memcpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 218, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 218, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_Device_JoinReq, osal_memcpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 218, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 218, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_Device_JoinReq, osal_memcpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 218, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 218, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_Device_JoinReq, MT_UartCalcFCS
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 215, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 215, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_Device_JoinReq, AF_DataRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 224, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 224, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL GenericApp_Device_JoinReq, osal_msg_deallocate
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 215, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 215, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V3
        REQUIRE ?V4
        REQUIRE ?V5
        REQUIRE ?V6
        MOV     A,#-0xf
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 15)
        ; Saved register size: 15
        ; Auto size: 200
        MOV     A,#0x38
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 215)
// 1738 	transferpkt_t *protocol_pack;
// 1739 	uint16 clusterid;
// 1740 	uint8 buf[200];
// 1741 	bool ret = FALSE;
        MOV     ?V0,#0x0
// 1742 
// 1743 	protocol_pack = (transferpkt_t *)osal_msg_allocate( sizeof( transferpkt_t ) + SADDR_EXT_LEN + 1);
        ; Setup parameters for call to function osal_msg_allocate
        MOV     R2,#0x15
        MOV     R3,#0x0
        LCALL   `??osal_msg_allocate::?relay`; Banked call to: osal_msg_allocate
        MOV     ?V4,R2
        MOV     ?V5,R3
        MOV     R6,?V4
        MOV     R7,?V5
// 1744 	if ( protocol_pack == NULL )
        MOV     A,R6
        ORL     A,R7
        JNZ     ??GenericApp_Device_JoinReq_0
// 1745 	{
// 1746 		return ZFailure;
        MOV     R1,#0x1
        LJMP    ??GenericApp_Device_JoinReq_1 & 0xFFFF
// 1747 	}
// 1748 
// 1749 	protocol_pack->msgid = PROT_JOIN_REQ_MSG;
??GenericApp_Device_JoinReq_0:
        MOV     DPL,R6
        MOV     DPH,R7
        MOV     A,#0x4a
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x30
        MOVX    @DPTR,A
// 1750 	protocol_pack->msgseq = 0x0001;
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        MOV     A,#0x1
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
// 1751 	protocol_pack->destid = 0x0000;
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
// 1752 	protocol_pack->srcid = NLME_GetShortAddr();
        ; Setup parameters for call to function NLME_GetShortAddr
        LCALL   `??NLME_GetShortAddr::?relay`; Banked call to: NLME_GetShortAddr
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOV     A,R2
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R3
        MOVX    @DPTR,A
// 1753 	protocol_pack->datalen = SADDR_EXT_LEN;
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOV     A,#0x8
        MOVX    @DPTR,A
// 1754 
// 1755 	protocol_pack->data = (uint8 *)(protocol_pack + 1);
        MOV     A,R6
        ADD     A,#0xc
        MOV     R0,A
        CLR     A
        ADDC    A,R7
        MOV     R1,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
// 1756 	osal_memcpy(protocol_pack->data, join_device_extaddr, SADDR_EXT_LEN);
        ; Setup parameters for call to function osal_memcpy
        MOV     ?V4,#join_device_extaddr & 0xff
        MOV     ?V5,#(join_device_extaddr >> 8) & 0xff
        MOV     ?V6,#0x0
        MOV     R0,#?V4
        LCALL   ?PUSH_XSTACK_I_THREE
          CFI CFA_XSP16 add(XSP16, 218)
        MOV     R4,#0x8
        MOV     R5,#0x0
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
        MOV     A,#0x3
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 215)
// 1757 	//+msg id 2B+msg_seq2B+len byte+ dest_id 2B+src_id 2B
// 1758 	osal_memcpy( buf, (uint8 *)protocol_pack, PKT_HEAD_LEN );
        ; Setup parameters for call to function osal_memcpy
        MOV     ?V4,R6
        MOV     ?V5,R7
        MOV     ?V6,#0x0
        MOV     R0,#?V4
        LCALL   ?PUSH_XSTACK_I_THREE
          CFI CFA_XSP16 add(XSP16, 218)
        MOV     R4,#0x9
        MOV     R5,#0x0
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP101_8
        LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
        MOV     A,#0x3
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 215)
// 1759 	osal_memcpy(&buf[PKT_HEAD_LEN], protocol_pack->data, SADDR_EXT_LEN);
        ; Setup parameters for call to function osal_memcpy
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V5,A
        MOV     ?V6,#0x0
        MOV     R0,#?V4
        LCALL   ?PUSH_XSTACK_I_THREE
          CFI CFA_XSP16 add(XSP16, 218)
        MOV     R4,#0x8
        MOV     R5,#0x0
        MOV     A,#0xc
        LCALL   ?XSTACK_DISP0_8
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
        MOV     A,#0x3
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 215)
// 1760 	protocol_pack->fcs = MT_UartCalcFCS( buf, PKT_HEAD_LEN + protocol_pack->datalen );
        ; Setup parameters for call to function MT_UartCalcFCS
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        ADD     A,#0x9
        MOV     R1,A
        MOV     R2,?XSP + 0
        MOV     R3,?XSP + 1
        LCALL   `??MT_UartCalcFCS::?relay`; Banked call to: MT_UartCalcFCS
        MOV     A,R1
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,R6
        ADD     A,#0xb
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1761 	buf[PKT_HEAD_LEN + protocol_pack->datalen] = protocol_pack->fcs;
        MOV     A,R6
        ADD     A,#0xb
        MOV     DPL,A
        CLR     A
        ADDC    A,R7
        MOV     DPH,A
        MOVX    A,@DPTR
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     R1,#0x0
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     A,DPL
        ADD     A,R0
        MOV     DPL,A
        MOV     A,DPH
        ADDC    A,R1
        MOV     DPH,A
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1762 
// 1763 	clusterid = GENERICAPP_P2P_PERMIT_JOIN_REQ_CLUSTERID;
        MOV     ?V2,#0x6
        MOV     ?V3,#0x0
// 1764 	SerialApp_TxAddr_p2p.addr.shortAddr = 0x0000;
        MOV     DPTR,#SerialApp_TxAddr_p2p
        MOV     A,#0x0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
// 1765 
// 1766 	if ( AF_DataRequest( &SerialApp_TxAddr_p2p, &GenericApp_epDesc,
// 1767 						clusterid,
// 1768 						PKT_HEAD_LEN + SADDR_EXT_LEN + 1,
// 1769 						buf, //(uint8 *)protocol_pack,
// 1770 						&GenericApp_TransID,
// 1771 						AF_DISCV_ROUTE, AF_DEFAULT_RADIUS ) == afStatus_SUCCESS )
        ; Setup parameters for call to function AF_DataRequest
        MOV     ?V1,#0x1e
        MOV     R0,#?V1
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 216)
        MOV     ?V4,#GenericApp_TransID & 0xff
        MOV     ?V5,#(GenericApp_TransID >> 8) & 0xff
        MOV     R0,#?V4
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 218)
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP100_8
        MOV     ?V4,R0
        MOV     ?V5,R1
        MOV     R0,#?V4
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 220)
        MOV     ?V4,#0x12
        MOV     ?V5,#0x0
        MOV     R0,#?V4
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 222)
        MOV     R0,#?V2
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 224)
        MOV     R1,#0x0
        MOV     R4,#GenericApp_epDesc & 0xff
        MOV     R5,#(GenericApp_epDesc >> 8) & 0xff
        MOV     R2,#SerialApp_TxAddr_p2p & 0xff
        MOV     R3,#(SerialApp_TxAddr_p2p >> 8) & 0xff
        LCALL   `??AF_DataRequest::?relay`; Banked call to: AF_DataRequest
        MOV     A,#0x9
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 215)
        MOV     A,R1
        JNZ     ??GenericApp_Device_JoinReq_2
// 1772 	{
// 1773 		ret = TRUE;
        MOV     ?V0,#0x1
        SJMP    ??GenericApp_Device_JoinReq_3
// 1774 	}
// 1775 	else
// 1776 	{
// 1777 		ret = FALSE;
??GenericApp_Device_JoinReq_2:
        MOV     ?V0,#0x0
// 1778 	}
// 1779 	osal_msg_deallocate( (uint8 *)protocol_pack );
??GenericApp_Device_JoinReq_3:
        ; Setup parameters for call to function osal_msg_deallocate
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        LCALL   `??osal_msg_deallocate::?relay`; Banked call to: osal_msg_deallocate
        MOV     A,R1
// 1780 	return ret;
        MOV     R1,?V0
??GenericApp_Device_JoinReq_1:
        MOV     A,#-0x38
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 15)
        MOV     R7,#0x7
        LJMP    ?BANKED_LEAVE_XDATA
// 1781 }
          CFI EndBlock cfiBlock26
// 1782 

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1783 void GenericApp_Free_Join_DeviceInfo(ZDO_Permit_Join_Device_t *permit_join_device)  
GenericApp_Free_Join_DeviceInfo:
          CFI Block cfiBlock27 Using cfiCommon0
          CFI Function GenericApp_Free_Join_DeviceInfo
        CODE
// 1784 {
        FUNCALL GenericApp_Free_Join_DeviceInfo, osal_mem_free
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V3
        MOV     A,#-0xc
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 12)
        ; Saved register size: 12
        ; Auto size: 0
        MOV     ?V0,R2
        MOV     ?V1,R3
// 1785 	ZDO_Permit_Join_Device_t *head_join_device;
// 1786 	ZDO_Permit_Join_Device_t *tmp_join_device = permit_join_device;
        MOV     R0,?V0
        MOV     R1,?V1
        MOV     A,R0
        MOV     R6,A
        MOV     A,R1
        MOV     R7,A
// 1787 	while (tmp_join_device)
??GenericApp_Free_Join_DeviceInfo_0:
        MOV     A,R6
        ORL     A,R7
        JZ      ??GenericApp_Free_Join_DeviceInfo_1
// 1788 	{
// 1789 		head_join_device = tmp_join_device->next;
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     ?V2,R0
        MOV     ?V3,R1
// 1790 		osal_mem_free(tmp_join_device);   //chaokw open issue
        ; Setup parameters for call to function osal_mem_free
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        LCALL   `??osal_mem_free::?relay`; Banked call to: osal_mem_free
// 1791 		tmp_join_device = head_join_device;
        MOV     R0,?V2
        MOV     R1,?V3
        MOV     A,R0
        MOV     R6,A
        MOV     A,R1
        MOV     R7,A
        SJMP    ??GenericApp_Free_Join_DeviceInfo_0
// 1792 	}
// 1793 }
??GenericApp_Free_Join_DeviceInfo_1:
        MOV     R7,#0x4
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock27

        RSEG XDATA_ID:CODE:NOROOT(0)
`?<Initializer for txMsgDelay>`:
        DATA32
        DD 5000

        RSEG XDATA_ID:CODE:NOROOT(0)
`?<Initializer for fw_version>`:
        DATA16
        DW `?<Constant "v01.00.008">`

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??GenericApp_Init::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    GenericApp_Init

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??GenericApp_ProcessEvent::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    GenericApp_ProcessEvent

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??GenericApp_ProcessZDOMsgs::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    GenericApp_ProcessZDOMsgs

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??GenericApp_HandleKeys::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    GenericApp_HandleKeys

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??GenericApp_MessageMSGCB::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    GenericApp_MessageMSGCB

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??GenericApp_SendTheMessage::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    GenericApp_SendTheMessage

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??CustomApp_NodeRegister::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    CustomApp_NodeRegister

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??CustomApp_NodeDelete::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    CustomApp_NodeDelete

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??CustomApp_NodeFindNwkAddrList::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    CustomApp_NodeFindNwkAddrList

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??CustomApp_NodeFindMacAddrList::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    CustomApp_NodeFindMacAddrList

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??CustomApp_ping_request_init::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    CustomApp_ping_request_init

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??CustomApp_linkstatus_init::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    CustomApp_linkstatus_init

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??CustomApp_ping_timeout_check_init::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    CustomApp_ping_timeout_check_init

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??CustomApp_coordinater_broadcast_ping_init::?r`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    CustomApp_coordinater_broadcast_ping_init

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??CustomApp_zigbee_start_ind::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    CustomApp_zigbee_start_ind

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??CustomApp_loadstatus_ind::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    CustomApp_loadstatus_ind

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??CustomApp_node_register_ind::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    CustomApp_node_register_ind

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??CustomApp_node_deregister_ind::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    CustomApp_node_deregister_ind

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??CustomApp_send_ping_req::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    CustomApp_send_ping_req

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??CustomApp_send_ping_rsp::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    CustomApp_send_ping_rsp

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??CustomApp_coordinater_broadcast_ping::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    CustomApp_coordinater_broadcast_ping

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??CustomApp_linkstatus_updated::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    CustomApp_linkstatus_updated

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??CustomApp_process_ping::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    CustomApp_process_ping

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??CustomApp_get_connected_node_count::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    CustomApp_get_connected_node_count

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??GenericApp_Device_JoinRsp::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    GenericApp_Device_JoinRsp

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??GenericApp_Get_PermitJoin::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    GenericApp_Get_PermitJoin

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??GenericApp_Device_JoinReq::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    GenericApp_Device_JoinReq

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??GenericApp_Free_Join_DeviceInfo::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    GenericApp_Free_Join_DeviceInfo

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "v01.00.008">`:
        DB "v01.00.008"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "GenericApp">`:
        DB "GenericApp"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "panid:">`:
        DB "panid:"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "devState:">`:
        DB "devState:"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "nodregOK:">`:
        DB "nodregOK:"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "Rcvd:">`:
        DB "Rcvd:"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "cmd Rcvd:">`:
        DB "cmd Rcvd:"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "ask WL:">`:
        DB "ask WL:"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "Hello World">`:
        DB "Hello World"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "pingreqSend">`:
        DB "pingreqSend"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "pingrspSend">`:
        DB "pingrspSend"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "broadcast ping">`:
        DB "broadcast ping"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "nodedelete OK:">`:
        DB "nodedelete OK:"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "nodedelete NOK:">`:
        DB "nodedelete NOK:"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "connected:">`:
        DB "connected:"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant {0, 0, 0, 0, 0, 0, 0, 0}>`:
        DB 0
        DB 0
        DB 0
        DB 0
        DB 0
        DB 0
        DB 0
        DB 0

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA32
__Constant_1388:
        DD 5000

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA32
__Constant_3a98:
        DD 15000

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA32
__Constant_65:
        DD 101

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA32
__Constant_2710:
        DD 10000

        END
// 
// 7 275 bytes in segment BANKED_CODE
//   168 bytes in segment BANK_RELAYS
//     6 bytes in segment XDATA_I
//     6 bytes in segment XDATA_ID
//   216 bytes in segment XDATA_ROM_C
//    70 bytes in segment XDATA_Z
// 
// 7 449 bytes of CODE  memory
//   200 bytes of CONST memory (+ 16 bytes shared)
//    76 bytes of XDATA memory
//
//Errors: none
//Warnings: none
