###############################################################################
#
# IAR C/C++ Compiler V9.30.1.3056 for 8051                21/Apr/2017  15:51:32
# Copyright 2004-2015 IAR Systems AB.
#
#    Core               =  plain
#    Code model         =  banked
#    Data model         =  large
#    Calling convention =  xdata reentrant
#    Constant location  =  data_rom
#    Dptr setup         =  1,16
#                          
#    Source file        =  
#        C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack Mesh
#        1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
#        1.0.0\Projects\zstack\Samples\GenericApp\Source\GenericApp.c
#    Command line       =  
#        -f "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
#        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
#        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\Tools\CC2530DB\f8wCoord.cfg"
#        (-DCPU32MHZ -DROOT=__near_func -DMAC_CFG_APP_PENDING_QUEUE=TRUE
#        -DMAC_CFG_TX_DATA_MAX=5 -DMAC_CFG_TX_MAX=8 -DMAC_CFG_RX_MAX=5
#        -DZDO_COORDINATOR -DRTR_NWK) -f "C:\Texas Instruments\Z-Stack Mesh
#        1.0.0_chaokw_20160317\Z-Stack Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh
#        1.0.0_LCDOK\Z-Stack Mesh
#        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\Tools\CC2530DB\f8wConfig.cfg"
#        (-DZIGBEEPRO -DSECURE=1 -DZG_SECURE_DYNAMIC=0 -DREFLECTOR
#        -DDEFAULT_CHANLIST=0x04000000 -DZDAPP_CONFIG_PAN_ID=0x0001
#        -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MASK=0x007F
#        -DBEACON_REQUEST_DELAY=100 -DBEACON_REQ_DELAY_MASK=0x00FF
#        -DLINK_STATUS_JITTER_MASK=0x007F -DROUTE_EXPIRY_TIME=30
#        -DAPSC_ACK_WAIT_DURATION_POLLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7
#        -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=5
#        -DNWK_MAX_DATA_RETRIES=2 -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9
#        -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40 -DNWK_MAX_BINDING_ENTRIES=4
#        -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01, 0x03, 0x05, 0x07,
#        0x09, 0x0B, 0x0D, 0x0F, 0x00, 0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C,
#        0x0D}" -DMAC_MAX_FRAME_SIZE=116 -DZDNWKMGR_MIN_TRANSMISSIONS=20
#        "-DCONST=const __code" -DGENERIC=__generic -DRFD_RCVC_ALWAYS_ON=FALSE
#        -DPOLL_RATE=1000 -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100
#        -DREJOIN_POLL_RATE=440) -DCHANNEL_CNT=0x01 "C:\Texas
#        Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack Mesh
#        1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
#        1.0.0\Projects\zstack\Samples\GenericApp\Source\GenericApp.c" -D
#        ZTOOL_P1 -D MT_TASK -D MT_SYS_FUNC -D MT_ZDO_FUNC -D
#        LCD_SUPPORTED=DEBUG -D NV_RESTORE -D NV_INIT -D NODE_AUTH -D
#        xWIFI_FREQUENCY_SELECT -D OPEN_FCS -D MAKE_CRC_SHDW -lC "C:\Texas
#        Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack Mesh
#        1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
#        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\CoordinatorEB-SBL\List"
#        -lA "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
#        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
#        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\CoordinatorEB-SBL\List"
#        --diag_suppress Pe001,Pa010 -o "C:\Texas Instruments\Z-Stack Mesh
#        1.0.0_chaokw_20160317\Z-Stack Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh
#        1.0.0_LCDOK\Z-Stack Mesh
#        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\CoordinatorEB-SBL\Obj"
#        -e --no_code_motion --debug --core=plain --dptr=16,1
#        --data_model=large --code_model=banked
#        --calling_convention=xdata_reentrant --place_constants=data_rom
#        --nr_virtual_regs 16 -I "C:\Texas Instruments\Z-Stack Mesh
#        1.0.0_chaokw_20160317\Z-Stack Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh
#        1.0.0_LCDOK\Z-Stack Mesh
#        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\" -I "C:\Texas
#        Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack Mesh
#        1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
#        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\Source\" -I
#        "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack Mesh
#        1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
#        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\Application\"
#        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
#        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
#        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\ZMain\TI2530DB\"
#        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
#        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
#        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\hal\include\"
#        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
#        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
#        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\hal\target\CC2530EB\"
#        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
#        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
#        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\mac\include\"
#        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
#        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
#        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\mac\high_level\"
#        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
#        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
#        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\mac\low_level\srf04\"
#        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
#        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
#        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\mac\low_level\srf04\single_chip\"
#        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
#        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
#        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\mt\"
#        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
#        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
#        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\osal\include\"
#        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
#        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
#        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\services\saddr\"
#        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
#        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
#        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\services\sdata\"
#        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
#        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
#        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\stack\af\"
#        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
#        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
#        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\stack\nwk\"
#        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
#        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
#        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\stack\sapi\"
#        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
#        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
#        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\stack\sec\"
#        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
#        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
#        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\stack\sys\"
#        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
#        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
#        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\stack\zdo\"
#        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
#        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
#        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\zmac\"
#        -I "C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack
#        Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
#        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\zmac\f8w\"
#        -Ohz --require_prototypes
#    List file          =  
#        C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack Mesh
#        1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
#        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\CoordinatorEB-SBL\List\GenericApp.lst
#    Object file        =  
#        C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack Mesh
#        1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh
#        1.0.0\Projects\zstack\Samples\GenericApp\CC2530DB\CoordinatorEB-SBL\Obj\GenericApp.r51
#
###############################################################################

C:\Texas Instruments\Z-Stack Mesh 1.0.0_chaokw_20160317\Z-Stack Mesh 1.0.0_chaokw_20160316\Z-Stack Mesh 1.0.0_LCDOK\Z-Stack Mesh 1.0.0\Projects\zstack\Samples\GenericApp\Source\GenericApp.c
      1          /******************************************************************************
      2            Filename:       GenericApp.c
      3            Revised:        $Date: 2014-09-07 13:36:30 -0700 (Sun, 07 Sep 2014) $
      4            Revision:       $Revision: 40046 $
      5          
      6            Description:    Generic Application (no Profile).
      7          
      8          
      9            Copyright 2004-2014 Texas Instruments Incorporated. All rights reserved.
     10          
     11            IMPORTANT: Your use of this Software is limited to those specific rights
     12            granted under the terms of a software license agreement between the user
     13            who downloaded the software, his/her employer (which must be your employer)
     14            and Texas Instruments Incorporated (the "License"). You may not use this
     15            Software unless you agree to abide by the terms of the License. The License
     16            limits your use, and you acknowledge, that the Software may not be modified,
     17            copied or distributed unless embedded on a Texas Instruments microcontroller
     18            or used solely and exclusively in conjunction with a Texas Instruments radio
     19            frequency transceiver, which is integrated into your product. Other than for
     20            the foregoing purpose, you may not use, reproduce, copy, prepare derivative
     21            works of, modify, distribute, perform, display or sell this Software and/or
     22            its documentation for any purpose.
     23          
     24            YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE
     25            PROVIDED “AS IS” WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED,
     26            INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE,
     27            NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL
     28            TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT,
     29            NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER
     30            LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES
     31            INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE
     32            OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT
     33            OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES
     34            (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.
     35          
     36            Should you have any questions regarding your right to use this Software,
     37            contact Texas Instruments Incorporated at www.TI.com.
     38          ******************************************************************************/
     39          
     40          /*********************************************************************
     41            This application isn't intended to do anything useful - it is
     42            intended to be a simple example of an application's structure.
     43          
     44            This application periodically sends a "Hello World" message to
     45            another "Generic" application (see 'txMsgDelay'). The application
     46            will also receive "Hello World" packets.
     47          
     48            This application doesn't have a profile, so it handles everything
     49            directly - by itself.
     50          
     51            Key control:
     52              SW1:  changes the delay between TX packets
     53              SW2:  initiates end device binding
     54              SW3:
     55              SW4:  initiates a match description request
     56          *********************************************************************/
     57          
     58          /*********************************************************************
     59           * INCLUDES
     60           */
     61          #include "OSAL.h"
     62          #include "AF.h"
     63          #include "ZDApp.h"
     64          #include "ZDObject.h"
     65          #include "ZDProfile.h"
     66          
     67          #include "GenericApp.h"
     68          #include "DebugTrace.h"
     69          
     70          #if !defined( WIN32 ) || defined( ZBIT )
     71            #include "OnBoard.h"

   \                                 In  segment SFR_AN, at 0xc9
   \   unsigned char volatile __sfr WDCTL
   \                     WDCTL:
   \   000000                DS 1
     72          #endif
     73          
     74          /* HAL */
     75          #include "hal_lcd.h"
     76          #include "hal_led.h"
     77          #include "hal_key.h"
     78          #include "hal_uart.h"
     79          
     80          #include "MT_UART.h"
     81          #include "OSAL_Clock.h"
     82          
     83          #include "ZDSecMgr.h"
     84          #include "ProtocolHandler.h"
     85          #include "NodeAuth.h"
     86          
     87          #include "stdlib.h"
     88          
     89          /* RTOS */
     90          #if defined( IAR_ARMCM3_LM )
     91          #include "RTOS_App.h"
     92          #endif
     93          
     94          /*********************************************************************
     95           * MACROS
     96           */
     97          
     98          /*********************************************************************
     99           * CONSTANTS
    100           */
    101          
    102          /*********************************************************************
    103           * TYPEDEFS
    104           */
    105          
    106          /*********************************************************************
    107           * GLOBAL VARIABLES
    108           */
    109          // This list should be filled with Application specific Cluster IDs.

   \                                 In  segment XDATA_ROM_C, align 1
    110          const cId_t GenericApp_ClusterList[GENERICAPP_MAX_CLUSTERS] =
   \                     GenericApp_ClusterList:
   \   000000   0100         DW 1
   \   000002   0200         DW 2
   \   000004   0300         DW 3
   \   000006   0400         DW 4
   \   000008   0500         DW 5
   \   00000A   0600         DW 6
   \   00000C   0700         DW 7
    111          {
    112            GENERICAPP_CLUSTERID,					  
    113            GENERICAPP_DATA_P2P_CLUSTERID, 		  
    114            GENERICAPP_GROUP_CLUSTERID,		  
    115            GENERICAPP_CMD_P2P_CLUSTERID,			  
    116            GENERICAPP_BROADCAST_CLUSTERID,
    117            GENERICAPP_P2P_PERMIT_JOIN_REQ_CLUSTERID,
    118            GENERICAPP_P2P_PERMIT_JOIN_RSP_CLUSTERID
    119          };
    120          

   \                                 In  segment XDATA_ROM_C, align 1
    121          const SimpleDescriptionFormat_t GenericApp_SimpleDesc =
   \                     GenericApp_SimpleDesc:
   \   000000   0A           DB 10
   \   000001   040F         DW 3844
   \   000003   0100         DW 1
   \   000005   00           DB 0
   \   000006   07           DB 7
   \   000007   ....         DW GenericApp_ClusterList
   \   000009   07           DB 7
   \   00000A   ....         DW GenericApp_ClusterList
    122          {
    123            GENERICAPP_ENDPOINT,              //  int Endpoint;
    124            GENERICAPP_PROFID,                //  uint16 AppProfId[2];
    125            GENERICAPP_DEVICEID,              //  uint16 AppDeviceId[2];
    126            GENERICAPP_DEVICE_VERSION,        //  int   AppDevVer:4;
    127            GENERICAPP_FLAGS,                 //  int   AppFlags:4;
    128            GENERICAPP_MAX_CLUSTERS,          //  byte  AppNumInClusters;
    129            (cId_t *)GenericApp_ClusterList,  //  byte *pAppInClusterList;
    130            GENERICAPP_MAX_CLUSTERS,          //  byte  AppNumInClusters;
    131            (cId_t *)GenericApp_ClusterList   //  byte *pAppInClusterList;
    132          };
    133          
    134          // This is the Endpoint/Interface description.  It is defined here, but
    135          // filled-in in GenericApp_Init().  Another way to go would be to fill
    136          // in the structure here and make it a "const" (in code space).  The
    137          // way it's defined in this sample app it is define in RAM.

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    138          endPointDesc_t GenericApp_epDesc;
   \                     GenericApp_epDesc:
   \   000000                DS 6
   \   000006                REQUIRE __INIT_XDATA_Z
    139          
    140          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    141          nodeList_t *nodeList = NULL;
   \                     nodeList:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z
    142          
    143          
    144          
    145          /*********************************************************************
    146           * EXTERNAL VARIABLES
    147           */
    148          
    149          /*********************************************************************
    150           * EXTERNAL FUNCTIONS
    151           */
    152          
    153          /*********************************************************************
    154           * LOCAL VARIABLES
    155           */

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    156          byte GenericApp_TaskID;   // Task ID for internal task/event processing
   \                     GenericApp_TaskID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    157                                    // This variable will be received when
    158                                    // GenericApp_Init() is called.
    159          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    160          devStates_t GenericApp_NwkState;
   \                     GenericApp_NwkState:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    161          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    162          byte GenericApp_TransID;  // This is the unique message ID (counter)
   \                     GenericApp_TransID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    163          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    164          afAddrType_t GenericApp_DstAddr;
   \                     GenericApp_DstAddr:
   \   000000                DS 12
   \   00000C                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    165          afAddrType_t SerialApp_TxAddr_broadcast;
   \                     SerialApp_TxAddr_broadcast:
   \   000000                DS 12
   \   00000C                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    166          afAddrType_t SerialApp_TxAddr_group;
   \                     SerialApp_TxAddr_group:
   \   000000                DS 12
   \   00000C                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    167          afAddrType_t SerialApp_TxAddr_p2p;
   \                     SerialApp_TxAddr_p2p:
   \   000000                DS 12
   \   00000C                REQUIRE __INIT_XDATA_Z
    168          
    169          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    170          uint8 ping_result;
   \                     ping_result:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    171          uint8 ping_error_cnt;
   \                     ping_error_cnt:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    172          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    173          uint8 zc_online_report_cnt =0;
   \                     zc_online_report_cnt:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    174          uint8 zr_online_report_cnt =0;
   \                     zr_online_report_cnt:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    175          
    176          
    177          // Number of recieved messages

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    178          static uint16 rxMsgCount;
   \                     rxMsgCount:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z
    179          
    180          #if defined( LCD_SUPPORTED )		

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    181          static uint16 askWhiteListCount;   //chaokw panid
   \                     askWhiteListCount:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z
    182          #endif
    183          
    184          // Time interval between sending messages

   \                                 In  segment XDATA_I, align 1, keep-with-next
    185          static uint32 txMsgDelay = GENERICAPP_SEND_MSG_TIMEOUT;
   \                     txMsgDelay:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for txMsgDelay>`
   \   000004                REQUIRE __INIT_XDATA_I
    186          

   \                                 In  segment XDATA_I, align 1, keep-with-next
    187          const uint8* fw_version = ZIGBEE_FW_VERSION;
   \                     fw_version:
   \   000000                DS 2
   \   000002                REQUIRE `?<Initializer for fw_version>`
   \   000002                REQUIRE __INIT_XDATA_I
    188          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    189          uint8 transfer_join_times = 0;  //chaokw
   \                     transfer_join_times:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    190          
    191          #if( ZSTACK_DEVICE_BUILD != DEVICE_BUILD_COORDINATOR)		
    192          uint32 pingRspTime = 0;   //chaokw ping
    193          #endif
    194          
    195          /*********************************************************************
    196           * LOCAL FUNCTIONS
    197           */
    198          static void GenericApp_ProcessZDOMsgs( zdoIncomingMsg_t *inMsg );
    199          static void GenericApp_HandleKeys( byte shift, byte keys );
    200          static void GenericApp_MessageMSGCB( afIncomingMSGPacket_t *pckt );
    201          static void GenericApp_SendTheMessage( void );
    202          
    203          #if defined( IAR_ARMCM3_LM )
    204          static void GenericApp_ProcessRtosMessage( void );
    205          #endif
    206          
    207          /*********************************************************************
    208           * NETWORK LAYER CALLBACKS
    209           */
    210          
    211          /*********************************************************************
    212           * PUBLIC FUNCTIONS
    213           */
    214          
    215          /*********************************************************************
    216           * @fn      GenericApp_Init
    217           *
    218           * @brief   Initialization function for the Generic App Task.
    219           *          This is called during initialization and should contain
    220           *          any application specific initialization (ie. hardware
    221           *          initialization/setup, table initialization, power up
    222           *          notificaiton ... ).
    223           *
    224           * @param   task_id - the ID assigned by OSAL.  This ID should be
    225           *                    used to send messages and set timers.
    226           *
    227           * @return  none
    228           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    229          void GenericApp_Init( uint8 task_id )
   \                     GenericApp_Init:
    230          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   \   000005   E9           MOV     A,R1
    231            GenericApp_TaskID = task_id;
   \   000006   90....       MOV     DPTR,#GenericApp_TaskID
   \   000009   F0           MOVX    @DPTR,A
    232            GenericApp_NwkState = DEV_INIT;
   \   00000A   90....       MOV     DPTR,#GenericApp_NwkState
   \   00000D   7401         MOV     A,#0x1
   \   00000F   F0           MOVX    @DPTR,A
    233            GenericApp_TransID = 0;
   \   000010   90....       MOV     DPTR,#GenericApp_TransID
   \   000013   E4           CLR     A
   \   000014   F0           MOVX    @DPTR,A
    234          
    235            // Device hardware initialization can be added here or in main() (Zmain.c).
    236            // If the hardware is application specific - add it here.
    237            // If the hardware is other parts of the device add it in main().
    238          
    239            GenericApp_DstAddr.addrMode = (afAddrMode_t)Addr16Bit;
   \   000015   90....       MOV     DPTR,#GenericApp_DstAddr + 8
   \   000018   12....       LCALL   ?Subroutine12 & 0xFFFF
    240            GenericApp_DstAddr.endPoint = GENERICAPP_ENDPOINT;
    241            GenericApp_DstAddr.addr.shortAddr = 0;
   \                     ??CrossCallReturnLabel_80:
   \   00001B   90....       MOV     DPTR,#GenericApp_DstAddr
   \   00001E   E4           CLR     A
   \   00001F   F0           MOVX    @DPTR,A
   \   000020   A3           INC     DPTR
   \   000021   F0           MOVX    @DPTR,A
    242          
    243            // Fill out the endpoint description.
    244            GenericApp_epDesc.endPoint = GENERICAPP_ENDPOINT;
   \   000022   90....       MOV     DPTR,#GenericApp_epDesc
   \   000025   740A         MOV     A,#0xa
   \   000027   F0           MOVX    @DPTR,A
    245            GenericApp_epDesc.task_id = &GenericApp_TaskID;
   \   000028   A3           INC     DPTR
   \   000029   74..         MOV     A,#GenericApp_TaskID & 0xff
   \   00002B   F0           MOVX    @DPTR,A
   \   00002C   A3           INC     DPTR
   \   00002D   74..         MOV     A,#(GenericApp_TaskID >> 8) & 0xff
   \   00002F   F0           MOVX    @DPTR,A
    246            GenericApp_epDesc.simpleDesc
    247                      = (SimpleDescriptionFormat_t *)&GenericApp_SimpleDesc;
   \   000030   A3           INC     DPTR
   \   000031   74..         MOV     A,#GenericApp_SimpleDesc & 0xff
   \   000033   F0           MOVX    @DPTR,A
   \   000034   A3           INC     DPTR
   \   000035   74..         MOV     A,#(GenericApp_SimpleDesc >> 8) & 0xff
   \   000037   F0           MOVX    @DPTR,A
    248            GenericApp_epDesc.latencyReq = noLatencyReqs;
   \   000038   A3           INC     DPTR
   \   000039   E4           CLR     A
   \   00003A   F0           MOVX    @DPTR,A
    249          
    250          
    251              //broadcast to everyone
    252              SerialApp_TxAddr_broadcast.addrMode = (afAddrMode_t)AddrBroadcast;
   \   00003B   90....       MOV     DPTR,#SerialApp_TxAddr_broadcast + 8
   \   00003E   740F         MOV     A,#0xf
   \   000040   12....       LCALL   ??Subroutine45_0 & 0xFFFF
    253              SerialApp_TxAddr_broadcast.endPoint = GENERICAPP_ENDPOINT;
    254              SerialApp_TxAddr_broadcast.addr.shortAddr = 0xFFFF;
   \                     ??CrossCallReturnLabel_82:
   \   000043   90....       MOV     DPTR,#SerialApp_TxAddr_broadcast
   \   000046   74FF         MOV     A,#-0x1
   \   000048   F0           MOVX    @DPTR,A
   \   000049   A3           INC     DPTR
   \   00004A   F0           MOVX    @DPTR,A
    255          
    256              //send to group
    257              SerialApp_TxAddr_group.addrMode = (afAddrMode_t)AddrGroup;
   \   00004B   90....       MOV     DPTR,#SerialApp_TxAddr_group + 8
   \   00004E   7401         MOV     A,#0x1
   \   000050   12....       LCALL   ??Subroutine45_0 & 0xFFFF
    258              SerialApp_TxAddr_group.endPoint = GENERICAPP_ENDPOINT;
    259              SerialApp_TxAddr_group.addr.shortAddr = 0x0000;
   \                     ??CrossCallReturnLabel_83:
   \   000053   90....       MOV     DPTR,#SerialApp_TxAddr_group
   \   000056   E4           CLR     A
   \   000057   F0           MOVX    @DPTR,A
   \   000058   A3           INC     DPTR
   \   000059   F0           MOVX    @DPTR,A
    260          	
    261              //point  to point
    262              SerialApp_TxAddr_p2p.addrMode = (afAddrMode_t)Addr16Bit;
   \   00005A   90....       MOV     DPTR,#SerialApp_TxAddr_p2p + 8
   \   00005D   12....       LCALL   ?Subroutine12 & 0xFFFF
    263              SerialApp_TxAddr_p2p.endPoint = GENERICAPP_ENDPOINT;
    264              SerialApp_TxAddr_p2p.addr.shortAddr = 0x0000;
   \                     ??CrossCallReturnLabel_81:
   \   000060   90....       MOV     DPTR,#SerialApp_TxAddr_p2p
   \   000063   E4           CLR     A
   \   000064   F0           MOVX    @DPTR,A
   \   000065   A3           INC     DPTR
   \   000066   F0           MOVX    @DPTR,A
    265          
    266          
    267            // Register the endpoint description with the AF
    268            afRegister( &GenericApp_epDesc );
   \   000067                ; Setup parameters for call to function afRegister
   \   000067   7A..         MOV     R2,#GenericApp_epDesc & 0xff
   \   000069   7B..         MOV     R3,#(GenericApp_epDesc >> 8) & 0xff
   \   00006B   12....       LCALL   `??afRegister::?relay`; Banked call to: afRegister
    269          
    270            // Register for all key events - This app will handle all key events
    271            RegisterForKeys( GenericApp_TaskID );
   \   00006E                ; Setup parameters for call to function RegisterForKeys
   \   00006E   90....       MOV     DPTR,#GenericApp_TaskID
   \   000071   E0           MOVX    A,@DPTR
   \   000072   F9           MOV     R1,A
   \   000073   12....       LCALL   `??RegisterForKeys::?relay`; Banked call to: RegisterForKeys
    272          
    273            // Update the display
    274          #if defined ( LCD_SUPPORTED )
    275            HalLcdWriteString( "GenericApp", HAL_LCD_LINE_1 );
   \   000076                ; Setup parameters for call to function HalLcdWriteString
   \   000076   7901         MOV     R1,#0x1
   \   000078   7A..         MOV     R2,#`?<Constant "GenericApp">` & 0xff
   \   00007A   7B..         MOV     R3,#(`?<Constant "GenericApp">` >> 8) & 0xff
   \   00007C   12....       LCALL   `??HalLcdWriteString::?relay`; Banked call to: HalLcdWriteString
    276          #endif
    277          
    278            ZDO_RegisterForZDOMsg( GenericApp_TaskID, End_Device_Bind_rsp );
   \   00007F                ; Setup parameters for call to function ZDO_RegisterForZDOMsg
   \   00007F   7A20         MOV     R2,#0x20
   \   000081   7B80         MOV     R3,#-0x80
   \   000083   90....       MOV     DPTR,#GenericApp_TaskID
   \   000086   E0           MOVX    A,@DPTR
   \   000087   F9           MOV     R1,A
   \   000088   12....       LCALL   `??ZDO_RegisterForZDOMsg::?relay`; Banked call to: ZDO_RegisterForZDOMsg
    279            ZDO_RegisterForZDOMsg( GenericApp_TaskID, Match_Desc_rsp );
   \   00008B                ; Setup parameters for call to function ZDO_RegisterForZDOMsg
   \   00008B   7A06         MOV     R2,#0x6
   \   00008D   7B80         MOV     R3,#-0x80
   \   00008F   90....       MOV     DPTR,#GenericApp_TaskID
   \   000092   E0           MOVX    A,@DPTR
   \   000093   F9           MOV     R1,A
   \   000094   12....       LCALL   `??ZDO_RegisterForZDOMsg::?relay`; Banked call to: ZDO_RegisterForZDOMsg
    280            
    281          #if( ZSTACK_DEVICE_BUILD == DEVICE_BUILD_COORDINATOR)
    282              ZDO_RegisterForZDOMsg( GenericApp_TaskID, Device_annce );  //chaokw
   \   000097                ; Setup parameters for call to function ZDO_RegisterForZDOMsg
   \   000097   7A13         MOV     R2,#0x13
   \   000099   7B00         MOV     R3,#0x0
   \   00009B   90....       MOV     DPTR,#GenericApp_TaskID
   \   00009E   E0           MOVX    A,@DPTR
   \   00009F   F9           MOV     R1,A
   \   0000A0   12....       LCALL   `??ZDO_RegisterForZDOMsg::?relay`; Banked call to: ZDO_RegisterForZDOMsg
    283          #endif 
    284          
    285          
    286          #if defined( IAR_ARMCM3_LM )
    287            // Register this task with RTOS task initiator
    288            RTOS_RegisterApp( task_id, GENERICAPP_RTOS_MSG_EVT );
    289          #endif
    290          
    291              CustomApp_zigbee_start_ind(); //chaokw lucis	
   \   0000A3                ; Setup parameters for call to function CustomApp_zigbee_start_ind
   \   0000A3   12....       LCALL   `??CustomApp_zigbee_start_ind::?relay`; Banked call to: CustomApp_zigbee_start_ind
    292          
    293          #if( ZSTACK_DEVICE_BUILD != DEVICE_BUILD_COORDINATOR)	
    294              Register_Group_Multiway();
    295          #endif
    296              
    297          #if( ZSTACK_DEVICE_BUILD == DEVICE_BUILD_COORDINATOR)
    298              CustomApp_loadstatus_ind();
   \   0000A6                ; Setup parameters for call to function CustomApp_loadstatus_ind
   \   0000A6   12....       LCALL   `??CustomApp_loadstatus_ind::?relay`; Banked call to: CustomApp_loadstatus_ind
    299              CustomApp_linkstatus_init();   //chaokw debug
   \   0000A9                ; Setup parameters for call to function CustomApp_linkstatus_init
   \   0000A9   12....       LCALL   `??CustomApp_linkstatus_init::?relay`; Banked call to: CustomApp_linkstatus_init
    300          
    301          
    302              //CustomApp_coordinater_broadcast_ping();
    303          	
    304          #if  NODE_AUTH 	
    305              Node_auth_init();
   \   0000AC                ; Setup parameters for call to function Node_auth_init
   \   0000AC   12....       LCALL   `??Node_auth_init::?relay`; Banked call to: Node_auth_init
    306          #endif    
    307          #endif    
    308          
    309          #if defined( ZDO_COORDINATOR ) && defined( WIFI_FREQUENCY_SELECT )
    310              //CustomApp_WifiChannelReq();
    311          #endif
    312          
    313          #ifdef WDT_IN_PM1
    314            osal_start_timerEx( GenericApp_TaskID,
    315                                GENERICAPP_FEED_DOG_EVT,
    316                                GENERICAPP_FEED_DOG_TIME_MAX);
   \   0000AF                ; Setup parameters for call to function osal_start_timerEx
   \   0000AF   90....       MOV     DPTR,#__Constant_320
   \   0000B2   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   0000B5   7A00         MOV     R2,#0x0
   \   0000B7   7B04         MOV     R3,#0x4
   \   0000B9   90....       MOV     DPTR,#GenericApp_TaskID
   \   0000BC   E0           MOVX    A,@DPTR
   \   0000BD   F9           MOV     R1,A
   \   0000BE   12....       LCALL   `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
   \   0000C1   7404         MOV     A,#0x4
   \   0000C3   12....       LCALL   ?DEALLOC_XSTACK8
    317          #endif
    318          
    319          }
   \   0000C6                REQUIRE ?Subroutine0
   \   0000C6                ; // Fall through to label ?Subroutine0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine0:
   \   000000   7F01         MOV     R7,#0x1
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine12:
   \   000000   7402         MOV     A,#0x2
   \   000002                REQUIRE ??Subroutine45_0
   \   000002                ; // Fall through to label ??Subroutine45_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine45_0:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   A3           INC     DPTR
   \   000002   740A         MOV     A,#0xa
   \   000004   F0           MOVX    @DPTR,A
   \   000005   22           RET
    320          
    321          /*********************************************************************
    322           * @fn      GenericApp_ProcessEvent
    323           *
    324           * @brief   Generic Application Task event processor.  This function
    325           *          is called to process all events for the task.  Events
    326           *          include timers, messages and any other user defined events.
    327           *
    328           * @param   task_id  - The OSAL assigned task ID.
    329           * @param   events - events to process.  This is a bit map and can
    330           *                   contain more than one event.
    331           *
    332           * @return  none
    333           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    334          uint16 GenericApp_ProcessEvent( uint8 task_id, uint16 events )
   \                     GenericApp_ProcessEvent:
    335          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 12
   \   000005   74F4         MOV     A,#-0xc
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   EA           MOV     A,R2
   \   00000B   FE           MOV     R6,A
   \   00000C   EB           MOV     A,R3
   \   00000D   FF           MOV     R7,A
    336            afIncomingMSGPacket_t *MSGpkt;
    337            afDataConfirm_t *afDataConfirm;
    338          
    339            // Data Confirmation message fields
    340            byte sentEP;
    341          #if( ZSTACK_DEVICE_BUILD != DEVICE_BUILD_COORDINATOR) 
    342            ZStatus_t sentStatus;
    343          #endif 
    344            byte sentTransID;       // This should match the value sent
    345            (void)task_id;  // Intentionally unreferenced parameter
    346          
    347            if (events & GENERICAPP_FEED_DOG_EVT)
   \   00000E   5404         ANL     A,#0x4
   \   000010   6025         JZ      ??GenericApp_ProcessEvent_0
    348            {
    349          #ifdef WDT_IN_PM1
    350                  WatchDogFeedDog();
   \   000012   75C9A0       MOV     0xc9,#-0x60
   \   000015   75C950       MOV     0xc9,#0x50
    351                  osal_start_timerEx( GenericApp_TaskID,
    352                                GENERICAPP_FEED_DOG_EVT,
    353                                GENERICAPP_FEED_DOG_TIME_MAX);
   \   000018                ; Setup parameters for call to function osal_start_timerEx
   \   000018   90....       MOV     DPTR,#__Constant_320
   \   00001B   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   00001E   7A00         MOV     R2,#0x0
   \   000020   7B04         MOV     R3,#0x4
   \   000022   90....       MOV     DPTR,#GenericApp_TaskID
   \   000025   E0           MOVX    A,@DPTR
   \   000026   F9           MOV     R1,A
   \   000027   12....       LCALL   `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
   \   00002A   7404         MOV     A,#0x4
   \   00002C   12....       LCALL   ?DEALLOC_XSTACK8
    354          #endif
    355                  return (events ^ GENERICAPP_FEED_DOG_EVT);
   \   00002F   EE           MOV     A,R6
   \   000030   FA           MOV     R2,A
   \   000031   EF           MOV     A,R7
   \   000032   6404         XRL     A,#0x4
   \   000034   02....       LJMP    ??GenericApp_ProcessEvent_1 & 0xFFFF
    356            }
    357          
    358            if ( events & SYS_EVENT_MSG )
   \                     ??GenericApp_ProcessEvent_0:
   \   000037   EF           MOV     A,R7
   \   000038   5480         ANL     A,#0x80
   \   00003A   7003         JNZ     $+5
   \   00003C   02....       LJMP    ??GenericApp_ProcessEvent_2 & 0xFFFF
    359            {
    360              MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( GenericApp_TaskID );
   \   00003F                ; Setup parameters for call to function osal_msg_receive
   \   00003F   800E         SJMP    ??GenericApp_ProcessEvent_3
    361              while ( MSGpkt )
    362              {
    363                switch ( MSGpkt->hdr.event )
    364                {
    365                  case ZDO_CB_MSG:
    366                    GenericApp_ProcessZDOMsgs( (zdoIncomingMsg_t *)MSGpkt );
    367                    break;
    368          
    369                  case KEY_CHANGE:
    370                    GenericApp_HandleKeys( ((keyChange_t *)MSGpkt)->state, ((keyChange_t *)MSGpkt)->keys );
    371                    break;
    372          
    373                  case AF_DATA_CONFIRM_CMD:	
    374                    // This message is received as a confirmation of a data packet sent.
    375                    // The status is of ZStatus_t type [defined in ZComDef.h]
    376                    // The message fields are defined in AF.h
    377                    afDataConfirm = (afDataConfirm_t *)MSGpkt;
    378          
    379                    sentEP = afDataConfirm->endpoint;
    380                    (void)sentEP;  // This info not used now
    381                    sentTransID = afDataConfirm->transID;
    382                    (void)sentTransID;  // This info not used now
    383          
    384          #if 1   //chaokw ping
    385          #if( ZSTACK_DEVICE_BUILD != DEVICE_BUILD_COORDINATOR)		
    386                    sentStatus = afDataConfirm->hdr.status;
    387                    // Action taken when confirmation is received.
    388                    if ( sentStatus != ZSuccess )
    389                    {
    390                      // The data wasn't delivered -- Do something
    391          #if defined( LCD_SUPPORTED )
    392                          HalLcdWriteStringValue( (char*)"aps ack:", sentStatus, 16, HAL_LCD_LINE_2 );  //chaokw		
    393          #endif
    394          
    395          //---------------------------------------
    396          #if 0
    397                          if(0x0000 == _NIB.nwkCoordAddress)
    398                          {
    399                             if(sentStatus == ZMacNoACK)
    400                               ping_error_cnt++;
    401                          }
    402          		  else
    403          		  {
    404          		     if(sentStatus == ZApsNoAck)
    405                               ping_error_cnt++;
    406          		  }
    407          #else
    408                          ping_error_cnt++;
    409          #endif
    410          //----------------------------------------
    411          
    412                          if(ping_error_cnt < TIMEOUT_CNT)
    413                          {
    414          		      //SerialApp_ping_request_init();
    415                          }
    416          		  else if(ping_error_cnt > TIMEOUT_CNT)
    417          		  {
    418                              ping_error_cnt = TIMEOUT_CNT;
    419          		      ping_result = 1;
    420                              // rejoin network by zstack?
    421          #if 0  //chaokw
    422          		      // restart and clear NV mwk info
    423          #if defined(NV_INIT) && defined(NV_RESTORE)
    424                              NLME_InitNV();
    425                              NLME_SetDefaultNV();
    426                              ZDSecMgrClearNVKeyValues();
    427          #endif
    428                              Onboard_soft_reset();	
    429          #else
    430                              //Onboard_soft_reset();	 //chaokw ping
    431          #endif
    432          		  }
    433                    }
    434                    else
    435                    {
    436                              ping_error_cnt = 0;    //chaokw 20170412
    437                              ping_result = 0;
    438          	   }
    439          #if defined( LCD_SUPPORTED )		  
    440                    HalLcdWriteStringValue( (char*)"pingresult", ping_result, 10, HAL_LCD_LINE_1 );
    441          #endif
    442          #endif
    443          #endif
    444          
    445                    break;
    446          
    447                  case AF_INCOMING_MSG_CMD:
    448                    GenericApp_MessageMSGCB( MSGpkt );
    449                    break;
    450          
    451                  case ZDO_STATE_CHANGE:
    452                    GenericApp_NwkState = (devStates_t)(MSGpkt->hdr.status);
    453          
    454                    if ((_NIB.nwkPanId >= (ZDAPP_CONFIG_PAN_ID + PANID_INCREASE_CNT))   //chaokw panid
    455                      || (zgConfigPANID >= (ZDAPP_CONFIG_PAN_ID + PANID_INCREASE_CNT)))
    456                    {
    457            #if defined(NV_INIT) && defined(NV_RESTORE)
    458                        NLME_InitNV();
    459                        NLME_SetDefaultNV();
    460                        ZDSecMgrClearNVKeyValues();
    461            #endif
    462                        Onboard_soft_reset();
    463                    }            
    464          
    465          
    466          #if defined( LCD_SUPPORTED )			       
    467                       HalLcdWriteStringValue( (char*)"panid:", _NIB.nwkPanId, 16, HAL_LCD_LINE_1 ); 
    468                       HalLcdWriteStringValue( (char*)"devState:", devState, 10, HAL_LCD_LINE_3 ); 			 
    469          #endif			  
    470          		  
    471                    if ( (GenericApp_NwkState == DEV_ROUTER) ||
    472                         (GenericApp_NwkState == DEV_END_DEVICE) )
    473                    {
    474          	      CustomApp_loadstatus_ind();	  
    475          	      CustomApp_ping_request_init();
    476                       CustomApp_ping_timeout_check_init();  //chaokw ping		  
    477                       CustomApp_send_ping_req();  //chaokw  20170322	
    478                       osal_start_timerEx( GenericApp_TaskID,
    479          					GENERICAPP_LOADSTATUS_MSG_EVT,
    480          					5000); 		 
    481                    }
    482          		  
    483                    if ( (GenericApp_NwkState == DEV_ZB_COORD) )
    484                    {
    485                       CustomApp_coordinator_online_req();
    486                       osal_start_timerEx( GenericApp_TaskID,
    487          					GENERICAPP_COORDINATOR_ONLINE_EVT,
    488          					5000); 			 
    489                       CustomApp_coordinater_broadcast_ping_init();  //chaokw ping			 
    490                    }		 
    491                    break;
    492          
    493          
    494          #if defined( ZDO_COORDINATOR ) && defined( WIFI_FREQUENCY_SELECT )
    495                  case ZDO_CHANNEL_UPDATE:
    496                    CustomApp_ChannelSelect(MSGpkt);
    497          	   break;
    498          #endif
    499          		  
    500                  case ZDO_P2P_REQ:
    501                    CustomApp_Send_P2P_Data(MSGpkt);
    502                    break;
    503          
    504                  case ZDO_GROUP_REQ:
    505                    CustomApp_Send_Group_Data(MSGpkt);
    506                    break;
    507          		  
    508                  case ZDO_BROADCAST_REQ:
    509                    CustomApp_Send_BroadCast_Data(MSGpkt);
    510                    break;			  
    511          
    512                  case ZDO_MAC_REQ:
    513                    CustomApp_Get_ExtAddr();
    514                    break;
    515          
    516                  case ZDO_NWKINFO_REQ:
    517                    CustomApp_Get_NWKInfo();
    518                    break;
    519          
    520                  case ZDO_ACTIVE_CNT_REQ:
    521                    CustomApp_Get_Active_Cnt();
    522                    break;
    523          
    524                  case ZDO_FW_VERSION_REQ:
    525                    CustomApp_Get_Version();
    526                    break;
    527          
    528                  case ZDO_FW_UPDATE_REQ:
    529                    CustomApp_FW_Update();
    530                    break;
    531          
    532                  case ZDO_MULTIWAY_SET_REQ:
    533                    CustomApp_Set_Multiway(MSGpkt);
   \                     ??GenericApp_ProcessEvent_4:
   \   000041                ; Setup parameters for call to function CustomApp_Set_Multiway
   \   000041   AA..         MOV     R2,?V0
   \   000043   AB..         MOV     R3,?V1
   \   000045   12....       LCALL   `??CustomApp_Set_Multiway::?relay`; Banked call to: CustomApp_Set_Multiway
    534                    break;
    535          		  
    536                  default:
    537                    break;
    538                }
    539                // Release the memory
    540                osal_msg_deallocate( (uint8 *)MSGpkt );
   \                     ??GenericApp_ProcessEvent_5:
   \   000048                ; Setup parameters for call to function osal_msg_deallocate
   \   000048   AA..         MOV     R2,?V0
   \   00004A   AB..         MOV     R3,?V1
   \   00004C   12....       LCALL   `??osal_msg_deallocate::?relay`; Banked call to: osal_msg_deallocate
    541          
    542                // Next
    543                MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( GenericApp_TaskID );
   \   00004F                ; Setup parameters for call to function osal_msg_receive
   \                     ??GenericApp_ProcessEvent_3:
   \   00004F   90....       MOV     DPTR,#GenericApp_TaskID
   \   000052   E0           MOVX    A,@DPTR
   \   000053   F9           MOV     R1,A
   \   000054   12....       LCALL   `??osal_msg_receive::?relay`; Banked call to: osal_msg_receive
   \   000057   8A..         MOV     ?V0,R2
   \   000059   8B..         MOV     ?V1,R3
   \   00005B   E5..         MOV     A,?V0
   \   00005D   45..         ORL     A,?V1
   \   00005F   7003         JNZ     $+5
   \   000061   02....       LJMP    ??GenericApp_ProcessEvent_6 & 0xFFFF
   \   000064   85..82       MOV     DPL,?V0
   \   000067   85..83       MOV     DPH,?V1
   \   00006A   E0           MOVX    A,@DPTR
   \   00006B   24E6         ADD     A,#-0x1a
   \   00006D   6063         JZ      ??GenericApp_ProcessEvent_7
   \   00006F   245A         ADD     A,#0x5a
   \   000071   604A         JZ      ??GenericApp_ProcessEvent_8
   \   000073   24EF         ADD     A,#-0x11
   \   000075   6065         JZ      ??GenericApp_ProcessEvent_9
   \   000077   24FE         ADD     A,#-0x2
   \   000079   6039         JZ      ??GenericApp_ProcessEvent_10
   \   00007B   24F2         ADD     A,#-0xe
   \   00007D   7003         JNZ     $+5
   \   00007F   02....       LJMP    ??GenericApp_ProcessEvent_11 & 0xFFFF
   \   000082   24FE         ADD     A,#-0x2
   \   000084   7003         JNZ     $+5
   \   000086   02....       LJMP    ??GenericApp_ProcessEvent_12 & 0xFFFF
   \   000089   24FC         ADD     A,#-0x4
   \   00008B   7003         JNZ     $+5
   \   00008D   02....       LJMP    ??GenericApp_ProcessEvent_13 & 0xFFFF
   \   000090   14           DEC     A
   \   000091   7003         JNZ     $+5
   \   000093   02....       LJMP    ??GenericApp_ProcessEvent_14 & 0xFFFF
   \   000096   14           DEC     A
   \   000097   7003         JNZ     $+5
   \   000099   02....       LJMP    ??GenericApp_ProcessEvent_15 & 0xFFFF
   \   00009C   14           DEC     A
   \   00009D   7003         JNZ     $+5
   \   00009F   02....       LJMP    ??GenericApp_ProcessEvent_16 & 0xFFFF
   \   0000A2   24FE         ADD     A,#-0x2
   \   0000A4   609B         JZ      ??GenericApp_ProcessEvent_4
   \   0000A6   14           DEC     A
   \   0000A7   7003         JNZ     $+5
   \   0000A9   02....       LJMP    ??GenericApp_ProcessEvent_17 & 0xFFFF
   \   0000AC   14           DEC     A
   \   0000AD   7003         JNZ     $+5
   \   0000AF   02....       LJMP    ??GenericApp_ProcessEvent_18 & 0xFFFF
   \   0000B2   8094         SJMP    ??GenericApp_ProcessEvent_5
   \                     ??GenericApp_ProcessEvent_10:
   \   0000B4                ; Setup parameters for call to function GenericApp_ProcessZDOMsgs
   \   0000B4   AA..         MOV     R2,?V0
   \   0000B6   AB..         MOV     R3,?V1
   \   0000B8   12....       LCALL   `??GenericApp_ProcessZDOMsgs::?relay`; Banked call to: GenericApp_ProcessZDOMsgs
   \   0000BB   808B         SJMP    ??GenericApp_ProcessEvent_5
   \                     ??GenericApp_ProcessEvent_8:
   \   0000BD                ; Setup parameters for call to function GenericApp_HandleKeys
   \   0000BD   A3           INC     DPTR
   \   0000BE   A3           INC     DPTR
   \   0000BF   A3           INC     DPTR
   \   0000C0   E0           MOVX    A,@DPTR
   \   0000C1   FA           MOV     R2,A
   \   0000C2   85..82       MOV     DPL,?V0
   \   0000C5   85..83       MOV     DPH,?V1
   \   0000C8   A3           INC     DPTR
   \   0000C9   A3           INC     DPTR
   \   0000CA   E0           MOVX    A,@DPTR
   \   0000CB   F9           MOV     R1,A
   \   0000CC   12....       LCALL   `??GenericApp_HandleKeys::?relay`; Banked call to: GenericApp_HandleKeys
   \   0000CF   02....       LJMP    ??GenericApp_ProcessEvent_5 & 0xFFFF
   \                     ??GenericApp_ProcessEvent_7:
   \   0000D2                ; Setup parameters for call to function GenericApp_MessageMSGCB
   \   0000D2   AA..         MOV     R2,?V0
   \   0000D4   AB..         MOV     R3,?V1
   \   0000D6   12....       LCALL   `??GenericApp_MessageMSGCB::?relay`; Banked call to: GenericApp_MessageMSGCB
   \   0000D9   02....       LJMP    ??GenericApp_ProcessEvent_5 & 0xFFFF
   \                     ??GenericApp_ProcessEvent_9:
   \   0000DC   A3           INC     DPTR
   \   0000DD   E0           MOVX    A,@DPTR
   \   0000DE   90....       MOV     DPTR,#GenericApp_NwkState
   \   0000E1   F0           MOVX    @DPTR,A
   \   0000E2   90....       MOV     DPTR,#_NIB + 33
   \   0000E5   C3           CLR     C
   \   0000E6   E0           MOVX    A,@DPTR
   \   0000E7   9407         SUBB    A,#0x7
   \   0000E9   A3           INC     DPTR
   \   0000EA   E0           MOVX    A,@DPTR
   \   0000EB   9400         SUBB    A,#0x0
   \   0000ED   500D         JNC     ??GenericApp_ProcessEvent_19
   \   0000EF   90....       MOV     DPTR,#zgConfigPANID
   \   0000F2   C3           CLR     C
   \   0000F3   E0           MOVX    A,@DPTR
   \   0000F4   9407         SUBB    A,#0x7
   \   0000F6   A3           INC     DPTR
   \   0000F7   E0           MOVX    A,@DPTR
   \   0000F8   9400         SUBB    A,#0x0
   \   0000FA   400C         JC      ??GenericApp_ProcessEvent_20
   \                     ??GenericApp_ProcessEvent_19:
   \   0000FC                ; Setup parameters for call to function NLME_InitNV
   \   0000FC   12....       LCALL   `??NLME_InitNV::?relay`; Banked call to: NLME_InitNV
   \   0000FF                ; Setup parameters for call to function NLME_SetDefaultNV
   \   0000FF   12....       LCALL   `??NLME_SetDefaultNV::?relay`; Banked call to: NLME_SetDefaultNV
   \   000102                ; Setup parameters for call to function ZDSecMgrClearNVKeyValues
   \   000102   12....       LCALL   `??ZDSecMgrClearNVKeyValues::?relay`; Banked call to: ZDSecMgrClearNVKeyValues
   \   000105                ; Setup parameters for call to function Onboard_soft_reset
   \   000105   12....       LCALL   Onboard_soft_reset & 0xFFFF
   \                     ??GenericApp_ProcessEvent_20:
   \   000108                ; Setup parameters for call to function HalLcdWriteStringValue
   \   000108   75..01       MOV     ?V2,#0x1
   \   00010B   78..         MOV     R0,#?V2
   \   00010D   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000110   7910         MOV     R1,#0x10
   \   000112   90....       MOV     DPTR,#_NIB + 33
   \   000115   12....       LCALL   ??Subroutine46_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_84:
   \   000118   7A..         MOV     R2,#`?<Constant "panid:">` & 0xff
   \   00011A   7B..         MOV     R3,#(`?<Constant "panid:">` >> 8) & 0xff
   \   00011C   12....       LCALL   `??HalLcdWriteStringValue::?relay`; Banked call to: HalLcdWriteStringValue
   \   00011F   7401         MOV     A,#0x1
   \   000121   12....       LCALL   ?DEALLOC_XSTACK8
   \   000124                ; Setup parameters for call to function HalLcdWriteStringValue
   \   000124   75..05       MOV     ?V2,#0x5
   \   000127   78..         MOV     R0,#?V2
   \   000129   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00012C   790A         MOV     R1,#0xa
   \   00012E   90....       MOV     DPTR,#devState
   \   000131   E0           MOVX    A,@DPTR
   \   000132   FC           MOV     R4,A
   \   000133   7D00         MOV     R5,#0x0
   \   000135   7A..         MOV     R2,#`?<Constant "devState:">` & 0xff
   \   000137   7B..         MOV     R3,#(`?<Constant "devState:">` >> 8) & 0xff
   \   000139   12....       LCALL   `??HalLcdWriteStringValue::?relay`; Banked call to: HalLcdWriteStringValue
   \   00013C   7401         MOV     A,#0x1
   \   00013E   12....       LCALL   ?DEALLOC_XSTACK8
   \   000141   90....       MOV     DPTR,#GenericApp_NwkState
   \   000144   E0           MOVX    A,@DPTR
   \   000145   6407         XRL     A,#0x7
   \   000147   6005         JZ      ??GenericApp_ProcessEvent_21
   \   000149   E0           MOVX    A,@DPTR
   \   00014A   6406         XRL     A,#0x6
   \   00014C   7023         JNZ     ??GenericApp_ProcessEvent_22
   \                     ??GenericApp_ProcessEvent_21:
   \   00014E                ; Setup parameters for call to function CustomApp_loadstatus_ind
   \   00014E   12....       LCALL   `??CustomApp_loadstatus_ind::?relay`; Banked call to: CustomApp_loadstatus_ind
   \   000151                ; Setup parameters for call to function CustomApp_ping_request_init
   \   000151   12....       LCALL   `??CustomApp_ping_request_init::?relay`; Banked call to: CustomApp_ping_request_init
   \   000154                ; Setup parameters for call to function CustomApp_ping_timeout_check_init
   \   000154   12....       LCALL   `??CustomApp_ping_timeout_check_init::?relay`; Banked call to: CustomApp_ping_timeout_check_init
   \   000157                ; Setup parameters for call to function CustomApp_send_ping_req
   \   000157   12....       LCALL   `??CustomApp_send_ping_req::?relay`; Banked call to: CustomApp_send_ping_req
   \   00015A                ; Setup parameters for call to function osal_start_timerEx
   \   00015A   90....       MOV     DPTR,#__Constant_1388
   \   00015D   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000160   7A40         MOV     R2,#0x40
   \   000162   7B00         MOV     R3,#0x0
   \   000164   90....       MOV     DPTR,#GenericApp_TaskID
   \   000167   E0           MOVX    A,@DPTR
   \   000168   F9           MOV     R1,A
   \   000169   12....       LCALL   `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
   \   00016C   7404         MOV     A,#0x4
   \   00016E   12....       LCALL   ?DEALLOC_XSTACK8
   \                     ??GenericApp_ProcessEvent_22:
   \   000171   90....       MOV     DPTR,#GenericApp_NwkState
   \   000174   E0           MOVX    A,@DPTR
   \   000175   6409         XRL     A,#0x9
   \   000177   6003         JZ      $+5
   \   000179   02....       LJMP    ??GenericApp_ProcessEvent_5 & 0xFFFF
   \   00017C                ; Setup parameters for call to function CustomApp_coordinator_online_req
   \   00017C   12....       LCALL   `??CustomApp_coordinator_online_req::?relay`; Banked call to: CustomApp_coordinator_online_req
   \   00017F                ; Setup parameters for call to function osal_start_timerEx
   \   00017F   90....       MOV     DPTR,#__Constant_1388
   \   000182   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000185   7A00         MOV     R2,#0x0
   \   000187   7B08         MOV     R3,#0x8
   \   000189   90....       MOV     DPTR,#GenericApp_TaskID
   \   00018C   E0           MOVX    A,@DPTR
   \   00018D   F9           MOV     R1,A
   \   00018E   12....       LCALL   `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
   \   000191   7404         MOV     A,#0x4
   \   000193   12....       LCALL   ?DEALLOC_XSTACK8
   \   000196                ; Setup parameters for call to function CustomApp_coordinater_broadcast_ping_init
   \   000196   12....       LCALL   `??CustomApp_coordinater_broadcast_ping_init::?r`; Banked call to: CustomApp_coordinater_broadcast_ping_init
   \   000199   02....       LJMP    ??GenericApp_ProcessEvent_5 & 0xFFFF
   \                     ??GenericApp_ProcessEvent_11:
   \   00019C                ; Setup parameters for call to function CustomApp_Send_P2P_Data
   \   00019C   AA..         MOV     R2,?V0
   \   00019E   AB..         MOV     R3,?V1
   \   0001A0   12....       LCALL   `??CustomApp_Send_P2P_Data::?relay`; Banked call to: CustomApp_Send_P2P_Data
   \   0001A3   02....       LJMP    ??GenericApp_ProcessEvent_5 & 0xFFFF
   \                     ??GenericApp_ProcessEvent_12:
   \   0001A6                ; Setup parameters for call to function CustomApp_Send_Group_Data
   \   0001A6   AA..         MOV     R2,?V0
   \   0001A8   AB..         MOV     R3,?V1
   \   0001AA   12....       LCALL   `??CustomApp_Send_Group_Data::?relay`; Banked call to: CustomApp_Send_Group_Data
   \   0001AD   02....       LJMP    ??GenericApp_ProcessEvent_5 & 0xFFFF
   \                     ??GenericApp_ProcessEvent_16:
   \   0001B0                ; Setup parameters for call to function CustomApp_Send_BroadCast_Data
   \   0001B0   AA..         MOV     R2,?V0
   \   0001B2   AB..         MOV     R3,?V1
   \   0001B4   12....       LCALL   `??CustomApp_Send_BroadCast_Data::?relay`; Banked call to: CustomApp_Send_BroadCast_Data
   \   0001B7   02....       LJMP    ??GenericApp_ProcessEvent_5 & 0xFFFF
   \                     ??GenericApp_ProcessEvent_13:
   \   0001BA                ; Setup parameters for call to function CustomApp_Get_ExtAddr
   \   0001BA   12....       LCALL   `??CustomApp_Get_ExtAddr::?relay`; Banked call to: CustomApp_Get_ExtAddr
   \   0001BD   02....       LJMP    ??GenericApp_ProcessEvent_5 & 0xFFFF
   \                     ??GenericApp_ProcessEvent_18:
   \   0001C0                ; Setup parameters for call to function CustomApp_Get_NWKInfo
   \   0001C0   12....       LCALL   `??CustomApp_Get_NWKInfo::?relay`; Banked call to: CustomApp_Get_NWKInfo
   \   0001C3   02....       LJMP    ??GenericApp_ProcessEvent_5 & 0xFFFF
   \                     ??GenericApp_ProcessEvent_17:
   \   0001C6                ; Setup parameters for call to function CustomApp_Get_Active_Cnt
   \   0001C6   12....       LCALL   `??CustomApp_Get_Active_Cnt::?relay`; Banked call to: CustomApp_Get_Active_Cnt
   \   0001C9   02....       LJMP    ??GenericApp_ProcessEvent_5 & 0xFFFF
   \                     ??GenericApp_ProcessEvent_14:
   \   0001CC                ; Setup parameters for call to function CustomApp_Get_Version
   \   0001CC   12....       LCALL   `??CustomApp_Get_Version::?relay`; Banked call to: CustomApp_Get_Version
   \   0001CF   02....       LJMP    ??GenericApp_ProcessEvent_5 & 0xFFFF
   \                     ??GenericApp_ProcessEvent_15:
   \   0001D2                ; Setup parameters for call to function CustomApp_FW_Update
   \   0001D2   12....       LCALL   `??CustomApp_FW_Update::?relay`; Banked call to: CustomApp_FW_Update
   \   0001D5   02....       LJMP    ??GenericApp_ProcessEvent_5 & 0xFFFF
    544              }
    545          
    546              // return unprocessed events
    547              return (events ^ SYS_EVENT_MSG);
   \                     ??GenericApp_ProcessEvent_6:
   \   0001D8   EE           MOV     A,R6
   \   0001D9   FA           MOV     R2,A
   \   0001DA   EF           MOV     A,R7
   \   0001DB   6480         XRL     A,#0x80
   \   0001DD   02....       LJMP    ??GenericApp_ProcessEvent_1 & 0xFFFF
    548            }
    549          
    550            // Send a message out - This event is generated by a timer
    551            //  (setup in GenericApp_Init()).
    552            if ( events & GENERICAPP_SEND_MSG_EVT )
   \                     ??GenericApp_ProcessEvent_2:
   \   0001E0   EE           MOV     A,R6
   \   0001E1   A2E0         MOV     C,0xE0 /* A   */.0
   \   0001E3   507D         JNC     ??GenericApp_ProcessEvent_23
    553            {
    554              // Send "the" message
    555              GenericApp_SendTheMessage();  //chaokw
   \   0001E5   90....       MOV     DPTR,#`?<Constant "Hello World">`
   \   0001E8   AC..         MOV     R4,?XSP + 0
   \   0001EA   AD..         MOV     R5,?XSP + 1
   \   0001EC   740C         MOV     A,#0xc
   \   0001EE   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
   \   0001F1                ; Setup parameters for call to function osal_strlen
   \   0001F1   AA..         MOV     R2,?XSP + 0
   \   0001F3   AB..         MOV     R3,?XSP + 1
   \   0001F5   12....       LCALL   `??osal_strlen::?relay`; Banked call to: osal_strlen
   \   0001F8                ; Setup parameters for call to function AF_DataRequest
   \   0001F8   75..1E       MOV     ?V0,#0x1e
   \   0001FB   78..         MOV     R0,#?V0
   \   0001FD   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000200   75....       MOV     ?V0,#GenericApp_TransID & 0xff
   \   000203   75....       MOV     ?V1,#(GenericApp_TransID >> 8) & 0xff
   \   000206   78..         MOV     R0,#?V0
   \   000208   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00020B   7403         MOV     A,#0x3
   \   00020D   12....       LCALL   ?XSTACK_DISP100_8
   \   000210   88..         MOV     ?V0,R0
   \   000212   89..         MOV     ?V1,R1
   \   000214   78..         MOV     R0,#?V0
   \   000216   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000219   EA           MOV     A,R2
   \   00021A   2401         ADD     A,#0x1
   \   00021C   F5..         MOV     ?V0,A
   \   00021E   E4           CLR     A
   \   00021F   3400         ADDC    A,#0x0
   \   000221   F5..         MOV     ?V1,A
   \   000223   78..         MOV     R0,#?V0
   \   000225   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000228   75..01       MOV     ?V0,#0x1
   \   00022B   75..00       MOV     ?V1,#0x0
   \   00022E   78..         MOV     R0,#?V0
   \   000230   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000233   7900         MOV     R1,#0x0
   \   000235   7C..         MOV     R4,#GenericApp_epDesc & 0xff
   \   000237   7D..         MOV     R5,#(GenericApp_epDesc >> 8) & 0xff
   \   000239   7A..         MOV     R2,#GenericApp_DstAddr & 0xff
   \   00023B   7B..         MOV     R3,#(GenericApp_DstAddr >> 8) & 0xff
   \   00023D   12....       LCALL   `??AF_DataRequest::?relay`; Banked call to: AF_DataRequest
   \   000240   7409         MOV     A,#0x9
   \   000242   12....       LCALL   ?DEALLOC_XSTACK8
    556          
    557              // Setup to send message again
    558              osal_start_timerEx( GenericApp_TaskID,
    559                                  GENERICAPP_SEND_MSG_EVT,
    560                                  txMsgDelay );
   \   000245                ; Setup parameters for call to function osal_start_timerEx
   \   000245   90....       MOV     DPTR,#txMsgDelay
   \   000248   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   00024B   7A01         MOV     R2,#0x1
   \   00024D   7B00         MOV     R3,#0x0
   \   00024F   90....       MOV     DPTR,#GenericApp_TaskID
   \   000252   E0           MOVX    A,@DPTR
   \   000253   F9           MOV     R1,A
   \   000254   12....       LCALL   `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
   \   000257   7404         MOV     A,#0x4
   \   000259   12....       LCALL   ?DEALLOC_XSTACK8
    561          
    562              // return unprocessed events
    563              return (events ^ GENERICAPP_SEND_MSG_EVT);
   \   00025C   EE           MOV     A,R6
   \   00025D   6401         XRL     A,#0x1
   \   00025F   02....       LJMP    ??GenericApp_ProcessEvent_24 & 0xFFFF
    564            }
    565          
    566          #if defined( IAR_ARMCM3_LM )
    567            // Receive a message from the RTOS queue
    568            if ( events & GENERICAPP_RTOS_MSG_EVT )
    569            {
    570              // Process message from RTOS queue
    571              GenericApp_ProcessRtosMessage();
    572          
    573              // return unprocessed events
    574              return (events ^ GENERICAPP_RTOS_MSG_EVT);
    575            }
    576          #endif
    577          
    578          
    579             if ( events & GENERICAPP_PING_MSG_EVT)
   \                     ??GenericApp_ProcessEvent_23:
   \   000262   5404         ANL     A,#0x4
   \   000264   602B         JZ      ??GenericApp_ProcessEvent_25
    580             {
    581          	osal_stop_timerEx( GenericApp_TaskID, GENERICAPP_PING_MSG_EVT );
   \   000266                ; Setup parameters for call to function osal_stop_timerEx
   \   000266   7A04         MOV     R2,#0x4
   \   000268   7B00         MOV     R3,#0x0
   \   00026A   90....       MOV     DPTR,#GenericApp_TaskID
   \   00026D   E0           MOVX    A,@DPTR
   \   00026E   F9           MOV     R1,A
   \   00026F   12....       LCALL   `??osal_stop_timerEx::?relay`; Banked call to: osal_stop_timerEx
    582          	CustomApp_send_ping_req();
   \   000272                ; Setup parameters for call to function CustomApp_send_ping_req
   \   000272   12....       LCALL   `??CustomApp_send_ping_req::?relay`; Banked call to: CustomApp_send_ping_req
    583          	osal_start_timerEx( GenericApp_TaskID, GENERICAPP_PING_MSG_EVT, PING_PERIOD);
   \   000275                ; Setup parameters for call to function osal_start_timerEx
   \   000275   90....       MOV     DPTR,#__Constant_3a98
   \   000278   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   00027B   7A04         MOV     R2,#0x4
   \   00027D   7B00         MOV     R3,#0x0
   \   00027F   90....       MOV     DPTR,#GenericApp_TaskID
   \   000282   E0           MOVX    A,@DPTR
   \   000283   F9           MOV     R1,A
   \   000284   12....       LCALL   `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
   \   000287   7404         MOV     A,#0x4
   \   000289   12....       LCALL   ?DEALLOC_XSTACK8
    584          
    585          	return (events ^ GENERICAPP_PING_MSG_EVT);	
   \   00028C   EE           MOV     A,R6
   \   00028D   6404         XRL     A,#0x4
   \   00028F   807B         SJMP    ??GenericApp_ProcessEvent_24
    586             }
    587          
    588          
    589             if ( events & GENERICAPP_LINK_STATUS_EVT)
   \                     ??GenericApp_ProcessEvent_25:
   \   000291   EE           MOV     A,R6
   \   000292   5408         ANL     A,#0x8
   \   000294   602B         JZ      ??GenericApp_ProcessEvent_26
    590             {
    591          	osal_stop_timerEx( GenericApp_TaskID, GENERICAPP_LINK_STATUS_EVT );
   \   000296                ; Setup parameters for call to function osal_stop_timerEx
   \   000296   7A08         MOV     R2,#0x8
   \   000298   7B00         MOV     R3,#0x0
   \   00029A   90....       MOV     DPTR,#GenericApp_TaskID
   \   00029D   E0           MOVX    A,@DPTR
   \   00029E   F9           MOV     R1,A
   \   00029F   12....       LCALL   `??osal_stop_timerEx::?relay`; Banked call to: osal_stop_timerEx
    592          	CustomApp_linkstatus_updated();
   \   0002A2                ; Setup parameters for call to function CustomApp_linkstatus_updated
   \   0002A2   12....       LCALL   `??CustomApp_linkstatus_updated::?relay`; Banked call to: CustomApp_linkstatus_updated
    593          	osal_start_timerEx( GenericApp_TaskID, GENERICAPP_LINK_STATUS_EVT, LINKSTAT_PRRIOD);
   \   0002A5                ; Setup parameters for call to function osal_start_timerEx
   \   0002A5   90....       MOV     DPTR,#__Constant_3a98
   \   0002A8   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   0002AB   7A08         MOV     R2,#0x8
   \   0002AD   7B00         MOV     R3,#0x0
   \   0002AF   90....       MOV     DPTR,#GenericApp_TaskID
   \   0002B2   E0           MOVX    A,@DPTR
   \   0002B3   F9           MOV     R1,A
   \   0002B4   12....       LCALL   `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
   \   0002B7   7404         MOV     A,#0x4
   \   0002B9   12....       LCALL   ?DEALLOC_XSTACK8
    594          
    595          	return (events ^ GENERICAPP_LINK_STATUS_EVT);	
   \   0002BC   EE           MOV     A,R6
   \   0002BD   6408         XRL     A,#0x8
   \   0002BF   804B         SJMP    ??GenericApp_ProcessEvent_24
    596             }
    597          
    598          #if( ZSTACK_DEVICE_BUILD != DEVICE_BUILD_COORDINATOR)	
    599             if ( events & GENERICAPP_PING_TIMEOUT_CHECK_EVT)   //chaokw ping
    600             {
    601          	osal_stop_timerEx( GenericApp_TaskID, GENERICAPP_PING_TIMEOUT_CHECK_EVT );
    602          	CustomApp_ping_timeout_check();
    603          	osal_start_timerEx( GenericApp_TaskID, GENERICAPP_PING_TIMEOUT_CHECK_EVT, PING_TIMEOUT_CHECK);
    604          
    605          	return (events ^ GENERICAPP_PING_TIMEOUT_CHECK_EVT);	
    606             }   
    607          #endif
    608          
    609             if ( events & GENERICAPP_COORDINATER_BROADCAST_PING_EVT)  //chaokw ping
   \                     ??GenericApp_ProcessEvent_26:
   \   0002C1   EF           MOV     A,R7
   \   0002C2   5401         ANL     A,#0x1
   \   0002C4   602E         JZ      ??GenericApp_ProcessEvent_27
    610             {
    611          	osal_stop_timerEx( GenericApp_TaskID, GENERICAPP_COORDINATER_BROADCAST_PING_EVT );
   \   0002C6                ; Setup parameters for call to function osal_stop_timerEx
   \   0002C6   7A00         MOV     R2,#0x0
   \   0002C8   7B01         MOV     R3,#0x1
   \   0002CA   90....       MOV     DPTR,#GenericApp_TaskID
   \   0002CD   E0           MOVX    A,@DPTR
   \   0002CE   F9           MOV     R1,A
   \   0002CF   12....       LCALL   `??osal_stop_timerEx::?relay`; Banked call to: osal_stop_timerEx
    612          	CustomApp_coordinater_broadcast_ping();
   \   0002D2                ; Setup parameters for call to function CustomApp_coordinater_broadcast_ping
   \   0002D2   12....       LCALL   `??CustomApp_coordinater_broadcast_ping::?relay`; Banked call to: CustomApp_coordinater_broadcast_ping
    613          	osal_start_timerEx( GenericApp_TaskID, GENERICAPP_COORDINATER_BROADCAST_PING_EVT, PING_PERIOD);
   \   0002D5                ; Setup parameters for call to function osal_start_timerEx
   \   0002D5   90....       MOV     DPTR,#__Constant_3a98
   \   0002D8   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   0002DB   7A00         MOV     R2,#0x0
   \   0002DD   7B01         MOV     R3,#0x1
   \   0002DF   90....       MOV     DPTR,#GenericApp_TaskID
   \   0002E2   E0           MOVX    A,@DPTR
   \   0002E3   F9           MOV     R1,A
   \   0002E4   12....       LCALL   `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
   \   0002E7   7404         MOV     A,#0x4
   \   0002E9   12....       LCALL   ?DEALLOC_XSTACK8
    614          
    615          	return (events ^ GENERICAPP_COORDINATER_BROADCAST_PING_EVT);	
   \   0002EC   EE           MOV     A,R6
   \   0002ED   FA           MOV     R2,A
   \   0002EE   EF           MOV     A,R7
   \   0002EF   6401         XRL     A,#0x1
   \   0002F1   02....       LJMP    ??GenericApp_ProcessEvent_1 & 0xFFFF
    616             }
    617          
    618          
    619             if ( events & GENERICAPP_RESET_SB_MSG_EVT )
   \                     ??GenericApp_ProcessEvent_27:
   \   0002F4   EE           MOV     A,R6
   \   0002F5   5420         ANL     A,#0x20
   \   0002F7   6008         JZ      ??GenericApp_ProcessEvent_28
    620             {
    621              	Onboard_soft_reset();
   \   0002F9                ; Setup parameters for call to function Onboard_soft_reset
   \   0002F9   12....       LCALL   Onboard_soft_reset & 0xFFFF
    622             	return ( events ^ GENERICAPP_RESET_SB_MSG_EVT );
   \   0002FC   EE           MOV     A,R6
   \   0002FD   6420         XRL     A,#0x20
   \   0002FF   800B         SJMP    ??GenericApp_ProcessEvent_24
    623             }
    624          
    625             if ( events & GENERICAPP_LOADSTATUS_MSG_EVT)
   \                     ??GenericApp_ProcessEvent_28:
   \   000301   EE           MOV     A,R6
   \   000302   5440         ANL     A,#0x40
   \   000304   600A         JZ      ??GenericApp_ProcessEvent_29
    626             {
    627                 CustomApp_loadstatus_ind();
   \   000306                ; Setup parameters for call to function CustomApp_loadstatus_ind
   \   000306   12....       LCALL   `??CustomApp_loadstatus_ind::?relay`; Banked call to: CustomApp_loadstatus_ind
    628          	return (events ^ GENERICAPP_LOADSTATUS_MSG_EVT);	
   \   000309   EE           MOV     A,R6
   \   00030A   6440         XRL     A,#0x40
   \                     ??GenericApp_ProcessEvent_24:
   \   00030C   FA           MOV     R2,A
   \   00030D   EF           MOV     A,R7
   \   00030E   8065         SJMP    ??GenericApp_ProcessEvent_1
    629             }
    630          
    631             if ( events & GENERICAPP_COORDINATOR_ONLINE_EVT)
   \                     ??GenericApp_ProcessEvent_29:
   \   000310   EF           MOV     A,R7
   \   000311   5408         ANL     A,#0x8
   \   000313   6038         JZ      ??GenericApp_ProcessEvent_30
    632             { 
    633                 osal_stop_timerEx( GenericApp_TaskID, GENERICAPP_COORDINATOR_ONLINE_EVT );
   \   000315                ; Setup parameters for call to function osal_stop_timerEx
   \   000315   7A00         MOV     R2,#0x0
   \   000317   7B08         MOV     R3,#0x8
   \   000319   90....       MOV     DPTR,#GenericApp_TaskID
   \   00031C   E0           MOVX    A,@DPTR
   \   00031D   F9           MOV     R1,A
   \   00031E   12....       LCALL   `??osal_stop_timerEx::?relay`; Banked call to: osal_stop_timerEx
    634                 zc_online_report_cnt ++;
   \   000321   90....       MOV     DPTR,#zc_online_report_cnt
   \   000324   E0           MOVX    A,@DPTR
   \   000325   04           INC     A
   \   000326   F0           MOVX    @DPTR,A
    635                 if (zc_online_report_cnt <= 3)
   \   000327   C3           CLR     C
   \   000328   9404         SUBB    A,#0x4
   \   00032A   501A         JNC     ??GenericApp_ProcessEvent_31
    636                 {
    637                     CustomApp_coordinator_online_req();
   \   00032C                ; Setup parameters for call to function CustomApp_coordinator_online_req
   \   00032C   12....       LCALL   `??CustomApp_coordinator_online_req::?relay`; Banked call to: CustomApp_coordinator_online_req
    638          	    osal_start_timerEx( GenericApp_TaskID, GENERICAPP_COORDINATOR_ONLINE_EVT, 5000);
   \   00032F                ; Setup parameters for call to function osal_start_timerEx
   \   00032F   90....       MOV     DPTR,#__Constant_1388
   \   000332   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000335   7A00         MOV     R2,#0x0
   \   000337   7B08         MOV     R3,#0x8
   \   000339   90....       MOV     DPTR,#GenericApp_TaskID
   \   00033C   E0           MOVX    A,@DPTR
   \   00033D   F9           MOV     R1,A
   \   00033E   12....       LCALL   `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
   \   000341   7404         MOV     A,#0x4
   \   000343   12....       LCALL   ?DEALLOC_XSTACK8
    639                 }
    640          	return (events ^ GENERICAPP_COORDINATOR_ONLINE_EVT);	
   \                     ??GenericApp_ProcessEvent_31:
   \   000346   EE           MOV     A,R6
   \   000347   FA           MOV     R2,A
   \   000348   EF           MOV     A,R7
   \   000349   6408         XRL     A,#0x8
   \   00034B   8028         SJMP    ??GenericApp_ProcessEvent_1
    641             }
    642          
    643          #if 0
    644             if ( events & GENERICAPP_ROUTER_ONLINE_EVT)
    645             {
    646                 osal_stop_timerEx( GenericApp_TaskID, GENERICAPP_ROUTER_ONLINE_EVT );
    647                 zr_online_report_cnt ++;
    648                 if (zr_online_report_cnt <= 3)
    649                 {
    650                     CustomApp_router_online_req();
    651          	    osal_start_timerEx( GenericApp_TaskID, GENERICAPP_ROUTER_ONLINE_EVT, 5000);
    652                 }
    653          	return (events ^ GENERICAPP_ROUTER_ONLINE_EVT);	
    654             }
    655          #endif   
    656          
    657             if ( events & GENERICAPP_CHANNEL_MSG_EVT )
   \                     ??GenericApp_ProcessEvent_30:
   \   00034D   EE           MOV     A,R6
   \   00034E   5410         ANL     A,#0x10
   \   000350   6006         JZ      ??GenericApp_ProcessEvent_32
    658             {
    659          #if defined( ZDO_COORDINATOR ) && defined( WIFI_FREQUENCY_SELECT )
    660                 CustomApp_WifiChannelReq();
    661          #endif
    662                 return ( events ^ GENERICAPP_CHANNEL_MSG_EVT );
   \   000352   EE           MOV     A,R6
   \   000353   6410         XRL     A,#0x10
   \   000355   FA           MOV     R2,A
   \   000356   8024         SJMP    ??GenericApp_ProcessEvent_33
    663             }
    664          
    665          //-----------------------------------------------------chaokw
    666          	if (events & GENERICAPP_PERMIT_JOIN_MSG_EVT)
   \                     ??GenericApp_ProcessEvent_32:
   \   000358   EF           MOV     A,R7
   \   000359   5420         ANL     A,#0x20
   \   00035B   6005         JZ      ??GenericApp_ProcessEvent_34
    667          	{
    668          #ifndef ZDO_COORDINATOR
    669          		if (transfer_join_times++ < 3)
    670          		{
    671          			GenericApp_Device_JoinReq();
    672          			osal_start_timerEx(GenericApp_TaskID,
    673          								GENERICAPP_PERMIT_JOIN_MSG_EVT,
    674          								2000);
    675          		}
    676          #endif
    677          		return ( events ^ GENERICAPP_PERMIT_JOIN_MSG_EVT );
   \   00035D   EF           MOV     A,R7
   \   00035E   6420         XRL     A,#0x20
   \   000360   8013         SJMP    ??GenericApp_ProcessEvent_1
    678          	}
    679          
    680                 if (events & GENERICAPP_CLEAR_JOIN_DEVICES_EVT)
   \                     ??GenericApp_ProcessEvent_34:
   \   000362   EF           MOV     A,R7
   \   000363   5440         ANL     A,#0x40
   \   000365   6011         JZ      ??GenericApp_ProcessEvent_35
    681          	{
    682          		GenericApp_Free_Join_DeviceInfo(zdo_join_device);
   \   000367                ; Setup parameters for call to function GenericApp_Free_Join_DeviceInfo
   \   000367   90....       MOV     DPTR,#zdo_join_device
   \   00036A   12....       LCALL   ??Subroutine50_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_93:
   \   00036D   12....       LCALL   `??GenericApp_Free_Join_DeviceInfo::?relay`; Banked call to: GenericApp_Free_Join_DeviceInfo
    683          		return ( events ^ GENERICAPP_CLEAR_JOIN_DEVICES_EVT );
   \   000370   EE           MOV     A,R6
   \   000371   FA           MOV     R2,A
   \   000372   EF           MOV     A,R7
   \   000373   6440         XRL     A,#0x40
   \                     ??GenericApp_ProcessEvent_1:
   \   000375   FB           MOV     R3,A
   \   000376   8004         SJMP    ??GenericApp_ProcessEvent_33
    684          	}	
    685          //-----------------------------------------------------------
    686          	
    687            // Discard unknown events
    688            return 0;
   \                     ??GenericApp_ProcessEvent_35:
   \   000378   7A00         MOV     R2,#0x0
   \   00037A   7B00         MOV     R3,#0x0
   \                     ??GenericApp_ProcessEvent_33:
   \   00037C   740C         MOV     A,#0xc
   \   00037E   02....       LJMP    ?Subroutine1 & 0xFFFF
   \   000381                REQUIRE WDCTL
    689          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine46_0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   FC           MOV     R4,A
   \   000002   A3           INC     DPTR
   \   000003   E0           MOVX    A,@DPTR
   \   000004   FD           MOV     R5,A
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine50_0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   FA           MOV     R2,A
   \   000002   A3           INC     DPTR
   \   000003   E0           MOVX    A,@DPTR
   \   000004   FB           MOV     R3,A
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine1:
   \   000000   12....       LCALL   ?DEALLOC_XSTACK8
   \   000003                REQUIRE ??Subroutine54_0
   \   000003                ; // Fall through to label ??Subroutine54_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine54_0:
   \   000000   7F04         MOV     R7,#0x4
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA
    690          
    691          /*********************************************************************
    692           * Event Generation Functions
    693           */
    694          
    695          /*********************************************************************
    696           * @fn      GenericApp_ProcessZDOMsgs()
    697           *
    698           * @brief   Process response messages
    699           *
    700           * @param   none
    701           *
    702           * @return  none
    703           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    704          static void GenericApp_ProcessZDOMsgs( zdoIncomingMsg_t *inMsg )
   \                     GenericApp_ProcessZDOMsgs:
    705          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000   74F1         MOV     A,#-0xf
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 15
   \   000005                ; Auto size: 24
   \   000005   74E8         MOV     A,#-0x18
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   EA           MOV     A,R2
   \   00000B   FE           MOV     R6,A
   \   00000C   EB           MOV     A,R3
   \   00000D   FF           MOV     R7,A
    706          	ZDO_DeviceAnnce_t *devAnnce=NULL;
    707          	nodeList_t *pnode;
    708          	afAddrType_t addr64;
    709          	afAddrType_t addr16;
    710          
    711          
    712            switch ( inMsg->clusterID )
   \   00000E   EE           MOV     A,R6
   \   00000F   240C         ADD     A,#0xc
   \   000011   F582         MOV     DPL,A
   \   000013   E4           CLR     A
   \   000014   3F           ADDC    A,R7
   \   000015   F583         MOV     DPH,A
   \   000017   12....       LCALL   ?Subroutine21 & 0xFFFF
   \                     ??CrossCallReturnLabel_23:
   \   00001A   12....       LCALL   ?US_SWITCH_SPARSE
   \                     `?<Jumptable for GenericApp_ProcessZDOMsgs>_0`:
   \   00001D   0000         DW        0
   \   00001F   0300         DW        3
   \   000021   1300         DW        19
   \   000023   ....         DW        ??GenericApp_ProcessZDOMsgs_0
   \   000025   0680         DW        32774
   \   000027   ....         DW        ??GenericApp_ProcessZDOMsgs_1
   \   000029   2080         DW        32800
   \   00002B   ....         DW        ??GenericApp_ProcessZDOMsgs_2
   \   00002D   ....         DW        ??GenericApp_ProcessZDOMsgs_3
    713            {
    714                case Device_annce:    //chaokw
    715                {
    716          		  devAnnce = (ZDO_DeviceAnnce_t *)osal_mem_alloc( sizeof(  ZDO_DeviceAnnce_t ));
   \                     ??GenericApp_ProcessZDOMsgs_0:
   \   00002F                ; Setup parameters for call to function osal_mem_alloc
   \   00002F   7A0B         MOV     R2,#0xb
   \   000031   7B00         MOV     R3,#0x0
   \   000033   12....       LCALL   `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   \   000036   8A..         MOV     ?V0,R2
   \   000038   8B..         MOV     ?V1,R3
    717                          if ( devAnnce == NULL )
   \   00003A   EA           MOV     A,R2
   \   00003B   45..         ORL     A,?V1
   \   00003D   7003         JNZ     $+5
   \   00003F   02....       LJMP    ??GenericApp_ProcessZDOMsgs_3 & 0xFFFF
    718                          {
    719                               return;
    720                          }
    721          		  ZDO_ParseDeviceAnnce( inMsg, devAnnce );
   \   000042                ; Setup parameters for call to function ZDO_ParseDeviceAnnce
   \   000042   AC..         MOV     R4,?V0
   \   000044   AD..         MOV     R5,?V1
   \   000046   EE           MOV     A,R6
   \   000047   FA           MOV     R2,A
   \   000048   EF           MOV     A,R7
   \   000049   FB           MOV     R3,A
   \   00004A   12....       LCALL   `??ZDO_ParseDeviceAnnce::?relay`; Banked call to: ZDO_ParseDeviceAnnce
    722          		  if ( devAnnce )
    723          		  {			  
    724          			  addr16.addr.shortAddr = devAnnce->nwkAddr ;	 
   \   00004D   85..82       MOV     DPL,?V0
   \   000050   85..83       MOV     DPH,?V1
   \   000053   12....       LCALL   ?Subroutine24 & 0xFFFF
   \                     ??CrossCallReturnLabel_29:
   \   000056   85..82       MOV     DPL,?XSP + 0
   \   000059   85..83       MOV     DPH,?XSP + 1
   \   00005C   12....       LCALL   ?Subroutine14 & 0xFFFF
    725          			  osal_memcpy(&addr64.addr.extAddr, &devAnnce->extAddr[0], Z_EXTADDR_LEN);
   \                     ??CrossCallReturnLabel_13:
   \   00005F                ; Setup parameters for call to function osal_memcpy
   \   00005F   85..82       MOV     DPL,?V0
   \   000062   85..83       MOV     DPH,?V1
   \   000065   A3           INC     DPTR
   \   000066   A3           INC     DPTR
   \   000067   A982         MOV     R1,DPL
   \   000069   AA83         MOV     R2,DPH
   \   00006B   89..         MOV     ?V4,R1
   \   00006D   8A..         MOV     ?V5,R2
   \   00006F   75..00       MOV     ?V6,#0x0
   \   000072   78..         MOV     R0,#?V4
   \   000074   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000077   7C08         MOV     R4,#0x8
   \   000079   7D00         MOV     R5,#0x0
   \   00007B   740F         MOV     A,#0xf
   \   00007D   12....       LCALL   ?XSTACK_DISP101_8
   \   000080   12....       LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   000083   7403         MOV     A,#0x3
   \   000085   12....       LCALL   ?DEALLOC_XSTACK8
    726          				 
    727          			  pnode=CustomApp_NodeRegister(addr64,addr16);
    728          			  if(pnode!=NULL)
   \   000088                ; Setup parameters for call to function CustomApp_NodeRegister
   \   000088   85..82       MOV     DPL,?XSP + 0
   \   00008B   85..83       MOV     DPH,?XSP + 1
   \   00008E   740C         MOV     A,#0xc
   \   000090   12....       LCALL   ?PUSH_XSTACK8_X
   \   000093   7418         MOV     A,#0x18
   \   000095   12....       LCALL   ?XSTACK_DISP0_8
   \   000098   740C         MOV     A,#0xc
   \   00009A   12....       LCALL   ?PUSH_XSTACK8_X
   \   00009D   12....       LCALL   `??CustomApp_NodeRegister::?relay`; Banked call to: CustomApp_NodeRegister
   \   0000A0   7418         MOV     A,#0x18
   \   0000A2   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000A5   8B..         MOV     ?V3,R3
   \   0000A7   EA           MOV     A,R2
   \   0000A8   45..         ORL     A,?V3
   \   0000AA   6037         JZ      ??GenericApp_ProcessZDOMsgs_4
    729          			  {
    730          			       CustomApp_node_register_ind(addr64, addr16);	//0x18
   \   0000AC                ; Setup parameters for call to function CustomApp_node_register_ind
   \   0000AC   85..82       MOV     DPL,?XSP + 0
   \   0000AF   85..83       MOV     DPH,?XSP + 1
   \   0000B2   740C         MOV     A,#0xc
   \   0000B4   12....       LCALL   ?PUSH_XSTACK8_X
   \   0000B7   7418         MOV     A,#0x18
   \   0000B9   12....       LCALL   ?XSTACK_DISP0_8
   \   0000BC   740C         MOV     A,#0xc
   \   0000BE   12....       LCALL   ?PUSH_XSTACK8_X
   \   0000C1   12....       LCALL   `??CustomApp_node_register_ind::?relay`; Banked call to: CustomApp_node_register_ind
   \   0000C4   7418         MOV     A,#0x18
   \   0000C6   12....       LCALL   ?DEALLOC_XSTACK8
    731          #if defined( LCD_SUPPORTED )			       
    732          				HalLcdWriteStringValue( (char*)"nodregOK:", addr16.addr.shortAddr, 16, HAL_LCD_LINE_2 ); 
   \   0000C9                ; Setup parameters for call to function HalLcdWriteStringValue
   \   0000C9   75..03       MOV     ?V2,#0x3
   \   0000CC   78..         MOV     R0,#?V2
   \   0000CE   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0000D1   7910         MOV     R1,#0x10
   \   0000D3   7401         MOV     A,#0x1
   \   0000D5   12....       LCALL   ?XSTACK_DISP0_8
   \   0000D8   12....       LCALL   ?Subroutine19 & 0xFFFF
    733          #endif
    734          			  }	  
   \                     ??CrossCallReturnLabel_21:
   \   0000DB   12....       LCALL   `??HalLcdWriteStringValue::?relay`; Banked call to: HalLcdWriteStringValue
   \   0000DE   7401         MOV     A,#0x1
   \   0000E0   12....       LCALL   ?DEALLOC_XSTACK8
    735                                 osal_mem_free( devAnnce );
   \                     ??GenericApp_ProcessZDOMsgs_4:
   \   0000E3                ; Setup parameters for call to function osal_mem_free
   \   0000E3   AA..         MOV     R2,?V0
   \   0000E5   AB..         MOV     R3,?V1
   \   0000E7   805B         SJMP    ??GenericApp_ProcessZDOMsgs_5
    736          		  }
    737                }
    738                break;
    739          
    740            
    741              case End_Device_Bind_rsp:
    742                if ( ZDO_ParseBindRsp( inMsg ) == ZSuccess )
   \                     ??GenericApp_ProcessZDOMsgs_2:
   \   0000E9   EE           MOV     A,R6
   \   0000EA   2413         ADD     A,#0x13
   \   0000EC   12....       LCALL   ??Subroutine57_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_115:
   \   0000EF   F8           MOV     R0,A
   \   0000F0   A3           INC     DPTR
   \   0000F1   E0           MOVX    A,@DPTR
   \   0000F2   F583         MOV     DPH,A
   \   0000F4   8882         MOV     DPL,R0
   \   0000F6   E0           MOVX    A,@DPTR
   \   0000F7   7004         JNZ     ??GenericApp_ProcessZDOMsgs_6
    743                {
    744                  // Light LED
    745                  HalLedSet( HAL_LED_4, HAL_LED_MODE_ON );
   \   0000F9                ; Setup parameters for call to function HalLedSet
   \   0000F9   7A01         MOV     R2,#0x1
   \   0000FB   8002         SJMP    ??GenericApp_ProcessZDOMsgs_7
    746                }
    747          #if defined( BLINK_LEDS )
    748                else
    749                {
    750                  // Flash LED to show failure
    751                  HalLedSet ( HAL_LED_4, HAL_LED_MODE_FLASH );
   \                     ??GenericApp_ProcessZDOMsgs_6:
   \   0000FD                ; Setup parameters for call to function HalLedSet
   \   0000FD   7A04         MOV     R2,#0x4
   \                     ??GenericApp_ProcessZDOMsgs_7:
   \   0000FF   7908         MOV     R1,#0x8
   \   000101   12....       LCALL   `??HalLedSet::?relay`; Banked call to: HalLedSet
   \   000104   8041         SJMP    ??GenericApp_ProcessZDOMsgs_3
    752                }
    753          #endif
    754                break;
    755          
    756              case Match_Desc_rsp:
    757                {
    758                  ZDO_ActiveEndpointRsp_t *pRsp = ZDO_ParseEPListRsp( inMsg );
   \                     ??GenericApp_ProcessZDOMsgs_1:
   \   000106                ; Setup parameters for call to function ZDO_ParseEPListRsp
   \   000106   12....       LCALL   `??ZDO_ParseEPListRsp::?relay`; Banked call to: ZDO_ParseEPListRsp
   \   000109   8A..         MOV     ?V0,R2
   \   00010B   8B..         MOV     ?V1,R3
   \   00010D   AE..         MOV     R6,?V0
   \   00010F   AF..         MOV     R7,?V1
    759                  if ( pRsp )
   \   000111   EE           MOV     A,R6
   \   000112   4F           ORL     A,R7
   \   000113   6032         JZ      ??GenericApp_ProcessZDOMsgs_3
    760                  {
    761                    if ( pRsp->status == ZSuccess && pRsp->cnt )
   \   000115   8E82         MOV     DPL,R6
   \   000117   8F83         MOV     DPH,R7
   \   000119   E0           MOVX    A,@DPTR
   \   00011A   7024         JNZ     ??GenericApp_ProcessZDOMsgs_8
   \   00011C   A3           INC     DPTR
   \   00011D   A3           INC     DPTR
   \   00011E   A3           INC     DPTR
   \   00011F   E0           MOVX    A,@DPTR
   \   000120   601E         JZ      ??GenericApp_ProcessZDOMsgs_8
    762                    {
    763                      GenericApp_DstAddr.addrMode = (afAddrMode_t)Addr16Bit;
   \   000122   90....       MOV     DPTR,#GenericApp_DstAddr + 8
   \   000125   7402         MOV     A,#0x2
   \   000127   12....       LCALL   ?Subroutine43 & 0xFFFF
    764                      GenericApp_DstAddr.addr.shortAddr = pRsp->nwkAddr;
   \                     ??CrossCallReturnLabel_73:
   \   00012A   12....       LCALL   ?Subroutine24 & 0xFFFF
   \                     ??CrossCallReturnLabel_30:
   \   00012D   90....       MOV     DPTR,#GenericApp_DstAddr
   \   000130   E8           MOV     A,R0
   \   000131   F0           MOVX    @DPTR,A
   \   000132   12....       LCALL   ?Subroutine11 & 0xFFFF
    765                      // Take the first endpoint, Can be changed to search through endpoints
    766                      GenericApp_DstAddr.endPoint = pRsp->epList[0];
   \                     ??CrossCallReturnLabel_9:
   \   000135   90....       MOV     DPTR,#GenericApp_DstAddr + 9
   \   000138   F0           MOVX    @DPTR,A
    767          
    768                      // Light LED
    769                      HalLedSet( HAL_LED_4, HAL_LED_MODE_ON );
   \   000139                ; Setup parameters for call to function HalLedSet
   \   000139   7A01         MOV     R2,#0x1
   \   00013B   7908         MOV     R1,#0x8
   \   00013D   12....       LCALL   `??HalLedSet::?relay`; Banked call to: HalLedSet
    770                    }
    771                    osal_mem_free( pRsp );
   \                     ??GenericApp_ProcessZDOMsgs_8:
   \   000140                ; Setup parameters for call to function osal_mem_free
   \   000140   EE           MOV     A,R6
   \   000141   FA           MOV     R2,A
   \   000142   EF           MOV     A,R7
   \   000143   FB           MOV     R3,A
   \                     ??GenericApp_ProcessZDOMsgs_5:
   \   000144   12....       LCALL   `??osal_mem_free::?relay`; Banked call to: osal_mem_free
    772                  }
    773                }
    774                break;
    775            }
    776          }
   \                     ??GenericApp_ProcessZDOMsgs_3:
   \   000147   7418         MOV     A,#0x18
   \   000149                REQUIRE ?Subroutine2
   \   000149                ; // Fall through to label ?Subroutine2

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine2:
   \   000000   12....       LCALL   ?DEALLOC_XSTACK8
   \   000003   7F07         MOV     R7,#0x7
   \   000005   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine21:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F5..         MOV     ?V0,A
   \   000003   A3           INC     DPTR
   \   000004   E0           MOVX    A,@DPTR
   \   000005   F5..         MOV     ?V1,A
   \   000007   78..         MOV     R0,#?V0
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine24:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F8           MOV     R0,A
   \   000002   A3           INC     DPTR
   \   000003   E0           MOVX    A,@DPTR
   \   000004   F9           MOV     R1,A
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine14:
   \   000000   E8           MOV     A,R0
   \   000001   F0           MOVX    @DPTR,A
   \   000002   A3           INC     DPTR
   \   000003   E9           MOV     A,R1
   \   000004   F0           MOVX    @DPTR,A
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine57_0:
   \   000000   F582         MOV     DPL,A
   \   000002   E4           CLR     A
   \   000003   3F           ADDC    A,R7
   \   000004   F583         MOV     DPH,A
   \   000006   E0           MOVX    A,@DPTR
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine19:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   FC           MOV     R4,A
   \   000002   A3           INC     DPTR
   \   000003   E0           MOVX    A,@DPTR
   \   000004   FD           MOV     R5,A
   \   000005   7A..         MOV     R2,#`?<Constant "nodregOK:">` & 0xff
   \   000007   7B..         MOV     R3,#(`?<Constant "nodregOK:">` >> 8) & 0xff
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine11:
   \   000000   A3           INC     DPTR
   \   000001   E9           MOV     A,R1
   \   000002   12....       LCALL   ?Subroutine37 & 0xFFFF
   \                     ??CrossCallReturnLabel_59:
   \   000005   E0           MOVX    A,@DPTR
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine37:
   \   000000   12....       LCALL   ?Subroutine43 & 0xFFFF
   \                     ??CrossCallReturnLabel_74:
   \   000003   A3           INC     DPTR
   \   000004   A3           INC     DPTR
   \   000005   A3           INC     DPTR
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine43:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   8E82         MOV     DPL,R6
   \   000003   8F83         MOV     DPH,R7
   \   000005   A3           INC     DPTR
   \   000006   22           RET
    777          
    778          /*********************************************************************
    779           * @fn      GenericApp_HandleKeys
    780           *
    781           * @brief   Handles all key events for this device.
    782           *
    783           * @param   shift - true if in shift/alt.
    784           * @param   keys - bit field for key events. Valid entries:
    785           *                 HAL_KEY_SW_4
    786           *                 HAL_KEY_SW_3
    787           *                 HAL_KEY_SW_2
    788           *                 HAL_KEY_SW_1
    789           *
    790           * @return  none
    791           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    792          static void GenericApp_HandleKeys( uint8 shift, uint8 keys )
   \                     GenericApp_HandleKeys:
    793          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 9
   \   000005   74F7         MOV     A,#-0x9
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   EA           MOV     A,R2
   \   00000B   FE           MOV     R6,A
    794            zAddrType_t dstAddr;
    795          
    796            // Shift is used to make each button/switch dual purpose.
    797            if( 0 ) // ( shift )
    798            {
    799              if ( keys & HAL_KEY_SW_1 )
    800              {
    801              }
    802              if ( keys & HAL_KEY_SW_2 )
    803              {
    804              }
    805              if ( keys & HAL_KEY_SW_3 )
    806              {
    807              }
    808              if ( keys & HAL_KEY_SW_4 )
    809              {
    810              }
    811            }
    812            else
    813            {
    814              if ( keys & HAL_KEY_SW_1 )
   \   00000C   A2E0         MOV     C,0xE0 /* A   */.0
   \   00000E   5037         JNC     ??GenericApp_HandleKeys_0
    815              {
    816          #if defined( SWITCH1_BIND )
    817                // We can use SW1 to simulate SW2 for devices that only have one switch,
    818                keys |= HAL_KEY_SW_2;
    819          #elif defined( SWITCH1_MATCH )
    820                // or use SW1 to simulate SW4 for devices that only have one switch
    821                keys |= HAL_KEY_SW_4;
    822          #else
    823                // Normally, SW1 changes the rate that messages are sent
    824                if ( txMsgDelay > 100 )
   \   000010   90....       MOV     DPTR,#__Constant_65
   \   000013   78..         MOV     R0,#?V0
   \   000015   12....       LCALL   ?L_MOV_X
   \   000018   90....       MOV     DPTR,#txMsgDelay
   \   00001B   78..         MOV     R0,#?V0
   \   00001D   12....       LCALL   ?UL_GT_X
   \   000020   90....       MOV     DPTR,#txMsgDelay
   \   000023   4016         JC      ??GenericApp_HandleKeys_1
    825                {
    826                  // Cut the message TX delay in half
    827                  txMsgDelay /= 2;
   \   000025   78..         MOV     R0,#?V0
   \   000027   12....       LCALL   ?L_MOV_X
   \   00002A   7401         MOV     A,#0x1
   \   00002C   78..         MOV     R0,#?V0
   \   00002E   12....       LCALL   ?UL_SHR
   \   000031   90....       MOV     DPTR,#txMsgDelay
   \   000034   78..         MOV     R0,#?V0
   \   000036   12....       LCALL   ?L_MOV_TO_X
   \   000039   800C         SJMP    ??GenericApp_HandleKeys_0
    828                }
    829                else
    830                {
    831                  // Reset to the default
    832                  txMsgDelay = GENERICAPP_SEND_MSG_TIMEOUT;
   \                     ??GenericApp_HandleKeys_1:
   \   00003B   7488         MOV     A,#-0x78
   \   00003D   F0           MOVX    @DPTR,A
   \   00003E   A3           INC     DPTR
   \   00003F   7413         MOV     A,#0x13
   \   000041   F0           MOVX    @DPTR,A
   \   000042   A3           INC     DPTR
   \   000043   E4           CLR     A
   \   000044   F0           MOVX    @DPTR,A
   \   000045   A3           INC     DPTR
   \   000046   F0           MOVX    @DPTR,A
    833                }
    834          #endif
    835              }
    836          
    837              if ( keys & HAL_KEY_SW_2 )
   \                     ??GenericApp_HandleKeys_0:
   \   000047   EE           MOV     A,R6
   \   000048   A2E1         MOV     C,0xE0 /* A   */.1
   \   00004A   5069         JNC     ??GenericApp_HandleKeys_2
    838              {
    839                HalLedSet ( HAL_LED_4, HAL_LED_MODE_OFF );
   \   00004C                ; Setup parameters for call to function HalLedSet
   \   00004C   7A00         MOV     R2,#0x0
   \   00004E   7908         MOV     R1,#0x8
   \   000050   12....       LCALL   `??HalLedSet::?relay`; Banked call to: HalLedSet
    840          
    841                // Initiate an End Device Bind Request for the mandatory endpoint
    842                dstAddr.addrMode = Addr16Bit;
   \   000053   7408         MOV     A,#0x8
   \   000055   12....       LCALL   ?XSTACK_DISP0_8
   \   000058   7402         MOV     A,#0x2
   \   00005A   F0           MOVX    @DPTR,A
    843                dstAddr.addr.shortAddr = 0x0000; // Coordinator
   \   00005B   85..82       MOV     DPL,?XSP + 0
   \   00005E   85..83       MOV     DPH,?XSP + 1
   \   000061   E4           CLR     A
   \   000062   F0           MOVX    @DPTR,A
   \   000063   A3           INC     DPTR
   \   000064   F0           MOVX    @DPTR,A
    844                ZDP_EndDeviceBindReq( &dstAddr, NLME_GetShortAddr(),
    845                                      GenericApp_epDesc.endPoint,
    846                                      GENERICAPP_PROFID,
    847                                      GENERICAPP_MAX_CLUSTERS, (cId_t *)GenericApp_ClusterList,
    848                                      GENERICAPP_MAX_CLUSTERS, (cId_t *)GenericApp_ClusterList,
    849                                      FALSE );
   \   000065                ; Setup parameters for call to function NLME_GetShortAddr
   \   000065   12....       LCALL   `??NLME_GetShortAddr::?relay`; Banked call to: NLME_GetShortAddr
   \   000068   8A..         MOV     ?V0,R2
   \   00006A   8B..         MOV     ?V1,R3
   \   00006C   AC..         MOV     R4,?V0
   \   00006E   AD..         MOV     R5,?V1
   \   000070   75....       MOV     ?V0,#GenericApp_ClusterList & 0xff
   \   000073   75....       MOV     ?V1,#(GenericApp_ClusterList >> 8) & 0xff
   \   000076                ; Setup parameters for call to function ZDP_EndDeviceBindReq
   \   000076   75..00       MOV     ?V2,#0x0
   \   000079   78..         MOV     R0,#?V2
   \   00007B   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00007E   78..         MOV     R0,#?V0
   \   000080   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000083   75..07       MOV     ?V2,#0x7
   \   000086   78..         MOV     R0,#?V2
   \   000088   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00008B   78..         MOV     R0,#?V0
   \   00008D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000090   75..07       MOV     ?V0,#0x7
   \   000093   78..         MOV     R0,#?V0
   \   000095   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000098   75..04       MOV     ?V0,#0x4
   \   00009B   75..0F       MOV     ?V1,#0xf
   \   00009E   78..         MOV     R0,#?V0
   \   0000A0   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000A3   90....       MOV     DPTR,#GenericApp_epDesc
   \   0000A6   E0           MOVX    A,@DPTR
   \   0000A7   F9           MOV     R1,A
   \   0000A8   7409         MOV     A,#0x9
   \   0000AA   12....       LCALL   ?XSTACK_DISP101_8
   \   0000AD   12....       LCALL   `??ZDP_EndDeviceBindReq::?relay`; Banked call to: ZDP_EndDeviceBindReq
   \   0000B0   7409         MOV     A,#0x9
   \   0000B2   12....       LCALL   ?DEALLOC_XSTACK8
    850              }
    851          
    852              if ( keys & HAL_KEY_SW_3 )
    853              {
    854              }
    855          
    856              if ( keys & HAL_KEY_SW_4 )
   \                     ??GenericApp_HandleKeys_2:
   \   0000B5   EE           MOV     A,R6
   \   0000B6   A2E3         MOV     C,0xE0 /* A   */.3
   \   0000B8   5058         JNC     ??GenericApp_HandleKeys_3
    857              {
    858                HalLedSet ( HAL_LED_4, HAL_LED_MODE_OFF );
   \   0000BA                ; Setup parameters for call to function HalLedSet
   \   0000BA   7A00         MOV     R2,#0x0
   \   0000BC   7908         MOV     R1,#0x8
   \   0000BE   12....       LCALL   `??HalLedSet::?relay`; Banked call to: HalLedSet
    859                // Initiate a Match Description Request (Service Discovery)
    860                dstAddr.addrMode = AddrBroadcast;
   \   0000C1   7408         MOV     A,#0x8
   \   0000C3   12....       LCALL   ?XSTACK_DISP0_8
   \   0000C6   740F         MOV     A,#0xf
   \   0000C8   F0           MOVX    @DPTR,A
    861                dstAddr.addr.shortAddr = NWK_BROADCAST_SHORTADDR;
   \   0000C9   85..82       MOV     DPL,?XSP + 0
   \   0000CC   85..83       MOV     DPH,?XSP + 1
   \   0000CF   74FF         MOV     A,#-0x1
   \   0000D1   F0           MOVX    @DPTR,A
   \   0000D2   A3           INC     DPTR
   \   0000D3   F0           MOVX    @DPTR,A
    862                ZDP_MatchDescReq( &dstAddr, NWK_BROADCAST_SHORTADDR,
    863                                  GENERICAPP_PROFID,
    864                                  GENERICAPP_MAX_CLUSTERS, (cId_t *)GenericApp_ClusterList,
    865                                  GENERICAPP_MAX_CLUSTERS, (cId_t *)GenericApp_ClusterList,
    866                                  FALSE );
   \   0000D4   75....       MOV     ?V0,#GenericApp_ClusterList & 0xff
   \   0000D7   75....       MOV     ?V1,#(GenericApp_ClusterList >> 8) & 0xff
   \   0000DA                ; Setup parameters for call to function ZDP_MatchDescReq
   \   0000DA   75..00       MOV     ?V2,#0x0
   \   0000DD   78..         MOV     R0,#?V2
   \   0000DF   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0000E2   78..         MOV     R0,#?V0
   \   0000E4   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000E7   75..07       MOV     ?V2,#0x7
   \   0000EA   78..         MOV     R0,#?V2
   \   0000EC   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0000EF   78..         MOV     R0,#?V0
   \   0000F1   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000F4   75..04       MOV     ?V0,#0x4
   \   0000F7   75..0F       MOV     ?V1,#0xf
   \   0000FA   78..         MOV     R0,#?V0
   \   0000FC   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000FF   7907         MOV     R1,#0x7
   \   000101   7CFF         MOV     R4,#-0x1
   \   000103   7DFF         MOV     R5,#-0x1
   \   000105   7408         MOV     A,#0x8
   \   000107   12....       LCALL   ?XSTACK_DISP101_8
   \   00010A   12....       LCALL   `??ZDP_MatchDescReq::?relay`; Banked call to: ZDP_MatchDescReq
   \   00010D   7408         MOV     A,#0x8
   \   00010F   12....       LCALL   ?DEALLOC_XSTACK8
    867              }
    868            }
    869          }
   \                     ??GenericApp_HandleKeys_3:
   \   000112   7409         MOV     A,#0x9
   \   000114   02....       LJMP    ?Subroutine1 & 0xFFFF
    870          
    871          /*********************************************************************
    872           * LOCAL FUNCTIONS
    873           */
    874          
    875          /*********************************************************************
    876           * @fn      GenericApp_MessageMSGCB
    877           *
    878           * @brief   Data message processor callback.  This function processes
    879           *          any incoming data - probably from other devices.  So, based
    880           *          on cluster ID, perform the intended action.
    881           *
    882           * @param   none
    883           *
    884           * @return  none
    885           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    886          static void GenericApp_MessageMSGCB( afIncomingMSGPacket_t *pkt )
   \                     GenericApp_MessageMSGCB:
    887          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FE           MOV     R6,A
   \   000007   EB           MOV     A,R3
   \   000008   FF           MOV     R7,A
    888            uint16 msgid;
    889          
    890          #if( ZSTACK_DEVICE_BUILD == DEVICE_BUILD_COORDINATOR)		
    891            nodeList_t *nodeSearch;
    892            pingpkt_t * pinbgpkt;
    893            if(pkt->srcAddr.addr.shortAddr != 0x0000)  //chaokw ping
   \   000009   8E82         MOV     DPL,R6
   \   00000B   8F83         MOV     DPH,R7
   \   00000D   12....       LCALL   ?Subroutine16 & 0xFFFF
   \                     ??CrossCallReturnLabel_91:
   \   000010   6031         JZ      ??GenericApp_MessageMSGCB_0
    894            {
    895              pinbgpkt = (pingpkt_t *)(pkt->cmd.Data);
    896              nodeSearch = CustomApp_NodeFindNwkAddrList(pinbgpkt->devAddr16.addr.shortAddr);
   \   000012                ; Setup parameters for call to function CustomApp_NodeFindNwkAddrList
   \   000012   12....       LCALL   ?Subroutine26 & 0xFFFF
   \                     ??CrossCallReturnLabel_119:
   \   000015   F8           MOV     R0,A
   \   000016   A3           INC     DPTR
   \   000017   E0           MOVX    A,@DPTR
   \   000018   C8           XCH     A,R0
   \   000019   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_76:
   \   00001C   38           ADDC    A,R0
   \   00001D   12....       LCALL   ??Subroutine49_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_97:
   \   000020   12....       LCALL   `??CustomApp_NodeFindNwkAddrList::?relay`; Banked call to: CustomApp_NodeFindNwkAddrList
   \   000023   8A..         MOV     ?V0,R2
   \   000025   8B..         MOV     ?V1,R3
   \   000027   AC..         MOV     R4,?V0
   \   000029   AD..         MOV     R5,?V1
    897              if (nodeSearch!=NULL)
   \   00002B   EC           MOV     A,R4
   \   00002C   4D           ORL     A,R5
   \   00002D   6014         JZ      ??GenericApp_MessageMSGCB_0
    898              {	
    899                  nodeSearch->oldtimestamp = nodeSearch->timestamp; 
   \   00002F   EC           MOV     A,R4
   \   000030   12....       LCALL   ?Subroutine39 & 0xFFFF
    900              }
    901            }
   \                     ??CrossCallReturnLabel_63:
   \   000033   3D           ADDC    A,R5
   \   000034   F583         MOV     DPH,A
   \   000036   12....       LCALL   ?XLOAD_R0123
   \   000039   EC           MOV     A,R4
   \   00003A   12....       LCALL   ?Subroutine40 & 0xFFFF
   \                     ??CrossCallReturnLabel_67:
   \   00003D   3D           ADDC    A,R5
   \   00003E   F583         MOV     DPH,A
   \   000040   12....       LCALL   ?XSTORE_R0123
    902          #endif    
    903          
    904          #if( ZSTACK_DEVICE_BUILD != DEVICE_BUILD_COORDINATOR)		
    905            if(pkt->srcAddr.addr.shortAddr == 0x0000)  //chaokw ping
    906            {
    907                 pingRspTime = osal_getClock();
    908            }
    909          #endif
    910          
    911          
    912            switch ( pkt->clusterId )
   \                     ??GenericApp_MessageMSGCB_0:
   \   000043   8E82         MOV     DPL,R6
   \   000045   8F83         MOV     DPH,R7
   \   000047   A3           INC     DPTR
   \   000048   A3           INC     DPTR
   \   000049   A3           INC     DPTR
   \   00004A   A3           INC     DPTR
   \   00004B   12....       LCALL   ?Subroutine21 & 0xFFFF
   \                     ??CrossCallReturnLabel_24:
   \   00004E   12....       LCALL   ?US_SWITCH_DENSE
   \                     `?<Jumptable for GenericApp_MessageMSGCB>_0`:
   \   000051   0100         DW        1
   \   000053   06           DB        6
   \   000054   ....         DW        ??GenericApp_MessageMSGCB_1
   \   000056   ....         DW        ??GenericApp_MessageMSGCB_2
   \   000058   ....         DW        ??GenericApp_MessageMSGCB_3
   \   00005A   ....         DW        ??GenericApp_MessageMSGCB_4
   \   00005C   ....         DW        ??GenericApp_MessageMSGCB_5
   \   00005E   ....         DW        ??GenericApp_MessageMSGCB_6
   \   000060   ....         DW        ??GenericApp_MessageMSGCB_7
   \   000062   ....         DW        ??GenericApp_MessageMSGCB_8
    913            {
    914              case GENERICAPP_CLUSTERID:
    915                rxMsgCount += 1;  // Count this message
   \                     ??GenericApp_MessageMSGCB_2:
   \   000064   90....       MOV     DPTR,#rxMsgCount
   \   000067   12....       LCALL   ?Subroutine38 & 0xFFFF
    916                HalLedSet ( HAL_LED_4, HAL_LED_MODE_BLINK );  // Blink an LED
   \                     ??CrossCallReturnLabel_61:
   \   00006A                ; Setup parameters for call to function HalLedSet
   \   00006A   7A02         MOV     R2,#0x2
   \   00006C   7908         MOV     R1,#0x8
   \   00006E   12....       LCALL   `??HalLedSet::?relay`; Banked call to: HalLedSet
    917          #if defined( LCD_SUPPORTED )
    918                HalLcdWriteString( (char*)pkt->cmd.Data, HAL_LCD_LINE_1 );
   \   000071                ; Setup parameters for call to function HalLcdWriteString
   \   000071   7901         MOV     R1,#0x1
   \   000073   EE           MOV     A,R6
   \   000074   2422         ADD     A,#0x22
   \   000076   12....       LCALL   ??Subroutine48_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_98:
   \   000079   12....       LCALL   `??HalLcdWriteString::?relay`; Banked call to: HalLcdWriteString
    919                HalLcdWriteStringValue( "Rcvd:", rxMsgCount, 10, HAL_LCD_LINE_2 );
   \   00007C                ; Setup parameters for call to function HalLcdWriteStringValue
   \   00007C   75..03       MOV     ?V0,#0x3
   \   00007F   78..         MOV     R0,#?V0
   \   000081   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000084   12....       LCALL   ?Subroutine20 & 0xFFFF
   \                     ??CrossCallReturnLabel_86:
   \   000087   7A..         MOV     R2,#`?<Constant "Rcvd:">` & 0xff
   \   000089   7B..         MOV     R3,#(`?<Constant "Rcvd:">` >> 8) & 0xff
   \   00008B   12....       LCALL   `??HalLcdWriteStringValue::?relay`; Banked call to: HalLcdWriteStringValue
   \   00008E   7401         MOV     A,#0x1
   \   000090   12....       LCALL   ?DEALLOC_XSTACK8
    920          #elif defined( WIN32 )
    921                WPRINTSTR( pkt->cmd.Data );
    922          #endif
    923                break;
   \   000093   02....       LJMP    ??GenericApp_MessageMSGCB_1 & 0xFFFF
    924          
    925              case GENERICAPP_DATA_P2P_CLUSTERID:
    926                 CustomApp_AF_P2P_Data_Process(pkt);
   \                     ??GenericApp_MessageMSGCB_3:
   \   000096                ; Setup parameters for call to function CustomApp_AF_P2P_Data_Process
   \   000096   EE           MOV     A,R6
   \   000097   FA           MOV     R2,A
   \   000098   EF           MOV     A,R7
   \   000099   FB           MOV     R3,A
   \   00009A   12....       LCALL   `??CustomApp_AF_P2P_Data_Process::?relay`; Banked call to: CustomApp_AF_P2P_Data_Process
    927          	break;
   \   00009D   02....       LJMP    ??GenericApp_MessageMSGCB_1 & 0xFFFF
    928          
    929              case GENERICAPP_GROUP_CLUSTERID:
    930                 CustomApp_AF_Group_Data_Process(pkt);	 
   \                     ??GenericApp_MessageMSGCB_4:
   \   0000A0                ; Setup parameters for call to function CustomApp_AF_Group_Data_Process
   \   0000A0   EE           MOV     A,R6
   \   0000A1   FA           MOV     R2,A
   \   0000A2   EF           MOV     A,R7
   \   0000A3   FB           MOV     R3,A
   \   0000A4   12....       LCALL   `??CustomApp_AF_Group_Data_Process::?relay`; Banked call to: CustomApp_AF_Group_Data_Process
    931          	break;
   \   0000A7   02....       LJMP    ??GenericApp_MessageMSGCB_1 & 0xFFFF
    932          
    933              case GENERICAPP_BROADCAST_CLUSTERID:
    934                  msgid = pkt->cmd.Data[4] | pkt->cmd.Data[5] << 8;
    935                  switch ( msgid )	
   \                     ??GenericApp_MessageMSGCB_6:
   \   0000AA   12....       LCALL   ?Subroutine26 & 0xFFFF
   \                     ??CrossCallReturnLabel_120:
   \   0000AD   F8           MOV     R0,A
   \   0000AE   12....       LCALL   ?Subroutine18 & 0xFFFF
   \                     ??CrossCallReturnLabel_19:
   \   0000B1   E0           MOVX    A,@DPTR
   \   0000B2   FA           MOV     R2,A
   \   0000B3   8882         MOV     DPL,R0
   \   0000B5   8983         MOV     DPH,R1
   \   0000B7   A3           INC     DPTR
   \   0000B8   A3           INC     DPTR
   \   0000B9   A3           INC     DPTR
   \   0000BA   A3           INC     DPTR
   \   0000BB   A3           INC     DPTR
   \   0000BC   E0           MOVX    A,@DPTR
   \   0000BD   F9           MOV     R1,A
   \   0000BE   EA           MOV     A,R2
   \   0000BF   F8           MOV     R0,A
   \   0000C0   741A         MOV     A,#0x1a
   \   0000C2   68           XRL     A,R0
   \   0000C3   7003         JNZ     ??GenericApp_MessageMSGCB_9
   \   0000C5   7421         MOV     A,#0x21
   \   0000C7   69           XRL     A,R1
   \                     ??GenericApp_MessageMSGCB_9:
   \   0000C8   7005         JNZ     ??GenericApp_MessageMSGCB_10
    936                  {
    937                    case COORDINATOR_ONLINE_REQ:
    938                       CustomApp_Coordinator_Online();		  	
   \   0000CA                ; Setup parameters for call to function CustomApp_Coordinator_Online
   \   0000CA   12....       LCALL   `??CustomApp_Coordinator_Online::?relay`; Banked call to: CustomApp_Coordinator_Online
    939          	      break;
   \   0000CD   807A         SJMP    ??GenericApp_MessageMSGCB_1
    940          		 
    941          	   default:
    942                       CustomApp_AF_Broadcast_Data_Process(pkt);	   	
   \                     ??GenericApp_MessageMSGCB_10:
   \   0000CF                ; Setup parameters for call to function CustomApp_AF_Broadcast_Data_Process
   \   0000CF   EE           MOV     A,R6
   \   0000D0   FA           MOV     R2,A
   \   0000D1   EF           MOV     A,R7
   \   0000D2   FB           MOV     R3,A
   \   0000D3   12....       LCALL   `??CustomApp_AF_Broadcast_Data_Process::?relay`; Banked call to: CustomApp_AF_Broadcast_Data_Process
    943                       break;
   \   0000D6   8071         SJMP    ??GenericApp_MessageMSGCB_1
    944                  }
    945          	break;		
    946          
    947              case GENERICAPP_CMD_P2P_CLUSTERID:
    948          #if defined( LCD_SUPPORTED )		
    949                  rxMsgCount += 1;	
   \                     ??GenericApp_MessageMSGCB_5:
   \   0000D8   90....       MOV     DPTR,#rxMsgCount
   \   0000DB   12....       LCALL   ?Subroutine8 & 0xFFFF
    950                  HalLcdWriteStringValue( "cmd Rcvd:", rxMsgCount, 10, HAL_LCD_LINE_2 );
   \                     ??CrossCallReturnLabel_5:
   \   0000DE   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0000E1   12....       LCALL   ?Subroutine20 & 0xFFFF
   \                     ??CrossCallReturnLabel_87:
   \   0000E4   7A..         MOV     R2,#`?<Constant "cmd Rcvd:">` & 0xff
   \   0000E6   7B..         MOV     R3,#(`?<Constant "cmd Rcvd:">` >> 8) & 0xff
   \   0000E8   12....       LCALL   `??HalLcdWriteStringValue::?relay`; Banked call to: HalLcdWriteStringValue
   \   0000EB   7401         MOV     A,#0x1
   \   0000ED   12....       LCALL   ?DEALLOC_XSTACK8
    951          #endif
    952          
    953                  msgid = pkt->cmd.Data[0] | pkt->cmd.Data[1] << 8;
    954                  switch ( msgid )
   \   0000F0   EE           MOV     A,R6
   \   0000F1   2422         ADD     A,#0x22
   \   0000F3   F582         MOV     DPL,A
   \   0000F5   E4           CLR     A
   \   0000F6   3F           ADDC    A,R7
   \   0000F7   F583         MOV     DPH,A
   \   0000F9   12....       LCALL   ?Subroutine24 & 0xFFFF
   \                     ??CrossCallReturnLabel_31:
   \   0000FC   8882         MOV     DPL,R0
   \   0000FE   8983         MOV     DPH,R1
   \   000100   E0           MOVX    A,@DPTR
   \   000101   FA           MOV     R2,A
   \   000102   A3           INC     DPTR
   \   000103   E0           MOVX    A,@DPTR
   \   000104   F9           MOV     R1,A
   \   000105   EA           MOV     A,R2
   \   000106   F8           MOV     R0,A
   \   000107   743A         MOV     A,#0x3a
   \   000109   68           XRL     A,R0
   \   00010A   7003         JNZ     ??GenericApp_MessageMSGCB_11
   \   00010C   7410         MOV     A,#0x10
   \   00010E   69           XRL     A,R1
   \                     ??GenericApp_MessageMSGCB_11:
   \   00010F   7038         JNZ     ??GenericApp_MessageMSGCB_1
    955                  {
    956                    case PING_REQ_MSG:
    957                       CustomApp_process_ping((pingpkt_t *)(pkt->cmd.Data)); // update node timestamp
   \   000111                ; Setup parameters for call to function CustomApp_process_ping
   \   000111   EE           MOV     A,R6
   \   000112   2422         ADD     A,#0x22
   \   000114   12....       LCALL   ??Subroutine48_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_99:
   \   000117   12....       LCALL   `??CustomApp_process_ping::?relay`; Banked call to: CustomApp_process_ping
    958          	      break;
   \   00011A   802D         SJMP    ??GenericApp_MessageMSGCB_1
    959          
    960          #if( ZSTACK_DEVICE_BUILD != DEVICE_BUILD_COORDINATOR)		
    961                    case ROUTER_ONLINE_REQ:
    962                       CustomApp_Get_Flex_Devinfo();
    963                       break;
    964          
    965                    case ROUTER_ONFFLINE_REQ:
    966                       Onboard_soft_reset();
    967                       break;
    968          
    969                    case PING_RSP_MSG:   //chaokw ping
    970                       pingRspTime = osal_getClock();
    971          #if defined( LCD_SUPPORTED )		
    972                       HalLcdWriteStringValue( "ping rsp:", pingRspTime, 16, HAL_LCD_LINE_2 );
    973          #endif			 
    974          	      break;
    975          #endif			 
    976          	
    977          	   default:
    978                       break;
    979                   }	
    980          	break;		
    981          
    982          
    983          	case GENERICAPP_P2P_PERMIT_JOIN_REQ_CLUSTERID:
    984          	  	// gateway coordinator process flex router join from flex request
    985          
    986          #if defined( LCD_SUPPORTED )		
    987                  askWhiteListCount += 1;	
   \                     ??GenericApp_MessageMSGCB_7:
   \   00011C   90....       MOV     DPTR,#askWhiteListCount
   \   00011F   12....       LCALL   ?Subroutine8 & 0xFFFF
    988                  HalLcdWriteStringValue( "ask WL:", askWhiteListCount, 10, HAL_LCD_LINE_2 );
   \                     ??CrossCallReturnLabel_6:
   \   000122   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000125   790A         MOV     R1,#0xa
   \   000127   90....       MOV     DPTR,#askWhiteListCount
   \   00012A   12....       LCALL   ??Subroutine46_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_85:
   \   00012D   7A..         MOV     R2,#`?<Constant "ask WL:">` & 0xff
   \   00012F   7B..         MOV     R3,#(`?<Constant "ask WL:">` >> 8) & 0xff
   \   000131   12....       LCALL   `??HalLcdWriteStringValue::?relay`; Banked call to: HalLcdWriteStringValue
   \   000134   7401         MOV     A,#0x1
   \   000136   12....       LCALL   ?DEALLOC_XSTACK8
    989          #endif	  	
    990          		GenericApp_Device_JoinRsp(pkt);
   \   000139                ; Setup parameters for call to function GenericApp_Device_JoinRsp
   \   000139   EE           MOV     A,R6
   \   00013A   FA           MOV     R2,A
   \   00013B   EF           MOV     A,R7
   \   00013C   FB           MOV     R3,A
   \   00013D   12....       LCALL   `??GenericApp_Device_JoinRsp::?relay`; Banked call to: GenericApp_Device_JoinRsp
    991          		break;
   \   000140   8007         SJMP    ??GenericApp_MessageMSGCB_1
    992          
    993          	case GENERICAPP_P2P_PERMIT_JOIN_RSP_CLUSTERID:
    994          	  	// flex router received join permit info from gateway coordinator
    995          		GenericApp_Get_PermitJoin(pkt);
   \                     ??GenericApp_MessageMSGCB_8:
   \   000142                ; Setup parameters for call to function GenericApp_Get_PermitJoin
   \   000142   EE           MOV     A,R6
   \   000143   FA           MOV     R2,A
   \   000144   EF           MOV     A,R7
   \   000145   FB           MOV     R3,A
   \   000146   12....       LCALL   `??GenericApp_Get_PermitJoin::?relay`; Banked call to: GenericApp_Get_PermitJoin
    996          		break;
    997          
    998          		
    999              default:
   1000                  break;
   1001          
   1002            }
   1003          }
   \                     ??GenericApp_MessageMSGCB_1:
   \   000149   80..         SJMP    ??Subroutine51_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine20:
   \   000000   790A         MOV     R1,#0xa
   \   000002   90....       MOV     DPTR,#rxMsgCount
   \   000005                REQUIRE ??Subroutine46_0
   \   000005                ; // Fall through to label ??Subroutine46_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine16:
   \   000000   A3           INC     DPTR
   \   000001   A3           INC     DPTR
   \   000002   A3           INC     DPTR
   \   000003   A3           INC     DPTR
   \   000004   A3           INC     DPTR
   \   000005   A3           INC     DPTR
   \   000006                REQUIRE ??Subroutine47_0
   \   000006                ; // Fall through to label ??Subroutine47_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine47_0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F8           MOV     R0,A
   \   000002   A3           INC     DPTR
   \   000003   E0           MOVX    A,@DPTR
   \   000004   F9           MOV     R1,A
   \   000005   E8           MOV     A,R0
   \   000006   49           ORL     A,R1
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine48_0:
   \   000000   F582         MOV     DPL,A
   \   000002   E4           CLR     A
   \   000003   3F           ADDC    A,R7
   \   000004                REQUIRE ??Subroutine49_0
   \   000004                ; // Fall through to label ??Subroutine49_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine49_0:
   \   000000   F583         MOV     DPH,A
   \   000002                REQUIRE ??Subroutine50_0
   \   000002                ; // Fall through to label ??Subroutine50_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine8:
   \   000000   12....       LCALL   ?Subroutine38 & 0xFFFF
   \                     ??CrossCallReturnLabel_62:
   \   000003                ; Setup parameters for call to function HalLcdWriteStringValue
   \   000003                ; Setup parameters for call to function HalLcdWriteStringValue
   \   000003   75..03       MOV     ?V0,#0x3
   \   000006   78..         MOV     R0,#?V0
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine38:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   2401         ADD     A,#0x1
   \   000003   F0           MOVX    @DPTR,A
   \   000004   A3           INC     DPTR
   \   000005   E0           MOVX    A,@DPTR
   \   000006   3400         ADDC    A,#0x0
   \   000008   F0           MOVX    @DPTR,A
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine51_0:
   \   000000   7F02         MOV     R7,#0x2
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine44:
   \   000000   240E         ADD     A,#0xe
   \   000002   F582         MOV     DPL,A
   \   000004   E4           CLR     A
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine40:
   \   000000   2420         ADD     A,#0x20
   \   000002   F582         MOV     DPL,A
   \   000004   E4           CLR     A
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine39:
   \   000000   241C         ADD     A,#0x1c
   \   000002   F582         MOV     DPL,A
   \   000004   E4           CLR     A
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine26:
   \   000000   EE           MOV     A,R6
   \   000001   2422         ADD     A,#0x22
   \   000003                REQUIRE ??Subroutine57_0
   \   000003                ; // Fall through to label ??Subroutine57_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine18:
   \   000000   A3           INC     DPTR
   \   000001   E0           MOVX    A,@DPTR
   \   000002   F9           MOV     R1,A
   \   000003   8882         MOV     DPL,R0
   \   000005   8983         MOV     DPH,R1
   \   000007   A3           INC     DPTR
   \   000008   A3           INC     DPTR
   \   000009   A3           INC     DPTR
   \   00000A   A3           INC     DPTR
   \   00000B   22           RET
   1004          
   1005          /*********************************************************************
   1006           * @fn      GenericApp_SendTheMessage
   1007           *
   1008           * @brief   Send "the" message.
   1009           *
   1010           * @param   none
   1011           *
   1012           * @return  none
   1013           */
   1014          static void GenericApp_SendTheMessage( void )
   1015          {
   1016            char theMessageData[] = "Hello World";
   1017          
   1018            if ( AF_DataRequest( &GenericApp_DstAddr, &GenericApp_epDesc,
   1019                                 GENERICAPP_CLUSTERID,
   1020                                 (byte)osal_strlen( theMessageData ) + 1,
   1021                                 (byte *)&theMessageData,
   1022                                 &GenericApp_TransID,
   1023                                 AF_DISCV_ROUTE, AF_DEFAULT_RADIUS ) == afStatus_SUCCESS )
   1024            {
   1025              // Successfully requested to be sent.
   1026            }
   1027            else
   1028            {
   1029              // Error occurred in request to send.
   1030            }
   1031          }
   1032          
   1033          #if defined( IAR_ARMCM3_LM )
   1034          /*********************************************************************
   1035           * @fn      GenericApp_ProcessRtosMessage
   1036           *
   1037           * @brief   Receive message from RTOS queue, send response back.
   1038           *
   1039           * @param   none
   1040           *
   1041           * @return  none
   1042           */
   1043          static void GenericApp_ProcessRtosMessage( void )
   1044          {
   1045            osalQueue_t inMsg;
   1046          
   1047            if ( osal_queue_receive( OsalQueue, &inMsg, 0 ) == pdPASS )
   1048            {
   1049              uint8 cmndId = inMsg.cmnd;
   1050              uint32 counter = osal_build_uint32( inMsg.cbuf, 4 );
   1051          
   1052              switch ( cmndId )
   1053              {
   1054                case CMD_INCR:
   1055                  counter += 1;  /* Increment the incoming counter */
   1056                                 /* Intentionally fall through next case */
   1057          
   1058                case CMD_ECHO:
   1059                {
   1060                  userQueue_t outMsg;
   1061          
   1062                  outMsg.resp = RSP_CODE | cmndId;  /* Response ID */
   1063                  osal_buffer_uint32( outMsg.rbuf, counter );    /* Increment counter */
   1064                  osal_queue_send( UserQueue1, &outMsg, 0 );  /* Send back to UserTask */
   1065                  break;
   1066                }
   1067          
   1068                default:
   1069                  break;  /* Ignore unknown command */
   1070              }
   1071            }
   1072          }
   1073          #endif
   1074          
   1075          
   1076          
   1077          /*********************************************************************
   1078           */
   1079          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1080          nodeList_t *CustomApp_NodeRegister (afAddrType_t addr64, afAddrType_t addr16)
   \                     CustomApp_NodeRegister:
   1081          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
   1082              nodeList_t *nodeSearch;
   1083          
   1084              nodeSearch = CustomApp_NodeFindMacAddrList(addr64.addr.extAddr);  //chaokw issue
   1085          
   1086              if (nodeSearch == NULL)
   \   000005                ; Setup parameters for call to function CustomApp_NodeFindMacAddrList
   \   000005   740A         MOV     A,#0xa
   \   000007   12....       LCALL   ?XSTACK_DISP101_8
   \   00000A   12....       LCALL   `??CustomApp_NodeFindMacAddrList::?relay`; Banked call to: CustomApp_NodeFindMacAddrList
   \   00000D   8B..         MOV     ?V1,R3
   \   00000F   EA           MOV     A,R2
   \   000010   45..         ORL     A,?V1
   \   000012   7063         JNZ     ??CustomApp_NodeRegister_0
   1087              {
   1088                  nodeList_t *node = osal_mem_alloc(sizeof(nodeList_t));  
   \   000014                ; Setup parameters for call to function osal_mem_alloc
   \   000014   7A25         MOV     R2,#0x25
   \   000016   7B00         MOV     R3,#0x0
   \   000018   12....       LCALL   `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   1089          
   1090                  if ( node == NULL )
   \   00001B   EA           MOV     A,R2
   \   00001C   4B           ORL     A,R3
   \   00001D   6058         JZ      ??CustomApp_NodeRegister_0
   1091                  {
   1092                      return NULL;
   1093                  }
   1094          
   1095                  node->nextDesc = nodeList;
   \   00001F   90....       MOV     DPTR,#nodeList
   \   000022   12....       LCALL   ?Subroutine24 & 0xFFFF
   \                     ??CrossCallReturnLabel_32:
   \   000025   8A82         MOV     DPL,R2
   \   000027   8B83         MOV     DPH,R3
   \   000029   12....       LCALL   ?Subroutine14 & 0xFFFF
   1096                  nodeList = node;
   \                     ??CrossCallReturnLabel_14:
   \   00002C   90....       MOV     DPTR,#nodeList
   \   00002F   12....       LCALL   ??Subroutine55_0 & 0xFFFF
   1097                  node->devAddr64 = addr64;
   \                     ??CrossCallReturnLabel_103:
   \   000032   740A         MOV     A,#0xa
   \   000034   12....       LCALL   ?XSTACK_DISP0_8
   \   000037   EA           MOV     A,R2
   \   000038   2402         ADD     A,#0x2
   \   00003A   FC           MOV     R4,A
   \   00003B   E4           CLR     A
   \   00003C   3B           ADDC    A,R3
   \   00003D   FD           MOV     R5,A
   \   00003E   740C         MOV     A,#0xc
   \   000040   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
   1098                  node->devAddr16 = addr16;
   \   000043   EA           MOV     A,R2
   \   000044   240E         ADD     A,#0xe
   \   000046   FC           MOV     R4,A
   \   000047   E4           CLR     A
   \   000048   3B           ADDC    A,R3
   \   000049   FD           MOV     R5,A
   \   00004A   740C         MOV     A,#0xc
   \   00004C   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
   1099                  node->status= nodeconnected;
   \   00004F   12....       LCALL   ?Subroutine34 & 0xFFFF
   \                     ??CrossCallReturnLabel_53:
   \   000052   7402         MOV     A,#0x2
   \   000054   F0           MOVX    @DPTR,A
   1100                  node->sequence = 0;
   \   000055   EA           MOV     A,R2
   \   000056   241B         ADD     A,#0x1b
   \   000058   F582         MOV     DPL,A
   \   00005A   E4           CLR     A
   \   00005B   3B           ADDC    A,R3
   \   00005C   F583         MOV     DPH,A
   \   00005E   E4           CLR     A
   \   00005F   F0           MOVX    @DPTR,A
   1101                  node->timestamp = 0;
   \   000060   EA           MOV     A,R2
   \   000061   241C         ADD     A,#0x1c
   \   000063   12....       LCALL   ?Subroutine13 & 0xFFFF
   1102                  node->oldtimestamp =0;
   \                     ??CrossCallReturnLabel_11:
   \   000066   2420         ADD     A,#0x20
   \   000068   12....       LCALL   ?Subroutine13 & 0xFFFF
   1103                  node->timeoutcnt	=0;
   \                     ??CrossCallReturnLabel_12:
   \   00006B   2424         ADD     A,#0x24
   \   00006D   F582         MOV     DPL,A
   \   00006F   E4           CLR     A
   \   000070   3B           ADDC    A,R3
   \   000071   F583         MOV     DPH,A
   \   000073   E4           CLR     A
   \   000074   F0           MOVX    @DPTR,A
   1104          
   1105          	 return node;
   \   000075   8004         SJMP    ??CustomApp_NodeRegister_1
   1106              }
   1107          
   1108              return NULL;
   \                     ??CustomApp_NodeRegister_0:
   \   000077   7A00         MOV     R2,#0x0
   \   000079   7B00         MOV     R3,#0x0
   \                     ??CustomApp_NodeRegister_1:
   \   00007B   02....       LJMP    ??Subroutine51_0 & 0xFFFF
   1109          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine13:
   \   000000   F582         MOV     DPL,A
   \   000002   E4           CLR     A
   \   000003   3B           ADDC    A,R3
   \   000004   F583         MOV     DPH,A
   \   000006   E4           CLR     A
   \   000007   F0           MOVX    @DPTR,A
   \   000008   A3           INC     DPTR
   \   000009   F0           MOVX    @DPTR,A
   \   00000A   A3           INC     DPTR
   \   00000B   F0           MOVX    @DPTR,A
   \   00000C   A3           INC     DPTR
   \   00000D   F0           MOVX    @DPTR,A
   \   00000E   EA           MOV     A,R2
   \   00000F   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine55_0:
   \   000000   EA           MOV     A,R2
   \   000001   F0           MOVX    @DPTR,A
   \   000002   A3           INC     DPTR
   \   000003   EB           MOV     A,R3
   \   000004   F0           MOVX    @DPTR,A
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine42:
   \   000000   EA           MOV     A,R2
   \   000001                REQUIRE ??Subroutine56_0
   \   000001                ; // Fall through to label ??Subroutine56_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine56_0:
   \   000000   241A         ADD     A,#0x1a
   \   000002   F582         MOV     DPL,A
   \   000004   E4           CLR     A
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine34:
   \   000000   12....       LCALL   ?Subroutine42 & 0xFFFF
   \                     ??CrossCallReturnLabel_114:
   \   000003   3B           ADDC    A,R3
   \   000004   F583         MOV     DPH,A
   \   000006   22           RET
   1110          
   1111          
   1112          /*********************************************************************
   1113           * @fn      nodeDelete
   1114           *
   1115           * @brief   Delete an Application's EndPoint descriptor and frees the memory
   1116           *
   1117           * @param   EndPoint - Application Endpoint to delete
   1118           *
   1119           * @return  afStatus_SUCCESS - endpoint deleted
   1120           *          afStatus_INVALID_PARAMETER - endpoint not found
   1121           *          afStatus_FAILED - endpoint list empty
   1122           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1123          nodeStatus_t CustomApp_NodeDelete ( uint16 devaddr )
   \                     CustomApp_NodeDelete:
   1124          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   1125              nodeList_t *nodeCurrent;
   1126              nodeList_t *nodePrevious;
   1127          
   1128              if (nodeList != NULL)
   \   000005   90....       MOV     DPTR,#nodeList
   \   000008   12....       LCALL   ??Subroutine47_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_90:
   \   00000B   6056         JZ      ??CustomApp_NodeDelete_0
   1129              {
   1130                  nodePrevious = nodeCurrent = nodeList;
   \   00000D   E0           MOVX    A,@DPTR
   \   00000E   F9           MOV     R1,A
   \   00000F   E8           MOV     A,R0
   \   000010   FC           MOV     R4,A
   \   000011   E9           MOV     A,R1
   \   000012   FD           MOV     R5,A
   1131                  if (nodeCurrent->devAddr16.addr.shortAddr == devaddr )
   \   000013   12....       LCALL   ?Subroutine27 & 0xFFFF
   \                     ??CrossCallReturnLabel_36:
   \   000016   7003         JNZ     ??CustomApp_NodeDelete_1
   \   000018   A3           INC     DPTR
   \   000019   E0           MOVX    A,@DPTR
   \   00001A   6B           XRL     A,R3
   \                     ??CustomApp_NodeDelete_1:
   \   00001B   700C         JNZ     ??CustomApp_NodeDelete_2
   1132                  {
   1133                      nodeList = nodeCurrent->nextDesc;
   \   00001D   8882         MOV     DPL,R0
   \   00001F   8983         MOV     DPH,R1
   \   000021   12....       LCALL   ??Subroutine50_0 & 0xFFFF
   1134                      osal_mem_free(nodeCurrent);
   1135                      return (nodeStatus_SUCCESS);
   1136                  }
   \                     ??CrossCallReturnLabel_94:
   \   000024   90....       MOV     DPTR,#nodeList
   \   000027   8028         SJMP    ??CustomApp_NodeDelete_3
   1137                  else
   1138                  {
   1139                      for (nodeCurrent = nodePrevious->nextDesc; nodeCurrent != NULL; nodeCurrent = nodeCurrent->nextDesc )  
   \                     ??CustomApp_NodeDelete_2:
   \   000029   8C82         MOV     DPL,R4
   \   00002B   8D83         MOV     DPH,R5
   \   00002D   8008         SJMP    ??CustomApp_NodeDelete_4
   1140                      {
   1141                          if (nodeCurrent->devAddr16.addr.shortAddr== devaddr)
   1142                          {
   1143                              nodePrevious->nextDesc = nodeCurrent->nextDesc;
   1144                              osal_mem_free(nodeCurrent);
   1145                              return (nodeStatus_SUCCESS);
   1146                          }
   1147                          nodePrevious = nodeCurrent;  
   \                     ??CustomApp_NodeDelete_5:
   \   00002F   E8           MOV     A,R0
   \   000030   FC           MOV     R4,A
   \   000031   E9           MOV     A,R1
   \   000032   FD           MOV     R5,A
   \   000033   8882         MOV     DPL,R0
   \   000035   8983         MOV     DPH,R1
   \                     ??CustomApp_NodeDelete_4:
   \   000037   12....       LCALL   ??Subroutine47_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_88:
   \   00003A   6023         JZ      ??CustomApp_NodeDelete_6
   \   00003C   12....       LCALL   ?Subroutine27 & 0xFFFF
   \                     ??CrossCallReturnLabel_37:
   \   00003F   7003         JNZ     ??CustomApp_NodeDelete_7
   \   000041   A3           INC     DPTR
   \   000042   E0           MOVX    A,@DPTR
   \   000043   6B           XRL     A,R3
   \                     ??CustomApp_NodeDelete_7:
   \   000044   70E9         JNZ     ??CustomApp_NodeDelete_5
   \   000046   8882         MOV     DPL,R0
   \   000048   8983         MOV     DPH,R1
   \   00004A   12....       LCALL   ??Subroutine50_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_95:
   \   00004D   8C82         MOV     DPL,R4
   \   00004F   8D83         MOV     DPH,R5
   \                     ??CustomApp_NodeDelete_3:
   \   000051   12....       LCALL   ??Subroutine55_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_104:
   \   000054                ; Setup parameters for call to function osal_mem_free
   \   000054   E8           MOV     A,R0
   \   000055   FA           MOV     R2,A
   \   000056   E9           MOV     A,R1
   \   000057   FB           MOV     R3,A
   \   000058   12....       LCALL   `??osal_mem_free::?relay`; Banked call to: osal_mem_free
   \   00005B   7900         MOV     R1,#0x0
   \   00005D   8006         SJMP    ??CustomApp_NodeDelete_8
   1148                      }
   1149                  }
   1150                  return (nodeStatus_INVALID_PARAMETER);
   \                     ??CustomApp_NodeDelete_6:
   \   00005F   7902         MOV     R1,#0x2
   \   000061   8002         SJMP    ??CustomApp_NodeDelete_8
   1151              }
   1152              else
   1153              {
   1154                  return (nodeStatus_FAILED);
   \                     ??CustomApp_NodeDelete_0:
   \   000063   7901         MOV     R1,#0x1
   1155              }
   \                     ??CustomApp_NodeDelete_8:
   \   000065   02....       LJMP    ?Subroutine0 & 0xFFFF
   1156          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine27:
   \   000000   12....       LCALL   ?Subroutine41 & 0xFFFF
   \                     ??CrossCallReturnLabel_72:
   \   000003   E0           MOVX    A,@DPTR
   \   000004   6A           XRL     A,R2
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine41:
   \   000000   E8           MOV     A,R0
   \   000001   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_79:
   \   000004   39           ADDC    A,R1
   \   000005   F583         MOV     DPH,A
   \   000007   22           RET
   1157          
   1158          
   1159          /*********************************************************************
   1160           * @fn      nodeFinddevaddrList
   1161           *
   1162           * @brief   Find the endpoint description entry from the endpoint
   1163           *          number.
   1164           *
   1165           * @param   EndPoint - Application Endpoint to look for
   1166           *
   1167           * @return  the address to the endpoint/interface description entry
   1168           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1169          nodeList_t *CustomApp_NodeFindNwkAddrList ( uint16 Addr16 )
   \                     CustomApp_NodeFindNwkAddrList:
   1170          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
   1171              nodeList_t *nodeSearch;
   1172          
   1173              for (nodeSearch = nodeList; (nodeSearch != NULL);
   \   000004   90....       MOV     DPTR,#nodeList
   \   000007   8004         SJMP    ??CustomApp_NodeFindNwkAddrList_0
   1174                   nodeSearch = nodeSearch->nextDesc)
   \                     ??CustomApp_NodeFindNwkAddrList_1:
   \   000009   8882         MOV     DPL,R0
   \   00000B   8983         MOV     DPH,R1
   \                     ??CustomApp_NodeFindNwkAddrList_0:
   \   00000D   12....       LCALL   ??Subroutine47_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_89:
   \   000010   600A         JZ      ??CustomApp_NodeFindNwkAddrList_2
   1175              {
   1176                  if (nodeSearch->devAddr16.addr.shortAddr== Addr16)
   \   000012   12....       LCALL   ?Subroutine27 & 0xFFFF
   1177                  {
   1178                      break;
   1179                  }
   1180              }
   \                     ??CrossCallReturnLabel_38:
   \   000015   7003         JNZ     ??CustomApp_NodeFindNwkAddrList_3
   \   000017   A3           INC     DPTR
   \   000018   E0           MOVX    A,@DPTR
   \   000019   6B           XRL     A,R3
   \                     ??CustomApp_NodeFindNwkAddrList_3:
   \   00001A   70ED         JNZ     ??CustomApp_NodeFindNwkAddrList_1
   1181              return nodeSearch;
   \                     ??CustomApp_NodeFindNwkAddrList_2:
   \   00001C   E8           MOV     A,R0
   \   00001D   FA           MOV     R2,A
   \   00001E   E9           MOV     A,R1
   \   00001F   FB           MOV     R3,A
   \   000020   02....       LJMP    ??Subroutine53_0 & 0xFFFF
   1182          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine53_0:
   \   000000   D083         POP     DPH
   \   000002   D082         POP     DPL
   \   000004   02....       LJMP    ?BRET
   1183          
   1184          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1185          nodeList_t *CustomApp_NodeFindMacAddrList ( uint8* Addr64 )
   \                     CustomApp_NodeFindMacAddrList:
   1186          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
   \   000005   8A..         MOV     ?V0,R2
   \   000007   8B..         MOV     ?V1,R3
   1187              nodeList_t *nodeSearch;
   1188          
   1189              for (nodeSearch = nodeList; nodeSearch != NULL;
   \   000009   90....       MOV     DPTR,#nodeList
   \   00000C   8004         SJMP    ??CustomApp_NodeFindMacAddrList_0
   1190                   nodeSearch = nodeSearch->nextDesc)
   \                     ??CustomApp_NodeFindMacAddrList_1:
   \   00000E   8E82         MOV     DPL,R6
   \   000010   8F83         MOV     DPH,R7
   \                     ??CustomApp_NodeFindMacAddrList_0:
   \   000012   12....       LCALL   ??Subroutine59_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_121:
   \   000015   EE           MOV     A,R6
   \   000016   4F           ORL     A,R7
   \   000017   6013         JZ      ??CustomApp_NodeFindMacAddrList_2
   1191              {
   1192                  if ( osal_ExtAddrEqual( (uint8 *)(nodeSearch->devAddr64.addr.extAddr),
   1193                                          (uint8 *)Addr64 ) == true )
   \   000019                ; Setup parameters for call to function sAddrExtCmp
   \   000019   AC..         MOV     R4,?V0
   \   00001B   AD..         MOV     R5,?V1
   \   00001D   EE           MOV     A,R6
   \   00001E   2402         ADD     A,#0x2
   \   000020   FA           MOV     R2,A
   \   000021   E4           CLR     A
   \   000022   3F           ADDC    A,R7
   \   000023   FB           MOV     R3,A
   \   000024   12....       LCALL   `??sAddrExtCmp::?relay`; Banked call to: sAddrExtCmp
   \   000027   E9           MOV     A,R1
   \   000028   6401         XRL     A,#0x1
   \   00002A   70E2         JNZ     ??CustomApp_NodeFindMacAddrList_1
   1194                  {
   1195                      break;
   1196                  }
   1197              }
   1198              return nodeSearch;
   \                     ??CustomApp_NodeFindMacAddrList_2:
   \   00002C   EE           MOV     A,R6
   \   00002D   FA           MOV     R2,A
   \   00002E   EF           MOV     A,R7
   \   00002F   FB           MOV     R3,A
   \   000030   02....       LJMP    ??Subroutine51_0 & 0xFFFF
   1199          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine59_0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   FE           MOV     R6,A
   \   000002   A3           INC     DPTR
   \   000003   E0           MOVX    A,@DPTR
   \   000004   FF           MOV     R7,A
   \   000005   22           RET
   1200          
   1201          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1202          void CustomApp_ping_request_init( void )
   \                     CustomApp_ping_request_init:
   1203          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
   1204          	 osal_start_timerEx( GenericApp_TaskID, GENERICAPP_PING_MSG_EVT, PING_PERIOD );
   \   000004                ; Setup parameters for call to function osal_start_timerEx
   \   000004   90....       MOV     DPTR,#__Constant_3a98
   \   000007   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   00000A   7A04         MOV     R2,#0x4
   \   00000C   80..         SJMP    ?Subroutine4
   1205          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine4:
   \   000000   7B00         MOV     R3,#0x0
   \   000002                REQUIRE ??Subroutine52_0
   \   000002                ; // Fall through to label ??Subroutine52_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine52_0:
   \   000000   90....       MOV     DPTR,#GenericApp_TaskID
   \   000003   E0           MOVX    A,@DPTR
   \   000004   F9           MOV     R1,A
   \   000005   12....       LCALL   `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
   \   000008   7404         MOV     A,#0x4
   \   00000A   12....       LCALL   ?DEALLOC_XSTACK8
   \   00000D                REQUIRE ??Subroutine53_0
   \   00000D                ; // Fall through to label ??Subroutine53_0
   1206          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1207          void CustomApp_linkstatus_init( void )
   \                     CustomApp_linkstatus_init:
   1208          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
   1209          	 osal_start_timerEx( GenericApp_TaskID, GENERICAPP_LINK_STATUS_EVT, LINKSTAT_PRRIOD );
   \   000004                ; Setup parameters for call to function osal_start_timerEx
   \   000004   90....       MOV     DPTR,#__Constant_3a98
   \   000007   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   00000A   7A08         MOV     R2,#0x8
   \   00000C   80..         SJMP    ?Subroutine4
   1210          }
   1211          
   1212          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1213          void CustomApp_ping_timeout_check_init( void )   //chaokw ping
   \                     CustomApp_ping_timeout_check_init:
   1214          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
   1215          	 osal_start_timerEx( GenericApp_TaskID, GENERICAPP_PING_TIMEOUT_CHECK_EVT, PING_TIMEOUT_CHECK );
   \   000004                ; Setup parameters for call to function osal_start_timerEx
   \   000004   90....       MOV     DPTR,#__Constant_2710
   \   000007   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   00000A   7A80         MOV     R2,#-0x80
   \   00000C   80..         SJMP    ?Subroutine4
   1216          }
   1217          
   1218          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1219          void CustomApp_coordinater_broadcast_ping_init( void )   //chaokw ping
   \                     CustomApp_coordinater_broadcast_ping_init:
   1220          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
   1221          	 osal_start_timerEx( GenericApp_TaskID, GENERICAPP_COORDINATER_BROADCAST_PING_EVT, PING_PERIOD );
   \   000004                ; Setup parameters for call to function osal_start_timerEx
   \   000004   90....       MOV     DPTR,#__Constant_3a98
   \   000007   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   00000A   7A00         MOV     R2,#0x0
   \   00000C   7B01         MOV     R3,#0x1
   \   00000E   80..         SJMP    ??Subroutine52_0
   1222          }
   1223          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1224          void CustomApp_zigbee_start_ind (void)
   \                     CustomApp_zigbee_start_ind:
   1225          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 13
   \   000005   74F3         MOV     A,#-0xd
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   1226          
   1227              uint8 msg[13];
   1228              uint8* ExtAddr;	
   1229          
   1230              msg[0] = MT_CPT_SOP;
   \   00000A   85..82       MOV     DPL,?XSP + 0
   \   00000D   85..83       MOV     DPH,?XSP + 1
   \   000010   74FE         MOV     A,#-0x2
   \   000012   F0           MOVX    @DPTR,A
   1231              msg[1] = 0x08;
   \   000013   7401         MOV     A,#0x1
   \   000015   12....       LCALL   ?XSTACK_DISP0_8
   \   000018   7408         MOV     A,#0x8
   \   00001A   F0           MOVX    @DPTR,A
   1232              msg[2] = MT_ZIGBEE_START_IND & 0xff; //0x80
   \   00001B   7402         MOV     A,#0x2
   \   00001D   12....       LCALL   ?XSTACK_DISP0_8
   \   000020   7480         MOV     A,#-0x80
   \   000022   F0           MOVX    @DPTR,A
   1233              msg[3] = (MT_ZIGBEE_START_IND  & 0xff00) >> 8;  //0x16
   \   000023   7403         MOV     A,#0x3
   \   000025   12....       LCALL   ?XSTACK_DISP0_8
   \   000028   7416         MOV     A,#0x16
   \   00002A   F0           MOVX    @DPTR,A
   1234          
   1235              ExtAddr = NLME_GetExtAddr();
   \   00002B                ; Setup parameters for call to function NLME_GetExtAddr
   \   00002B   12....       LCALL   `??NLME_GetExtAddr::?relay`; Banked call to: NLME_GetExtAddr
   \   00002E   8A..         MOV     ?V0,R2
   \   000030   8B..         MOV     ?V1,R3
   1236              osal_memcpy(&msg[4], ExtAddr, 8);
   \   000032                ; Setup parameters for call to function osal_memcpy
   \   000032   75..00       MOV     ?V2,#0x0
   \   000035   78..         MOV     R0,#?V0
   \   000037   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00003A   7C08         MOV     R4,#0x8
   \   00003C   7D00         MOV     R5,#0x0
   \   00003E   7407         MOV     A,#0x7
   \   000040   12....       LCALL   ?XSTACK_DISP0_8
   \   000043   AA82         MOV     R2,DPL
   \   000045   AB83         MOV     R3,DPH
   \   000047   12....       LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   00004A   7403         MOV     A,#0x3
   \   00004C   12....       LCALL   ?DEALLOC_XSTACK8
   1237          #ifdef OPEN_FCS 
   1238              msg[12]=MT_UartCalcFCS (&msg[1], 11);
   \   00004F                ; Setup parameters for call to function MT_UartCalcFCS
   \   00004F   790B         MOV     R1,#0xb
   \   000051   7401         MOV     A,#0x1
   \   000053   12....       LCALL   ?XSTACK_DISP0_8
   \   000056   AA82         MOV     R2,DPL
   \   000058   AB83         MOV     R3,DPH
   \   00005A   12....       LCALL   `??MT_UartCalcFCS::?relay`; Banked call to: MT_UartCalcFCS
   \   00005D   740C         MOV     A,#0xc
   \   00005F   12....       LCALL   ?XSTACK_DISP0_8
   \   000062   12....       LCALL   ?Subroutine9 & 0xFFFF
   1239          #else   
   1240              msg[12] = DEFAULTFCS;
   1241          #endif
   1242          
   1243              HalUARTWrite( 0, msg, 13 );
   \                     ??CrossCallReturnLabel_7:
   \   000065   12....       LCALL   `??HalUARTWrite::?relay`; Banked call to: HalUARTWrite
   1244          }
   \   000068   740D         MOV     A,#0xd
   \   00006A                REQUIRE ?Subroutine1
   \   00006A                ; // Fall through to label ?Subroutine1

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine9:
   \   000000   E9           MOV     A,R1
   \   000001   F0           MOVX    @DPTR,A
   \   000002                ; Setup parameters for call to function HalUARTWrite
   \   000002                ; Setup parameters for call to function HalUARTWrite
   \   000002   7C0D         MOV     R4,#0xd
   \   000004   7D00         MOV     R5,#0x0
   \   000006   AA..         MOV     R2,?XSP + 0
   \   000008   AB..         MOV     R3,?XSP + 1
   \   00000A   7900         MOV     R1,#0x0
   \   00000C   22           RET
   1245          
   1246          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1247          void CustomApp_loadstatus_ind(void) 
   \                     CustomApp_loadstatus_ind:
   1248          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 15
   \   000005   74F1         MOV     A,#-0xf
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   1249              uint8 msg[15]; 
   1250              uint8* ExtAddr;
   1251              uint16 ShortAddr;	
   1252              
   1253              msg[0] = MT_CPT_SOP;
   \   00000A   85..82       MOV     DPL,?XSP + 0
   \   00000D   85..83       MOV     DPH,?XSP + 1
   \   000010   74FE         MOV     A,#-0x2
   \   000012   F0           MOVX    @DPTR,A
   1254              msg[1] = 0x0A;  
   \   000013   7401         MOV     A,#0x1
   \   000015   12....       LCALL   ?XSTACK_DISP0_8
   \   000018   740A         MOV     A,#0xa
   \   00001A   F0           MOVX    @DPTR,A
   1255              msg[2] = MT_LOAD_STATUS_IND & 0xff;   //0x80
   \   00001B   7402         MOV     A,#0x2
   \   00001D   12....       LCALL   ?XSTACK_DISP0_8
   \   000020   7480         MOV     A,#-0x80
   \   000022   F0           MOVX    @DPTR,A
   1256              msg[3] = (MT_LOAD_STATUS_IND  & 0xff00) >> 8;  //0x17
   \   000023   7403         MOV     A,#0x3
   \   000025   12....       LCALL   ?XSTACK_DISP0_8
   \   000028   7417         MOV     A,#0x17
   \   00002A   F0           MOVX    @DPTR,A
   1257              
   1258              ExtAddr = NLME_GetExtAddr();
   \   00002B                ; Setup parameters for call to function NLME_GetExtAddr
   \   00002B   12....       LCALL   `??NLME_GetExtAddr::?relay`; Banked call to: NLME_GetExtAddr
   \   00002E   8A..         MOV     ?V0,R2
   \   000030   8B..         MOV     ?V1,R3
   1259              osal_memcpy(&msg[4], ExtAddr, 8);
   \   000032                ; Setup parameters for call to function osal_memcpy
   \   000032   75..00       MOV     ?V2,#0x0
   \   000035   78..         MOV     R0,#?V0
   \   000037   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00003A   7C08         MOV     R4,#0x8
   \   00003C   7D00         MOV     R5,#0x0
   \   00003E   7407         MOV     A,#0x7
   \   000040   12....       LCALL   ?XSTACK_DISP0_8
   \   000043   AA82         MOV     R2,DPL
   \   000045   AB83         MOV     R3,DPH
   \   000047   12....       LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   00004A   7403         MOV     A,#0x3
   \   00004C   12....       LCALL   ?DEALLOC_XSTACK8
   1260          
   1261          #if( ZSTACK_DEVICE_BUILD == DEVICE_BUILD_COORDINATOR)
   1262              ShortAddr =0x0000;
   1263          #else
   1264              ShortAddr = NLME_GetShortAddr();
   1265          #endif
   1266          
   1267              msg[12] = ShortAddr & 0xff;
   \   00004F   740C         MOV     A,#0xc
   \   000051   12....       LCALL   ?XSTACK_DISP0_8
   \   000054   E4           CLR     A
   \   000055   F0           MOVX    @DPTR,A
   1268              msg[13] = (ShortAddr & 0xff00) >> 8;
   \   000056   740D         MOV     A,#0xd
   \   000058   12....       LCALL   ?XSTACK_DISP0_8
   \   00005B   E4           CLR     A
   \   00005C   F0           MOVX    @DPTR,A
   1269          
   1270          #ifdef OPEN_FCS 	
   1271              msg[14] = MT_UartCalcFCS(&msg[1], 13);          
   \   00005D                ; Setup parameters for call to function MT_UartCalcFCS
   \   00005D   790D         MOV     R1,#0xd
   \   00005F   04           INC     A
   \   000060   12....       LCALL   ?XSTACK_DISP0_8
   \   000063   AA82         MOV     R2,DPL
   \   000065   AB83         MOV     R3,DPH
   \   000067   12....       LCALL   `??MT_UartCalcFCS::?relay`; Banked call to: MT_UartCalcFCS
   \   00006A   740E         MOV     A,#0xe
   \   00006C   12....       LCALL   ?XSTACK_DISP0_8
   \   00006F   E9           MOV     A,R1
   \   000070   F0           MOVX    @DPTR,A
   1272          #else   
   1273              msg[14] = DEFAULTFCS;
   1274          #endif
   1275              HalUARTWrite( 0, msg, 15 );        
   \   000071                ; Setup parameters for call to function HalUARTWrite
   \   000071   7C0F         MOV     R4,#0xf
   \   000073   7D00         MOV     R5,#0x0
   \   000075   AA..         MOV     R2,?XSP + 0
   \   000077   AB..         MOV     R3,?XSP + 1
   \   000079   7900         MOV     R1,#0x0
   \   00007B   12....       LCALL   `??HalUARTWrite::?relay`; Banked call to: HalUARTWrite
   1276          
   1277          }
   \   00007E   740F         MOV     A,#0xf
   \   000080   02....       LJMP    ?Subroutine1 & 0xFFFF
   1278          
   1279          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1280          void CustomApp_node_register_ind(afAddrType_t addr64, afAddrType_t addr16)
   \                     CustomApp_node_register_ind:
   1281          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 26
   \   000005   74E6         MOV     A,#-0x1a
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   1282              uint8 msg[25];
   1283              transferpkt_t *rptmac;
   1284              uint8 fcs;
   1285          	
   1286              rptmac = (transferpkt_t *)osal_msg_allocate( sizeof (transferpkt_t) + 8); 
   \   00000A                ; Setup parameters for call to function osal_msg_allocate
   \   00000A   7A14         MOV     R2,#0x14
   \   00000C   7B00         MOV     R3,#0x0
   \   00000E   12....       LCALL   `??osal_msg_allocate::?relay`; Banked call to: osal_msg_allocate
   \   000011   8A..         MOV     ?V0,R2
   \   000013   8B..         MOV     ?V1,R3
   \   000015   AE..         MOV     R6,?V0
   \   000017   AF..         MOV     R7,?V1
   1287              if (rptmac != NULL)
   \   000019   EE           MOV     A,R6
   \   00001A   4F           ORL     A,R7
   \   00001B   7003         JNZ     $+5
   \   00001D   02....       LJMP    ??CustomApp_node_register_ind_0 & 0xFFFF
   1288              {
   1289                  rptmac->msgid = REPORT_RPTMAC_MSG; 
   \   000020   8E82         MOV     DPL,R6
   \   000022   8F83         MOV     DPH,R7
   \   000024   742C         MOV     A,#0x2c
   \   000026   F0           MOVX    @DPTR,A
   \   000027   A3           INC     DPTR
   \   000028   7460         MOV     A,#0x60
   \   00002A   12....       LCALL   ?Subroutine5 & 0xFFFF
   1290                  rptmac->msgseq = 0x0001;
   1291                  rptmac->srcid = 0x0000;
   \                     ??CrossCallReturnLabel_0:
   \   00002D   A3           INC     DPTR
   \   00002E   A3           INC     DPTR
   \   00002F   F0           MOVX    @DPTR,A
   \   000030   A3           INC     DPTR
   \   000031   F0           MOVX    @DPTR,A
   1292                  osal_memcpy(&rptmac->destid, &addr16.addr.shortAddr, 2);
   \   000032                ; Setup parameters for call to function osal_memcpy
   \   000032   7436         MOV     A,#0x36
   \   000034   12....       LCALL   ?XSTACK_DISP100_8
   \   000037   88..         MOV     ?V0,R0
   \   000039   89..         MOV     ?V1,R1
   \   00003B   75..00       MOV     ?V2,#0x0
   \   00003E   78..         MOV     R0,#?V0
   \   000040   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000043   7C02         MOV     R4,#0x2
   \   000045   7D00         MOV     R5,#0x0
   \   000047   EE           MOV     A,R6
   \   000048   2404         ADD     A,#0x4
   \   00004A   FA           MOV     R2,A
   \   00004B   E4           CLR     A
   \   00004C   3F           ADDC    A,R7
   \   00004D   FB           MOV     R3,A
   \   00004E   12....       LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   000051   7403         MOV     A,#0x3
   \   000053   12....       LCALL   ?DEALLOC_XSTACK8
   1293                  rptmac->datalen = 8;
   \   000056   EE           MOV     A,R6
   \   000057   2408         ADD     A,#0x8
   \   000059   F5..         MOV     ?V0,A
   \   00005B   E4           CLR     A
   \   00005C   3F           ADDC    A,R7
   \   00005D   F5..         MOV     ?V1,A
   \   00005F   85..82       MOV     DPL,?V0
   \   000062   F583         MOV     DPH,A
   \   000064   7408         MOV     A,#0x8
   \   000066   F0           MOVX    @DPTR,A
   1294          
   1295          	 rptmac->data = (uint8 *)(rptmac + 1);
   \   000067   EE           MOV     A,R6
   \   000068   2409         ADD     A,#0x9
   \   00006A   F5..         MOV     ?V2,A
   \   00006C   E4           CLR     A
   \   00006D   3F           ADDC    A,R7
   \   00006E   F5..         MOV     ?V3,A
   \   000070   EE           MOV     A,R6
   \   000071   240C         ADD     A,#0xc
   \   000073   F8           MOV     R0,A
   \   000074   E4           CLR     A
   \   000075   3F           ADDC    A,R7
   \   000076   F9           MOV     R1,A
   \   000077   85..82       MOV     DPL,?V2
   \   00007A   85..83       MOV     DPH,?V3
   \   00007D   12....       LCALL   ?Subroutine14 & 0xFFFF
   1296          	 osal_memcpy(&rptmac->data, &addr64.addr.extAddr, 8);
   \                     ??CrossCallReturnLabel_15:
   \   000080                ; Setup parameters for call to function osal_memcpy
   \   000080   742A         MOV     A,#0x2a
   \   000082   12....       LCALL   ?XSTACK_DISP100_8
   \   000085   88..         MOV     ?V4,R0
   \   000087   89..         MOV     ?V5,R1
   \   000089   75..00       MOV     ?V6,#0x0
   \   00008C   78..         MOV     R0,#?V4
   \   00008E   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000091   7C08         MOV     R4,#0x8
   \   000093   7D00         MOV     R5,#0x0
   \   000095   AA..         MOV     R2,?V2
   \   000097   AB..         MOV     R3,?V3
   \   000099   12....       LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   00009C   7403         MOV     A,#0x3
   \   00009E   12....       LCALL   ?DEALLOC_XSTACK8
   1297          	 fcs = MT_UartCalcFCS((uint8 *)rptmac, rptmac->datalen + PKT_HEAD_LEN); 
   \   0000A1                ; Setup parameters for call to function MT_UartCalcFCS
   \   0000A1   85..82       MOV     DPL,?V0
   \   0000A4   85..83       MOV     DPH,?V1
   \   0000A7   E0           MOVX    A,@DPTR
   \   0000A8   2409         ADD     A,#0x9
   \   0000AA   F9           MOV     R1,A
   \   0000AB   EE           MOV     A,R6
   \   0000AC   FA           MOV     R2,A
   \   0000AD   EF           MOV     A,R7
   \   0000AE   FB           MOV     R3,A
   \   0000AF   12....       LCALL   `??MT_UartCalcFCS::?relay`; Banked call to: MT_UartCalcFCS
   \   0000B2   E9           MOV     A,R1
   \   0000B3   F5..         MOV     ?V7,A
   1298             
   1299                  msg[0] = MT_CPT_SOP;
   \   0000B5   7401         MOV     A,#0x1
   \   0000B7   12....       LCALL   ?XSTACK_DISP0_8
   \   0000BA   74FE         MOV     A,#-0x2
   \   0000BC   12....       LCALL   ?Subroutine7 & 0xFFFF
   1300                  msg[1] = rptmac->datalen + PKT_HEAD_LEN + 1 ;  //rptmac17 + fcs1 
   \                     ??CrossCallReturnLabel_2:
   \   0000BF   240A         ADD     A,#0xa
   \   0000C1   C0E0         PUSH    A
   \   0000C3   7402         MOV     A,#0x2
   \   0000C5   12....       LCALL   ?XSTACK_DISP0_8
   \   0000C8   D0E0         POP     A
   \   0000CA   F0           MOVX    @DPTR,A
   1301                  msg[2] = MT_NODE_REG_IND & 0xff;
   \   0000CB   7403         MOV     A,#0x3
   \   0000CD   12....       LCALL   ?XSTACK_DISP0_8
   \   0000D0   7480         MOV     A,#-0x80
   \   0000D2   F0           MOVX    @DPTR,A
   1302                  msg[3] = (MT_NODE_REG_IND & 0xff00) >> 8;
   \   0000D3   7404         MOV     A,#0x4
   \   0000D5   12....       LCALL   ?XSTACK_DISP0_8
   \   0000D8   7418         MOV     A,#0x18
   \   0000DA   F0           MOVX    @DPTR,A
   1303          
   1304                  osal_memcpy(&msg[4], (uint8 *)rptmac, PKT_HEAD_LEN);
   \   0000DB                ; Setup parameters for call to function osal_memcpy
   \   0000DB   8E..         MOV     ?V4,R6
   \   0000DD   8F..         MOV     ?V5,R7
   \   0000DF   78..         MOV     R0,#?V4
   \   0000E1   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0000E4   7C09         MOV     R4,#0x9
   \   0000E6   7D00         MOV     R5,#0x0
   \   0000E8   7408         MOV     A,#0x8
   \   0000EA   12....       LCALL   ?XSTACK_DISP0_8
   \   0000ED   AA82         MOV     R2,DPL
   \   0000EF   AB83         MOV     R3,DPH
   \   0000F1   12....       LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   0000F4   7403         MOV     A,#0x3
   \   0000F6   12....       LCALL   ?DEALLOC_XSTACK8
   1305                  osal_memcpy(&msg[4 + PKT_HEAD_LEN], &rptmac->data, rptmac->datalen);
   \   0000F9                ; Setup parameters for call to function osal_memcpy
   \   0000F9   85....       MOV     ?V4,?V2
   \   0000FC   85....       MOV     ?V5,?V3
   \   0000FF   78..         MOV     R0,#?V4
   \   000101   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000104   85..82       MOV     DPL,?V0
   \   000107   85..83       MOV     DPH,?V1
   \   00010A   E0           MOVX    A,@DPTR
   \   00010B   FC           MOV     R4,A
   \   00010C   7D00         MOV     R5,#0x0
   \   00010E   7411         MOV     A,#0x11
   \   000110   12....       LCALL   ?XSTACK_DISP0_8
   \   000113   AA82         MOV     R2,DPL
   \   000115   AB83         MOV     R3,DPH
   \   000117   12....       LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   00011A   7403         MOV     A,#0x3
   \   00011C   12....       LCALL   ?DEALLOC_XSTACK8
   1306                  msg[4 + rptmac->datalen + PKT_HEAD_LEN] = fcs;
   \   00011F   85..82       MOV     DPL,?V0
   \   000122   85..83       MOV     DPH,?V1
   \   000125   E0           MOVX    A,@DPTR
   \   000126   F8           MOV     R0,A
   \   000127   7401         MOV     A,#0x1
   \   000129   12....       LCALL   ?XSTACK_DISP0_8
   \   00012C   E582         MOV     A,DPL
   \   00012E   28           ADD     A,R0
   \   00012F   F8           MOV     R0,A
   \   000130   E4           CLR     A
   \   000131   3583         ADDC    A,DPH
   \   000133   F9           MOV     R1,A
   \   000134   E8           MOV     A,R0
   \   000135   240D         ADD     A,#0xd
   \   000137   F582         MOV     DPL,A
   \   000139   E4           CLR     A
   \   00013A   39           ADDC    A,R1
   \   00013B   F583         MOV     DPH,A
   \   00013D   E5..         MOV     A,?V7
   \   00013F   12....       LCALL   ?Subroutine7 & 0xFFFF
   1307          
   1308          #ifdef OPEN_FCS 			
   1309          	 msg[4 + rptmac->datalen + PKT_HEAD_LEN + 1] = MT_UartCalcFCS(&msg[1], rptmac->datalen + PKT_HEAD_LEN + 1 + 3); //rptmac17 + fcs1 + cmd2 + len1
   \                     ??CrossCallReturnLabel_3:
   \   000142   240D         ADD     A,#0xd
   \   000144   F9           MOV     R1,A
   \   000145   7402         MOV     A,#0x2
   \   000147   12....       LCALL   ?XSTACK_DISP0_8
   \   00014A   AA82         MOV     R2,DPL
   \   00014C   AB83         MOV     R3,DPH
   \   00014E   12....       LCALL   `??MT_UartCalcFCS::?relay`; Banked call to: MT_UartCalcFCS
   \   000151   E9           MOV     A,R1
   \   000152   85..82       MOV     DPL,?XSP + 0
   \   000155   85..83       MOV     DPH,?XSP + 1
   \   000158   F0           MOVX    @DPTR,A
   \   000159   C0E0         PUSH    A
   \   00015B   85..82       MOV     DPL,?V0
   \   00015E   85..83       MOV     DPH,?V1
   \   000161   E0           MOVX    A,@DPTR
   \   000162   F8           MOV     R0,A
   \   000163   7401         MOV     A,#0x1
   \   000165   12....       LCALL   ?XSTACK_DISP0_8
   \   000168   E582         MOV     A,DPL
   \   00016A   28           ADD     A,R0
   \   00016B   F8           MOV     R0,A
   \   00016C   E4           CLR     A
   \   00016D   3583         ADDC    A,DPH
   \   00016F   F9           MOV     R1,A
   \   000170   12....       LCALL   ?Subroutine41 & 0xFFFF
   \                     ??CrossCallReturnLabel_71:
   \   000173   D0E0         POP     A
   \   000175   12....       LCALL   ?Subroutine7 & 0xFFFF
   1310          #else  
   1311                  msg[4 + rptmac->datalen + PKT_HEAD_LEN + 1] = DEFAULTFCS;
   1312          #endif
   1313                  HalUARTWrite( 0, msg, rptmac->datalen + PKT_HEAD_LEN + 1 + 3 + 2 ); //0xfe+fcs  2B
   \                     ??CrossCallReturnLabel_4:
   \   000178   240F         ADD     A,#0xf
   \   00017A   FC           MOV     R4,A
   \   00017B   E4           CLR     A
   \   00017C   3400         ADDC    A,#0x0
   \   00017E   FD           MOV     R5,A
   \   00017F   7401         MOV     A,#0x1
   \   000181   12....       LCALL   ?XSTACK_DISP101_8
   \   000184   7900         MOV     R1,#0x0
   \   000186   12....       LCALL   `??HalUARTWrite::?relay`; Banked call to: HalUARTWrite
   1314          	 osal_msg_deallocate((uint8 *) rptmac );
   \   000189                ; Setup parameters for call to function osal_msg_deallocate
   \   000189   EE           MOV     A,R6
   \   00018A   FA           MOV     R2,A
   \   00018B   EF           MOV     A,R7
   \   00018C   FB           MOV     R3,A
   \   00018D   12....       LCALL   `??osal_msg_deallocate::?relay`; Banked call to: osal_msg_deallocate
   1315          	 
   1316              }
   1317          
   1318          }
   \                     ??CustomApp_node_register_ind_0:
   \   000190   741A         MOV     A,#0x1a
   \   000192   12....       LCALL   ?DEALLOC_XSTACK8
   \   000195   7F08         MOV     R7,#0x8
   \   000197   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine7:
   \   000000   F0           MOVX    @DPTR,A
   \   000001                ; Setup parameters for call to function MT_UartCalcFCS
   \   000001                ; Setup parameters for call to function HalUARTWrite
   \   000001   85..82       MOV     DPL,?V0
   \   000004   85..83       MOV     DPH,?V1
   \   000007   E0           MOVX    A,@DPTR
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine5:
   \   000000   12....       LCALL   ?Subroutine36 & 0xFFFF
   \                     ??CrossCallReturnLabel_58:
   \   000003   12....       LCALL   ?Subroutine37 & 0xFFFF
   \                     ??CrossCallReturnLabel_60:
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine36:
   \   000000   12....       LCALL   ?Subroutine43 & 0xFFFF
   \                     ??CrossCallReturnLabel_75:
   \   000003   A3           INC     DPTR
   \   000004   7401         MOV     A,#0x1
   \   000006   F0           MOVX    @DPTR,A
   \   000007   A3           INC     DPTR
   \   000008   E4           CLR     A
   \   000009   22           RET
   1319          
   1320          
   1321          #if 0
   1322          void CustomApp_node_deregister_ind(afAddrType_t addr64, afAddrType_t addr16)
   1323          {
   1324              uint8 msg[25];
   1325              transferpkt_t *rptmac;
   1326              uint8 fcs;
   1327          	
   1328              rptmac = (transferpkt_t *)osal_msg_allocate( sizeof (transferpkt_t) +  PKT_HEAD_LEN + 8 + 1); 
   1329              if (rptmac != NULL)
   1330              {
   1331                  rptmac->msgid = REPORT_RPTMAC_MSG; 
   1332                  rptmac->msgseq = 0x0001;
   1333                  rptmac->srcid = 0x0000;
   1334                  osal_memcpy(&rptmac->destid, &addr16.addr.shortAddr, 2);
   1335                  rptmac->datalen = 8;
   1336          
   1337          	 rptmac->data = (uint8 *)(rptmac + 1);
   1338          	 osal_memcpy(&rptmac->data, &addr64.addr.extAddr, 8);
   1339          	 fcs = MT_UartCalcFCS((uint8 *)rptmac, rptmac->datalen + PKT_HEAD_LEN); 
   1340             
   1341                  msg[0] = MT_CPT_SOP;
   1342                  msg[1] = rptmac->datalen + PKT_HEAD_LEN + 1 ;  //rptmac17 + fcs1 
   1343                  msg[2] = MT_NODE_DEREG_IND & 0xff;
   1344                  msg[3] = (MT_NODE_DEREG_IND & 0xff00) >> 8;
   1345          
   1346                  osal_memcpy(&msg[4], (uint8 *)rptmac, PKT_HEAD_LEN);
   1347                  osal_memcpy(&msg[4 + PKT_HEAD_LEN], &rptmac->data, rptmac->datalen);
   1348                  msg[4 + rptmac->datalen + PKT_HEAD_LEN] = fcs;
   1349          
   1350          #ifdef OPEN_FCS 			
   1351          	 msg[4 + rptmac->datalen + PKT_HEAD_LEN + 1] = MT_UartCalcFCS(&msg[1], rptmac->datalen + PKT_HEAD_LEN + 1 + 3); //rptmac17 + fcs1 + cmd2 + len1
   1352          #else  
   1353                  msg[4 + rptmac->datalen + PKT_HEAD_LEN + 1] = DEFAULTFCS;
   1354          #endif
   1355                  HalUARTWrite( 0, msg, rptmac->datalen + PKT_HEAD_LEN + 1 + 3 + 2 ); //0xfe+fcs  2B
   1356          	 osal_msg_deallocate((uint8 *) rptmac );
   1357          	 
   1358              }
   1359          
   1360          }
   1361          #else
   1362          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1363          void CustomApp_node_deregister_ind(afAddrType_t addr64, afAddrType_t addr16)
   \                     CustomApp_node_deregister_ind:
   1364          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000   74F5         MOV     A,#-0xb
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 11
   \   000005                ; Auto size: 13
   \   000005   74F3         MOV     A,#-0xd
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   1365                  uint8 msg[13];
   1366          		
   1367                  msg[0] = MT_CPT_SOP;
   \   00000A   85..82       MOV     DPL,?XSP + 0
   \   00000D   85..83       MOV     DPH,?XSP + 1
   \   000010   74FE         MOV     A,#-0x2
   \   000012   F0           MOVX    @DPTR,A
   1368                  msg[1] = Z_EXTADDR_LEN ;  
   \   000013   7401         MOV     A,#0x1
   \   000015   12....       LCALL   ?XSTACK_DISP0_8
   \   000018   7408         MOV     A,#0x8
   \   00001A   F0           MOVX    @DPTR,A
   1369                  msg[2] = MT_NODE_DEREG_IND & 0xff;
   \   00001B   7402         MOV     A,#0x2
   \   00001D   12....       LCALL   ?XSTACK_DISP0_8
   \   000020   7480         MOV     A,#-0x80
   \   000022   F0           MOVX    @DPTR,A
   1370                  msg[3] = (MT_NODE_DEREG_IND & 0xff00) >> 8;
   \   000023   7403         MOV     A,#0x3
   \   000025   12....       LCALL   ?XSTACK_DISP0_8
   \   000028   7419         MOV     A,#0x19
   \   00002A   F0           MOVX    @DPTR,A
   1371          		
   1372                  osal_memcpy(&msg[4], &addr64.addr.extAddr, Z_EXTADDR_LEN);
   \   00002B                ; Setup parameters for call to function osal_memcpy
   \   00002B   14           DEC     A
   \   00002C   12....       LCALL   ?XSTACK_DISP100_8
   \   00002F   88..         MOV     ?V0,R0
   \   000031   89..         MOV     ?V1,R1
   \   000033   75..00       MOV     ?V2,#0x0
   \   000036   78..         MOV     R0,#?V0
   \   000038   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00003B   7C08         MOV     R4,#0x8
   \   00003D   7D00         MOV     R5,#0x0
   \   00003F   7407         MOV     A,#0x7
   \   000041   12....       LCALL   ?XSTACK_DISP0_8
   \   000044   AA82         MOV     R2,DPL
   \   000046   AB83         MOV     R3,DPH
   \   000048   12....       LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   00004B   7403         MOV     A,#0x3
   \   00004D   12....       LCALL   ?DEALLOC_XSTACK8
   1373          	 msg[4 + Z_EXTADDR_LEN] = MT_UartCalcFCS( &msg[1], MT_UART_HEAD_LEN + Z_EXTADDR_LEN );
   \   000050                ; Setup parameters for call to function MT_UartCalcFCS
   \   000050   790B         MOV     R1,#0xb
   \   000052   7401         MOV     A,#0x1
   \   000054   12....       LCALL   ?XSTACK_DISP0_8
   \   000057   AA82         MOV     R2,DPL
   \   000059   AB83         MOV     R3,DPH
   \   00005B   12....       LCALL   `??MT_UartCalcFCS::?relay`; Banked call to: MT_UartCalcFCS
   \   00005E   740C         MOV     A,#0xc
   \   000060   12....       LCALL   ?XSTACK_DISP0_8
   \   000063   12....       LCALL   ?Subroutine9 & 0xFFFF
   1374          
   1375                  HalUARTWrite( 0, msg, MT_UART_HEAD_LEN + Z_EXTADDR_LEN + 2 );
   \                     ??CrossCallReturnLabel_8:
   \   000066   12....       LCALL   `??HalUARTWrite::?relay`; Banked call to: HalUARTWrite
   1376          }
   \   000069   740D         MOV     A,#0xd
   \   00006B   12....       LCALL   ?DEALLOC_XSTACK8
   \   00006E   7F03         MOV     R7,#0x3
   \   000070   02....       LJMP    ?BANKED_LEAVE_XDATA
   1377          
   1378          #endif
   1379          
   1380          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   1381          uint8 cnt=0;
   \                     cnt:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1382          void CustomApp_send_ping_req ( void )  
   \                     CustomApp_send_ping_req:
   1383          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000   74F2         MOV     A,#-0xe
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 14
   \   000005                ; Auto size: 2
   \   000005   74FE         MOV     A,#-0x2
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   1384              uint16 parentShortAddr;
   1385              uint8 len=sizeof(pingpkt_t);
   1386          
   1387          #if 0 // chaokw debug
   1388              uint8 send_buf[13];	
   1389              uint32 timestamp;
   1390          #endif //================	
   1391          
   1392              pingpkt_t *pkt = (pingpkt_t *)osal_msg_allocate( sizeof(pingpkt_t) );	
   \   00000A                ; Setup parameters for call to function osal_msg_allocate
   \   00000A   7A21         MOV     R2,#0x21
   \   00000C   7B00         MOV     R3,#0x0
   \   00000E   12....       LCALL   `??osal_msg_allocate::?relay`; Banked call to: osal_msg_allocate
   \   000011   8A..         MOV     ?V4,R2
   \   000013   8B..         MOV     ?V5,R3
   1393              osal_memset(pkt, 0, sizeof(pingpkt_t));
   \   000015                ; Setup parameters for call to function osal_memset
   \   000015   7C21         MOV     R4,#0x21
   \   000017   7D00         MOV     R5,#0x0
   \   000019   7900         MOV     R1,#0x0
   \   00001B   12....       LCALL   `??osal_memset::?relay`; Banked call to: osal_memset
   1394          		
   1395              if(pkt != NULL)
   \   00001E   E5..         MOV     A,?V4
   \   000020   45..         ORL     A,?V5
   \   000022   7003         JNZ     $+5
   \   000024   02....       LJMP    ??CustomApp_send_ping_req_0 & 0xFFFF
   1396              {
   1397          		pkt->msgid = PING_REQ_MSG;
   \   000027   85..82       MOV     DPL,?V4
   \   00002A   85..83       MOV     DPH,?V5
   \   00002D   743A         MOV     A,#0x3a
   \   00002F   F0           MOVX    @DPTR,A
   \   000030   A3           INC     DPTR
   \   000031   7410         MOV     A,#0x10
   \   000033   F0           MOVX    @DPTR,A
   1398          		pkt->devAddr16.addr.shortAddr = NLME_GetShortAddr();
   \   000034                ; Setup parameters for call to function NLME_GetShortAddr
   \   000034   12....       LCALL   `??NLME_GetShortAddr::?relay`; Banked call to: NLME_GetShortAddr
   \   000037   E5..         MOV     A,?V4
   \   000039   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_77:
   \   00003C   35..         ADDC    A,?V5
   \   00003E   F583         MOV     DPH,A
   \   000040   12....       LCALL   ??Subroutine55_0 & 0xFFFF
   1399          		osal_memcpy(&pkt->devAddr64.addr.extAddr, NLME_GetExtAddr(), Z_EXTADDR_LEN);
   \                     ??CrossCallReturnLabel_105:
   \   000043                ; Setup parameters for call to function NLME_GetExtAddr
   \   000043   12....       LCALL   `??NLME_GetExtAddr::?relay`; Banked call to: NLME_GetExtAddr
   \   000046   8A..         MOV     ?V0,R2
   \   000048   8B..         MOV     ?V1,R3
   \   00004A                ; Setup parameters for call to function osal_memcpy
   \   00004A   75..00       MOV     ?V2,#0x0
   \   00004D   78..         MOV     R0,#?V0
   \   00004F   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000052   7C08         MOV     R4,#0x8
   \   000054   7D00         MOV     R5,#0x0
   \   000056   E5..         MOV     A,?V4
   \   000058   2402         ADD     A,#0x2
   \   00005A   FA           MOV     R2,A
   \   00005B   E4           CLR     A
   \   00005C   35..         ADDC    A,?V5
   \   00005E   FB           MOV     R3,A
   \   00005F   12....       LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   000062   7403         MOV     A,#0x3
   \   000064   12....       LCALL   ?DEALLOC_XSTACK8
   1400          		pkt->timestamp = osal_getClock();
   \   000067                ; Setup parameters for call to function osal_getClock
   \   000067   12....       LCALL   `??osal_getClock::?relay`; Banked call to: osal_getClock
   \   00006A   EA           MOV     A,R2
   \   00006B   F8           MOV     R0,A
   \   00006C   EB           MOV     A,R3
   \   00006D   F9           MOV     R1,A
   \   00006E   EC           MOV     A,R4
   \   00006F   FA           MOV     R2,A
   \   000070   ED           MOV     A,R5
   \   000071   FB           MOV     R3,A
   \   000072   E5..         MOV     A,?V4
   \   000074   12....       LCALL   ?Subroutine39 & 0xFFFF
   \                     ??CrossCallReturnLabel_64:
   \   000077   35..         ADDC    A,?V5
   \   000079   F583         MOV     DPH,A
   \   00007B   12....       LCALL   ?XSTORE_R0123
   1401          
   1402          		osal_memcpy(&parentShortAddr, &_NIB.nwkCoordAddress, sizeof(uint16));
   \   00007E                ; Setup parameters for call to function osal_memcpy
   \   00007E   75....       MOV     ?V0,#(_NIB + 23) & 0xff
   \   000081   75....       MOV     ?V1,#((_NIB + 23) >> 8) & 0xff
   \   000084   78..         MOV     R0,#?V0
   \   000086   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000089   7C02         MOV     R4,#0x2
   \   00008B   7D00         MOV     R5,#0x0
   \   00008D   7403         MOV     A,#0x3
   \   00008F   12....       LCALL   ?XSTACK_DISP101_8
   \   000092   12....       LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   000095   7403         MOV     A,#0x3
   \   000097   12....       LCALL   ?DEALLOC_XSTACK8
   1403          		pkt->parentaddr = parentShortAddr;
   \   00009A   85..82       MOV     DPL,?XSP + 0
   \   00009D   85..83       MOV     DPH,?XSP + 1
   \   0000A0   12....       LCALL   ?Subroutine24 & 0xFFFF
   \                     ??CrossCallReturnLabel_33:
   \   0000A3   E5..         MOV     A,?V4
   \   0000A5   12....       LCALL   ??Subroutine56_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_111:
   \   0000A8   35..         ADDC    A,?V5
   \   0000AA   F583         MOV     DPH,A
   \   0000AC   12....       LCALL   ?Subroutine14 & 0xFFFF
   1404          
   1405          		cnt++;
   \                     ??CrossCallReturnLabel_16:
   \   0000AF   90....       MOV     DPTR,#cnt
   \   0000B2   E0           MOVX    A,@DPTR
   \   0000B3   04           INC     A
   \   0000B4   F0           MOVX    @DPTR,A
   1406                        pkt->seqnum = cnt;
   \   0000B5   C0E0         PUSH    A
   \   0000B7   12....       LCALL   ?Subroutine32 & 0xFFFF
   \                     ??CrossCallReturnLabel_49:
   \   0000BA   D0E0         POP     A
   \   0000BC   F0           MOVX    @DPTR,A
   1407                        if(cnt>254) cnt=2;  //chaokw
   \   0000BD   90....       MOV     DPTR,#cnt
   \   0000C0   E0           MOVX    A,@DPTR
   \   0000C1   F4           CPL     A
   \   0000C2   7003         JNZ     ??CustomApp_send_ping_req_1
   \   0000C4   7402         MOV     A,#0x2
   \   0000C6   F0           MOVX    @DPTR,A
   1408                 
   1409          		if (afStatus_SUCCESS == AF_DataRequest( &SerialApp_TxAddr_p2p, &GenericApp_epDesc,
   1410                                 GENERICAPP_CMD_P2P_CLUSTERID,
   1411                                 len,   
   1412                                 (byte *)pkt,  
   1413                                 &GenericApp_TransID,
   1414                                 AF_DISCV_ROUTE, AF_DEFAULT_RADIUS ))   //AF_ACK_REQUEST
   \                     ??CustomApp_send_ping_req_1:
   \   0000C7                ; Setup parameters for call to function AF_DataRequest
   \   0000C7   75..1E       MOV     ?V0,#0x1e
   \   0000CA   78..         MOV     R0,#?V0
   \   0000CC   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0000CF   75....       MOV     ?V0,#GenericApp_TransID & 0xff
   \   0000D2   75....       MOV     ?V1,#(GenericApp_TransID >> 8) & 0xff
   \   0000D5   78..         MOV     R0,#?V0
   \   0000D7   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000DA   78..         MOV     R0,#?V4
   \   0000DC   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000DF   75..21       MOV     ?V0,#0x21
   \   0000E2   75..00       MOV     ?V1,#0x0
   \   0000E5   78..         MOV     R0,#?V0
   \   0000E7   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000EA   75..04       MOV     ?V0,#0x4
   \   0000ED   78..         MOV     R0,#?V0
   \   0000EF   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000F2   7900         MOV     R1,#0x0
   \   0000F4   7C..         MOV     R4,#GenericApp_epDesc & 0xff
   \   0000F6   7D..         MOV     R5,#(GenericApp_epDesc >> 8) & 0xff
   \   0000F8   7A..         MOV     R2,#SerialApp_TxAddr_p2p & 0xff
   \   0000FA   7B..         MOV     R3,#(SerialApp_TxAddr_p2p >> 8) & 0xff
   \   0000FC   12....       LCALL   `??AF_DataRequest::?relay`; Banked call to: AF_DataRequest
   \   0000FF   7409         MOV     A,#0x9
   \   000101   12....       LCALL   ?DEALLOC_XSTACK8
   \   000104   E9           MOV     A,R1
   \   000105   701D         JNZ     ??CustomApp_send_ping_req_2
   1415                        {
   1416          #if defined( LCD_SUPPORTED )              
   1417                            HalLcdWriteStringValue( (char*)"pingreqSend", pkt->seqnum, 10, HAL_LCD_LINE_3);
   \   000107                ; Setup parameters for call to function HalLcdWriteStringValue
   \   000107   75..05       MOV     ?V0,#0x5
   \   00010A   78..         MOV     R0,#?V0
   \   00010C   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00010F   790A         MOV     R1,#0xa
   \   000111   12....       LCALL   ?Subroutine32 & 0xFFFF
   1418          #endif
   1419                        }
   \                     ??CrossCallReturnLabel_50:
   \   000114   E0           MOVX    A,@DPTR
   \   000115   FC           MOV     R4,A
   \   000116   7D00         MOV     R5,#0x0
   \   000118   7A..         MOV     R2,#`?<Constant "pingreqSend">` & 0xff
   \   00011A   7B..         MOV     R3,#(`?<Constant "pingreqSend">` >> 8) & 0xff
   \   00011C   12....       LCALL   `??HalLcdWriteStringValue::?relay`; Banked call to: HalLcdWriteStringValue
   \   00011F   7401         MOV     A,#0x1
   \   000121   12....       LCALL   ?DEALLOC_XSTACK8
   1420          
   1421          	       osal_msg_deallocate( (uint8 *)pkt );
   \                     ??CustomApp_send_ping_req_2:
   \   000124                ; Setup parameters for call to function osal_msg_deallocate
   \   000124   AA..         MOV     R2,?V4
   \   000126   AB..         MOV     R3,?V5
   \   000128   12....       LCALL   `??osal_msg_deallocate::?relay`; Banked call to: osal_msg_deallocate
   1422          
   1423              }
   1424          
   1425          
   1426          #if 0   //chaokw  debug =================================================           
   1427          	send_buf[0] = 0xFE;
   1428          	send_buf[1 + MT_RPC_POS_LEN] = 0x08;
   1429          	send_buf[1 + MT_RPC_POS_CMD0] = 0x0080 & 0xff;
   1430          	send_buf[1 + MT_RPC_POS_CMD1] = (0x0080 >> 8) & 0xff;
   1431          	
   1432          	osal_memcpy( &send_buf[1 + MT_RPC_POS_DAT0], &pingRspTime, 4 );
   1433          
   1434          	timestamp = osal_getClock();
   1435          	osal_memcpy( &send_buf[1 + MT_RPC_POS_DAT0 + 4], &timestamp, 4 );
   1436          
   1437          
   1438          	send_buf[1 + MT_RPC_POS_DAT0 + SADDR_EXT_LEN] =
   1439          	  MT_UartCalcFCS( &send_buf[1 + MT_RPC_POS_LEN], MT_UART_HEAD_LEN + SADDR_EXT_LEN );
   1440          
   1441          	HalUARTWrite( 0, send_buf, MT_UART_HEAD_LEN + SADDR_EXT_LEN + 2 );
   1442          #endif //======================================================	
   1443          	
   1444              return;
   \                     ??CustomApp_send_ping_req_0:
   \   00012B   7402         MOV     A,#0x2
   \   00012D   12....       LCALL   ?DEALLOC_XSTACK8
   \   000130   7F06         MOV     R7,#0x6
   \   000132   02....       LJMP    ?BANKED_LEAVE_XDATA
   1445          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine32:
   \   000000   E5..         MOV     A,?V4
   \   000002   12....       LCALL   ?Subroutine40 & 0xFFFF
   \                     ??CrossCallReturnLabel_69:
   \   000005   35..         ADDC    A,?V5
   \   000007   F583         MOV     DPH,A
   \   000009   22           RET
   1446          
   1447          
   1448          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine3:
   \   000000   7402         MOV     A,#0x2
   \   000002   12....       LCALL   ?DEALLOC_XSTACK8
   \   000005                REQUIRE ??Subroutine51_0
   \   000005                ; // Fall through to label ??Subroutine51_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1449          void CustomApp_send_ping_rsp ( uint16 Addr16 )  
   \                     CustomApp_send_ping_rsp:
   1450          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 2
   \   000005   74FE         MOV     A,#-0x2
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   1451              uint16 msgid = PING_RSP_MSG;;
   \   00000A   85..82       MOV     DPL,?XSP + 0
   \   00000D   85..83       MOV     DPH,?XSP + 1
   \   000010   743B         MOV     A,#0x3b
   \   000012   F0           MOVX    @DPTR,A
   \   000013   A3           INC     DPTR
   \   000014   7410         MOV     A,#0x10
   \   000016   F0           MOVX    @DPTR,A
   1452          
   1453              SerialApp_TxAddr_p2p.addr.shortAddr = Addr16;
   \   000017   90....       MOV     DPTR,#SerialApp_TxAddr_p2p
   \   00001A   12....       LCALL   ??Subroutine55_0 & 0xFFFF
   1454              if (afStatus_SUCCESS == AF_DataRequest( &SerialApp_TxAddr_p2p, &GenericApp_epDesc,
   1455                             GENERICAPP_CMD_P2P_CLUSTERID,
   1456                             2,   
   1457                             (byte *)&msgid,  
   1458                             &GenericApp_TransID,
   1459                             AF_DISCV_ROUTE, AF_DEFAULT_RADIUS ))
   \                     ??CrossCallReturnLabel_106:
   \   00001D                ; Setup parameters for call to function AF_DataRequest
   \   00001D   75..1E       MOV     ?V0,#0x1e
   \   000020   78..         MOV     R0,#?V0
   \   000022   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000025   75....       MOV     ?V0,#GenericApp_TransID & 0xff
   \   000028   75....       MOV     ?V1,#(GenericApp_TransID >> 8) & 0xff
   \   00002B   78..         MOV     R0,#?V0
   \   00002D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000030   7403         MOV     A,#0x3
   \   000032   12....       LCALL   ?XSTACK_DISP100_8
   \   000035   88..         MOV     ?V0,R0
   \   000037   89..         MOV     ?V1,R1
   \   000039   78..         MOV     R0,#?V0
   \   00003B   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00003E   75..02       MOV     ?V0,#0x2
   \   000041   75..00       MOV     ?V1,#0x0
   \   000044   78..         MOV     R0,#?V0
   \   000046   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000049   75..04       MOV     ?V0,#0x4
   \   00004C   78..         MOV     R0,#?V0
   \   00004E   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000051   7900         MOV     R1,#0x0
   \   000053   7C..         MOV     R4,#GenericApp_epDesc & 0xff
   \   000055   7D..         MOV     R5,#(GenericApp_epDesc >> 8) & 0xff
   \   000057   7A..         MOV     R2,#SerialApp_TxAddr_p2p & 0xff
   \   000059   7B..         MOV     R3,#(SerialApp_TxAddr_p2p >> 8) & 0xff
   \   00005B   12....       LCALL   `??AF_DataRequest::?relay`; Banked call to: AF_DataRequest
   \   00005E   7409         MOV     A,#0x9
   \   000060   12....       LCALL   ?DEALLOC_XSTACK8
   \   000063   E9           MOV     A,R1
   \   000064   701A         JNZ     ??CustomApp_send_ping_rsp_0
   1460              {
   1461          #if defined( LCD_SUPPORTED )              
   1462               HalLcdWriteStringValue( (char*)"pingrspSend", 1, 10, HAL_LCD_LINE_3);
   \   000066                ; Setup parameters for call to function HalLcdWriteStringValue
   \   000066   75..05       MOV     ?V0,#0x5
   \   000069   78..         MOV     R0,#?V0
   \   00006B   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00006E   790A         MOV     R1,#0xa
   \   000070   7C01         MOV     R4,#0x1
   \   000072   7D00         MOV     R5,#0x0
   \   000074   7A..         MOV     R2,#`?<Constant "pingrspSend">` & 0xff
   \   000076   7B..         MOV     R3,#(`?<Constant "pingrspSend">` >> 8) & 0xff
   \   000078   12....       LCALL   `??HalLcdWriteStringValue::?relay`; Banked call to: HalLcdWriteStringValue
   \   00007B   7401         MOV     A,#0x1
   \   00007D   12....       LCALL   ?DEALLOC_XSTACK8
   1463          #endif
   1464              }
   1465              return;
   \                     ??CustomApp_send_ping_rsp_0:
   \   000080   02....       LJMP    ?Subroutine3 & 0xFFFF
   1466          }
   1467          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1468          void CustomApp_coordinater_broadcast_ping( void )  //chaokw ping
   \                     CustomApp_coordinater_broadcast_ping:
   1469          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 2
   \   000005   74FE         MOV     A,#-0x2
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   1470              uint16 msgid = PING_RSP_MSG;;
   \   00000A   85..82       MOV     DPL,?XSP + 0
   \   00000D   85..83       MOV     DPH,?XSP + 1
   \   000010   743B         MOV     A,#0x3b
   \   000012   F0           MOVX    @DPTR,A
   \   000013   A3           INC     DPTR
   \   000014   7410         MOV     A,#0x10
   \   000016   F0           MOVX    @DPTR,A
   1471          
   1472              SerialApp_TxAddr_broadcast.addr.shortAddr = 0xffff;
   \   000017   90....       MOV     DPTR,#SerialApp_TxAddr_broadcast
   \   00001A   74FF         MOV     A,#-0x1
   \   00001C   F0           MOVX    @DPTR,A
   \   00001D   A3           INC     DPTR
   \   00001E   F0           MOVX    @DPTR,A
   1473              if (afStatus_SUCCESS == AF_DataRequest( &SerialApp_TxAddr_broadcast, &GenericApp_epDesc,
   1474                             GENERICAPP_CMD_P2P_CLUSTERID,
   1475                             2,   
   1476                             (byte *)&msgid,  
   1477                             &GenericApp_TransID,
   1478                             AF_DISCV_ROUTE, AF_DEFAULT_RADIUS ))
   \   00001F                ; Setup parameters for call to function AF_DataRequest
   \   00001F   75..1E       MOV     ?V0,#0x1e
   \   000022   78..         MOV     R0,#?V0
   \   000024   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000027   75....       MOV     ?V0,#GenericApp_TransID & 0xff
   \   00002A   75....       MOV     ?V1,#(GenericApp_TransID >> 8) & 0xff
   \   00002D   78..         MOV     R0,#?V0
   \   00002F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000032   7403         MOV     A,#0x3
   \   000034   12....       LCALL   ?XSTACK_DISP100_8
   \   000037   88..         MOV     ?V0,R0
   \   000039   89..         MOV     ?V1,R1
   \   00003B   78..         MOV     R0,#?V0
   \   00003D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000040   75..02       MOV     ?V0,#0x2
   \   000043   75..00       MOV     ?V1,#0x0
   \   000046   78..         MOV     R0,#?V0
   \   000048   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00004B   75..04       MOV     ?V0,#0x4
   \   00004E   78..         MOV     R0,#?V0
   \   000050   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000053   7900         MOV     R1,#0x0
   \   000055   7C..         MOV     R4,#GenericApp_epDesc & 0xff
   \   000057   7D..         MOV     R5,#(GenericApp_epDesc >> 8) & 0xff
   \   000059   7A..         MOV     R2,#SerialApp_TxAddr_broadcast & 0xff
   \   00005B   7B..         MOV     R3,#(SerialApp_TxAddr_broadcast >> 8) & 0xff
   \   00005D   12....       LCALL   `??AF_DataRequest::?relay`; Banked call to: AF_DataRequest
   \   000060   7409         MOV     A,#0x9
   \   000062   12....       LCALL   ?DEALLOC_XSTACK8
   \   000065   E9           MOV     A,R1
   \   000066   701A         JNZ     ??CustomApp_coordinater_broadcast_ping_0
   1479              {
   1480          #if defined( LCD_SUPPORTED )              
   1481               HalLcdWriteStringValue( (char*)"broadcast ping", 1, 10, HAL_LCD_LINE_3);
   \   000068                ; Setup parameters for call to function HalLcdWriteStringValue
   \   000068   75..05       MOV     ?V0,#0x5
   \   00006B   78..         MOV     R0,#?V0
   \   00006D   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000070   790A         MOV     R1,#0xa
   \   000072   7C01         MOV     R4,#0x1
   \   000074   7D00         MOV     R5,#0x0
   \   000076   7A..         MOV     R2,#`?<Constant "broadcast ping">` & 0xff
   \   000078   7B..         MOV     R3,#(`?<Constant "broadcast ping">` >> 8) & 0xff
   \   00007A   12....       LCALL   `??HalLcdWriteStringValue::?relay`; Banked call to: HalLcdWriteStringValue
   \   00007D   7401         MOV     A,#0x1
   \   00007F   12....       LCALL   ?DEALLOC_XSTACK8
   1482          #endif
   1483              }
   1484              return;
   \                     ??CustomApp_coordinater_broadcast_ping_0:
   \   000082   02....       LJMP    ?Subroutine3 & 0xFFFF
   1485          
   1486          }
   1487          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine15:
   \   000000   EE           MOV     A,R6
   \   000001   240E         ADD     A,#0xe
   \   000003                REQUIRE ??Subroutine48_0
   \   000003                ; // Fall through to label ??Subroutine48_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1488          void CustomApp_linkstatus_updated ( void )
   \                     CustomApp_linkstatus_updated:
   1489          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 0
   1490              nodeList_t *nodeSearch = NULL;
   1491              uint8 status;
   1492          //#if defined( LCD_SUPPORTED )    	
   1493              uint8 activeCount;
   1494          //#endif
   1495          	
   1496              for (nodeSearch = nodeList; nodeSearch != NULL; nodeSearch = nodeSearch->nextDesc)
   \   000005   90....       MOV     DPTR,#nodeList
   \   000008   12....       LCALL   ?Subroutine23 & 0xFFFF
   \                     ??CrossCallReturnLabel_27:
   \   00000B   8020         SJMP    ??CustomApp_linkstatus_updated_0
   1497              {
   1498                  if (nodeSearch->status == nodedisconnected)
   1499                  {
   1500                      //node delete
   1501          	     status = CustomApp_NodeDelete( nodeSearch->devAddr16.addr.shortAddr );
   1502                      if(nodeStatus_SUCCESS == status)
   1503                      {
   1504                            CustomApp_node_deregister_ind(nodeSearch->devAddr64, nodeSearch->devAddr16);
   1505                            //CustomApp_router_offline_req ( nodeSearch->devAddr16 );		//chaokw ping
   1506          #if defined( LCD_SUPPORTED )				  
   1507                            HalLcdWriteStringValue( (char*)"nodedelete OK:", status, 16, HAL_LCD_LINE_3 );
   1508          #endif
   1509                      }
   1510                      else
   1511                      {
   1512          #if defined( LCD_SUPPORTED )            
   1513                            HalLcdWriteStringValue( (char*)"nodedelete NOK:", status, 16, HAL_LCD_LINE_3 );
   1514          #endif
   1515                      }
   1516                      break;
   1517                  }
   1518                  else if (nodeSearch->status == nodeconnected)
   1519                  {		
   1520                       if(nodeSearch->timestamp == nodeSearch->oldtimestamp)
   1521                       {
   1522                           nodeSearch->timeoutcnt ++;
   1523          	          if(nodeSearch->timeoutcnt < TIMEOUT_CNT)
   1524                           {
   1525                                   break;
   1526                           }
   1527                           nodeSearch->timeoutcnt = 0;
   \                     ??CustomApp_linkstatus_updated_1:
   \   00000D   E4           CLR     A
   \   00000E   F0           MOVX    @DPTR,A
   1528                           nodeSearch->status = nodedisconnected;
   \   00000F   EE           MOV     A,R6
   \   000010   12....       LCALL   ??Subroutine56_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_112:
   \   000013   3F           ADDC    A,R7
   \   000014   F583         MOV     DPH,A
   \   000016   7401         MOV     A,#0x1
   \   000018   F0           MOVX    @DPTR,A
   1529                       }
   1530                  }
   1531                  nodeSearch->oldtimestamp = nodeSearch->timestamp;		
   \                     ??CustomApp_linkstatus_updated_2:
   \   000019   12....       LCALL   ?Subroutine30 & 0xFFFF
   \                     ??CrossCallReturnLabel_44:
   \   00001C   12....       LCALL   ?XLOAD_R0123
   \   00001F   12....       LCALL   ?Subroutine33 & 0xFFFF
   \                     ??CrossCallReturnLabel_51:
   \   000022   12....       LCALL   ?XSTORE_R0123
   \   000025   8E82         MOV     DPL,R6
   \   000027   8F83         MOV     DPH,R7
   \   000029   E0           MOVX    A,@DPTR
   \   00002A   FE           MOV     R6,A
   \   00002B   A3           INC     DPTR
   \   00002C   E0           MOVX    A,@DPTR
   \                     ??CustomApp_linkstatus_updated_0:
   \   00002D   FF           MOV     R7,A
   \   00002E   EE           MOV     A,R6
   \   00002F   4F           ORL     A,R7
   \   000030   7003         JNZ     $+5
   \   000032   02....       LJMP    ??CustomApp_linkstatus_updated_3 & 0xFFFF
   \   000035   EE           MOV     A,R6
   \   000036   241A         ADD     A,#0x1a
   \   000038   12....       LCALL   ??Subroutine57_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_116:
   \   00003B   6401         XRL     A,#0x1
   \   00003D   7051         JNZ     ??CustomApp_linkstatus_updated_4
   \   00003F                ; Setup parameters for call to function CustomApp_NodeDelete
   \   00003F   12....       LCALL   ?Subroutine15 & 0xFFFF
   \                     ??CrossCallReturnLabel_100:
   \   000042   12....       LCALL   `??CustomApp_NodeDelete::?relay`; Banked call to: CustomApp_NodeDelete
   \   000045   E9           MOV     A,R1
   \   000046   FC           MOV     R4,A
   \   000047   702D         JNZ     ??CustomApp_linkstatus_updated_5
   \   000049                ; Setup parameters for call to function CustomApp_node_deregister_ind
   \   000049   12....       LCALL   ?Subroutine28 & 0xFFFF
   \                     ??CrossCallReturnLabel_39:
   \   00004C   12....       LCALL   ?PUSH_XSTACK8_X
   \   00004F   8E82         MOV     DPL,R6
   \   000051   8F83         MOV     DPH,R7
   \   000053   A3           INC     DPTR
   \   000054   A3           INC     DPTR
   \   000055   740C         MOV     A,#0xc
   \   000057   12....       LCALL   ?PUSH_XSTACK8_X
   \   00005A   12....       LCALL   `??CustomApp_node_deregister_ind::?relay`; Banked call to: CustomApp_node_deregister_ind
   \   00005D   7418         MOV     A,#0x18
   \   00005F   12....       LCALL   ?DEALLOC_XSTACK8
   \   000062                ; Setup parameters for call to function HalLcdWriteStringValue
   \   000062   75..05       MOV     ?V0,#0x5
   \   000065   78..         MOV     R0,#?V0
   \   000067   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00006A   7910         MOV     R1,#0x10
   \   00006C   7C00         MOV     R4,#0x0
   \   00006E   7D00         MOV     R5,#0x0
   \   000070   7A..         MOV     R2,#`?<Constant "nodedelete OK:">` & 0xff
   \   000072   7B..         MOV     R3,#(`?<Constant "nodedelete OK:">` >> 8) & 0xff
   \   000074   8010         SJMP    ??CustomApp_linkstatus_updated_6
   \                     ??CustomApp_linkstatus_updated_5:
   \   000076                ; Setup parameters for call to function HalLcdWriteStringValue
   \   000076   75..05       MOV     ?V0,#0x5
   \   000079   78..         MOV     R0,#?V0
   \   00007B   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00007E   7910         MOV     R1,#0x10
   \   000080   7D00         MOV     R5,#0x0
   \   000082   7A..         MOV     R2,#`?<Constant "nodedelete NOK:">` & 0xff
   \   000084   7B..         MOV     R3,#(`?<Constant "nodedelete NOK:">` >> 8) & 0xff
   \                     ??CustomApp_linkstatus_updated_6:
   \   000086   12....       LCALL   `??HalLcdWriteStringValue::?relay`; Banked call to: HalLcdWriteStringValue
   \   000089   7401         MOV     A,#0x1
   \   00008B   12....       LCALL   ?DEALLOC_XSTACK8
   \   00008E   802A         SJMP    ??CustomApp_linkstatus_updated_3
   \                     ??CustomApp_linkstatus_updated_4:
   \   000090   E0           MOVX    A,@DPTR
   \   000091   6402         XRL     A,#0x2
   \   000093   7084         JNZ     ??CustomApp_linkstatus_updated_2
   \   000095   12....       LCALL   ?Subroutine33 & 0xFFFF
   \                     ??CrossCallReturnLabel_52:
   \   000098   78..         MOV     R0,#?V0
   \   00009A   12....       LCALL   ?L_MOV_X
   \   00009D   12....       LCALL   ?Subroutine30 & 0xFFFF
   \                     ??CrossCallReturnLabel_45:
   \   0000A0   78..         MOV     R0,#?V0
   \   0000A2   12....       LCALL   ?L_EQ_X
   \   0000A5   6003         JZ      $+5
   \   0000A7   02....       LJMP    ??CustomApp_linkstatus_updated_2 & 0xFFFF
   \   0000AA   EE           MOV     A,R6
   \   0000AB   2424         ADD     A,#0x24
   \   0000AD   12....       LCALL   ??Subroutine57_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_117:
   \   0000B0   04           INC     A
   \   0000B1   F0           MOVX    @DPTR,A
   \   0000B2   C3           CLR     C
   \   0000B3   9404         SUBB    A,#0x4
   \   0000B5   4003         JC      $+5
   \   0000B7   02....       LJMP    ??CustomApp_linkstatus_updated_1 & 0xFFFF
   1532              }
   1533          
   1534              activeCount = CustomApp_get_connected_node_count();
   \                     ??CustomApp_linkstatus_updated_3:
   \   0000BA                ; Setup parameters for call to function CustomApp_get_connected_node_count
   \   0000BA   12....       LCALL   `??CustomApp_get_connected_node_count::?relay`; Banked call to: CustomApp_get_connected_node_count
   \   0000BD   E9           MOV     A,R1
   \   0000BE   FE           MOV     R6,A
   1535          #if defined( LCD_SUPPORTED )    	
   1536              HalLcdWriteStringValue( (char*)"connected:", activeCount, 10, HAL_LCD_LINE_1 );
   \   0000BF                ; Setup parameters for call to function HalLcdWriteStringValue
   \   0000BF   75..01       MOV     ?V0,#0x1
   \   0000C2   78..         MOV     R0,#?V0
   \   0000C4   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0000C7   790A         MOV     R1,#0xa
   \   0000C9   EE           MOV     A,R6
   \   0000CA   FC           MOV     R4,A
   \   0000CB   7D00         MOV     R5,#0x0
   \   0000CD   7A..         MOV     R2,#`?<Constant "connected:">` & 0xff
   \   0000CF   7B..         MOV     R3,#(`?<Constant "connected:">` >> 8) & 0xff
   \   0000D1   12....       LCALL   `??HalLcdWriteStringValue::?relay`; Banked call to: HalLcdWriteStringValue
   \   0000D4   7401         MOV     A,#0x1
   \   0000D6   12....       LCALL   ?DEALLOC_XSTACK8
   1537          #endif
   1538          
   1539          
   1540          #if 1
   1541              //exception: panid conflict 
   1542              if(activeCount > Authlist_item_cnt())
   \   0000D9                ; Setup parameters for call to function Authlist_item_cnt
   \   0000D9   12....       LCALL   `??Authlist_item_cnt::?relay`; Banked call to: Authlist_item_cnt
   \   0000DC   E9           MOV     A,R1
   \   0000DD   C3           CLR     C
   \   0000DE   9E           SUBB    A,R6
   \   0000DF   5003         JNC     ??CustomApp_linkstatus_updated_7
   1543                  Onboard_soft_reset();
   \   0000E1                ; Setup parameters for call to function Onboard_soft_reset
   \   0000E1   12....       LCALL   Onboard_soft_reset & 0xFFFF
   1544          #endif
   1545          
   1546          
   1547              return;
   \                     ??CustomApp_linkstatus_updated_7:
   \   0000E4   02....       LJMP    ??Subroutine54_0 & 0xFFFF
   1548          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine33:
   \   000000   EE           MOV     A,R6
   \   000001   12....       LCALL   ?Subroutine40 & 0xFFFF
   \                     ??CrossCallReturnLabel_70:
   \   000004   3F           ADDC    A,R7
   \   000005   F583         MOV     DPH,A
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine30:
   \   000000   EE           MOV     A,R6
   \   000001   12....       LCALL   ?Subroutine39 & 0xFFFF
   \                     ??CrossCallReturnLabel_65:
   \   000004   3F           ADDC    A,R7
   \   000005   F583         MOV     DPH,A
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine28:
   \   000000   EE           MOV     A,R6
   \   000001   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_78:
   \   000004   3F           ADDC    A,R7
   \   000005   F583         MOV     DPH,A
   \   000007   740C         MOV     A,#0xc
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine23:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F8           MOV     R0,A
   \   000002   A3           INC     DPTR
   \   000003   E0           MOVX    A,@DPTR
   \   000004   F9           MOV     R1,A
   \   000005   E8           MOV     A,R0
   \   000006   FE           MOV     R6,A
   \   000007   E9           MOV     A,R1
   \   000008   22           RET
   1549          
   1550          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1551          void  CustomApp_process_ping( pingpkt_t *pkt )
   \                     CustomApp_process_ping:
   1552          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000   74F3         MOV     A,#-0xd
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 13
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FE           MOV     R6,A
   \   000007   EB           MOV     A,R3
   \   000008   FF           MOV     R7,A
   1553                  nodeList_t *nodeSearch;
   1554          	 nodeList_t *pnode;
   1555                  nodeSearch = CustomApp_NodeFindNwkAddrList(pkt->devAddr16.addr.shortAddr);
   \   000009                ; Setup parameters for call to function CustomApp_NodeFindNwkAddrList
   \   000009   12....       LCALL   ?Subroutine15 & 0xFFFF
   \                     ??CrossCallReturnLabel_101:
   \   00000C   12....       LCALL   `??CustomApp_NodeFindNwkAddrList::?relay`; Banked call to: CustomApp_NodeFindNwkAddrList
   \   00000F   8A..         MOV     ?V0,R2
   \   000011   8B..         MOV     ?V1,R3
   1556                  if (nodeSearch!=NULL)
   \   000013   EA           MOV     A,R2
   \   000014   45..         ORL     A,?V1
   \   000016   6045         JZ      ??CustomApp_process_ping_0
   1557                  {
   1558                     if(nodeSearch->status == nodeconnected)
   \   000018   12....       LCALL   ?Subroutine42 & 0xFFFF
   \                     ??CrossCallReturnLabel_113:
   \   00001B   35..         ADDC    A,?V1
   \   00001D   F583         MOV     DPH,A
   \   00001F   E0           MOVX    A,@DPTR
   \   000020   6402         XRL     A,#0x2
   \   000022   6003         JZ      $+5
   \   000024   02....       LJMP    ??CustomApp_process_ping_1 & 0xFFFF
   1559                     {
   1560          		   nodeSearch->timestamp = pkt->timestamp;
   \   000027   12....       LCALL   ?Subroutine30 & 0xFFFF
   \                     ??CrossCallReturnLabel_46:
   \   00002A   12....       LCALL   ?XLOAD_R0123
   \   00002D   12....       LCALL   ?Subroutine31 & 0xFFFF
   \                     ??CrossCallReturnLabel_47:
   \   000030   12....       LCALL   ?XSTORE_R0123
   1561          		   if (pkt->seqnum <= 2)
   \   000033   EE           MOV     A,R6
   \   000034   2420         ADD     A,#0x20
   \   000036   12....       LCALL   ??Subroutine57_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_118:
   \   000039   C3           CLR     C
   \   00003A   9403         SUBB    A,#0x3
   \   00003C   4003         JC      $+5
   \   00003E   02....       LJMP    ??CustomApp_process_ping_1 & 0xFFFF
   1562          		   CustomApp_node_register_ind(pkt->devAddr64, pkt->devAddr16);
   \   000041                ; Setup parameters for call to function CustomApp_node_register_ind
   \   000041   12....       LCALL   ?Subroutine28 & 0xFFFF
   1563                     }
   1564                  }
   \                     ??CrossCallReturnLabel_40:
   \   000044   12....       LCALL   ?PUSH_XSTACK8_X
   \   000047   8E82         MOV     DPL,R6
   \   000049   8F83         MOV     DPH,R7
   \   00004B   A3           INC     DPTR
   \   00004C   A3           INC     DPTR
   \   00004D   740C         MOV     A,#0xc
   \   00004F   12....       LCALL   ?PUSH_XSTACK8_X
   \   000052   12....       LCALL   `??CustomApp_node_register_ind::?relay`; Banked call to: CustomApp_node_register_ind
   \   000055   7418         MOV     A,#0x18
   \   000057   12....       LCALL   ?DEALLOC_XSTACK8
   \   00005A   02....       LJMP    ??CustomApp_process_ping_1 & 0xFFFF
   1565          	 else
   1566          	 {
   1567                      pnode=CustomApp_NodeRegister(pkt->devAddr64, pkt->devAddr16);
   1568                      if(pnode!=NULL)
   \                     ??CustomApp_process_ping_0:
   \   00005D                ; Setup parameters for call to function CustomApp_NodeRegister
   \   00005D   12....       LCALL   ?Subroutine28 & 0xFFFF
   \                     ??CrossCallReturnLabel_41:
   \   000060   12....       LCALL   ?PUSH_XSTACK8_X
   \   000063   8E82         MOV     DPL,R6
   \   000065   8F83         MOV     DPH,R7
   \   000067   A3           INC     DPTR
   \   000068   A3           INC     DPTR
   \   000069   740C         MOV     A,#0xc
   \   00006B   12....       LCALL   ?PUSH_XSTACK8_X
   \   00006E   12....       LCALL   `??CustomApp_NodeRegister::?relay`; Banked call to: CustomApp_NodeRegister
   \   000071   7418         MOV     A,#0x18
   \   000073   12....       LCALL   ?DEALLOC_XSTACK8
   \   000076   8B..         MOV     ?V3,R3
   \   000078   EA           MOV     A,R2
   \   000079   45..         ORL     A,?V3
   \   00007B   6068         JZ      ??CustomApp_process_ping_1
   1569                      {
   1570                           CustomApp_node_register_ind(pkt->devAddr64, pkt->devAddr16);	//0x18
   \   00007D   EE           MOV     A,R6
   \   00007E   240E         ADD     A,#0xe
   \   000080   F8           MOV     R0,A
   \   000081   E4           CLR     A
   \   000082   3F           ADDC    A,R7
   \   000083   F9           MOV     R1,A
   \   000084   88..         MOV     ?V2,R0
   \   000086   89..         MOV     ?V3,R1
   \   000088                ; Setup parameters for call to function CustomApp_node_register_ind
   \   000088   8882         MOV     DPL,R0
   \   00008A   F583         MOV     DPH,A
   \   00008C   740C         MOV     A,#0xc
   \   00008E   12....       LCALL   ?PUSH_XSTACK8_X
   \   000091   8E82         MOV     DPL,R6
   \   000093   8F83         MOV     DPH,R7
   \   000095   A3           INC     DPTR
   \   000096   A3           INC     DPTR
   \   000097   740C         MOV     A,#0xc
   \   000099   12....       LCALL   ?PUSH_XSTACK8_X
   \   00009C   12....       LCALL   `??CustomApp_node_register_ind::?relay`; Banked call to: CustomApp_node_register_ind
   \   00009F   7418         MOV     A,#0x18
   \   0000A1   12....       LCALL   ?DEALLOC_XSTACK8
   1571                           CustomApp_router_online_req(pkt->devAddr16);
   \   0000A4                ; Setup parameters for call to function CustomApp_router_online_req
   \   0000A4   85..82       MOV     DPL,?V2
   \   0000A7   85..83       MOV     DPH,?V3
   \   0000AA   740C         MOV     A,#0xc
   \   0000AC   12....       LCALL   ?PUSH_XSTACK8_X
   \   0000AF   12....       LCALL   `??CustomApp_router_online_req::?relay`; Banked call to: CustomApp_router_online_req
   \   0000B2   740C         MOV     A,#0xc
   \   0000B4   12....       LCALL   ?DEALLOC_XSTACK8
   1572          #if 0				 
   1573                           osal_start_timerEx( GenericApp_TaskID,
   1574          					GENERICAPP_ROUTER_ONLINE_EVT,
   1575          					5000); 		
   1576          #endif
   1577                           CustomApp_router_online_req(pkt->devAddr16);
   \   0000B7                ; Setup parameters for call to function CustomApp_router_online_req
   \   0000B7   85..82       MOV     DPL,?V2
   \   0000BA   85..83       MOV     DPH,?V3
   \   0000BD   740C         MOV     A,#0xc
   \   0000BF   12....       LCALL   ?PUSH_XSTACK8_X
   \   0000C2   12....       LCALL   `??CustomApp_router_online_req::?relay`; Banked call to: CustomApp_router_online_req
   \   0000C5   740C         MOV     A,#0xc
   \   0000C7   12....       LCALL   ?DEALLOC_XSTACK8
   1578          #if defined( LCD_SUPPORTED )
   1579                           HalLcdWriteStringValue( (char*)"nodregOK:", pkt->devAddr16.addr.shortAddr, 16, HAL_LCD_LINE_2 );  
   \   0000CA                ; Setup parameters for call to function HalLcdWriteStringValue
   \   0000CA   75..03       MOV     ?V4,#0x3
   \   0000CD   78..         MOV     R0,#?V4
   \   0000CF   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0000D2   7910         MOV     R1,#0x10
   \   0000D4   85..82       MOV     DPL,?V2
   \   0000D7   85..83       MOV     DPH,?V3
   \   0000DA   12....       LCALL   ?Subroutine19 & 0xFFFF
   1580          #endif
   1581                      }	  
   1582          	 }
   \                     ??CrossCallReturnLabel_22:
   \   0000DD   12....       LCALL   `??HalLcdWriteStringValue::?relay`; Banked call to: HalLcdWriteStringValue
   \   0000E0   7401         MOV     A,#0x1
   \   0000E2   12....       LCALL   ?DEALLOC_XSTACK8
   1583          	 nodeSearch->oldtimestamp = nodeSearch->timestamp;  //chaokw ping
   \                     ??CustomApp_process_ping_1:
   \   0000E5   12....       LCALL   ?Subroutine31 & 0xFFFF
   \                     ??CrossCallReturnLabel_48:
   \   0000E8   12....       LCALL   ?XLOAD_R0123
   \   0000EB   E5..         MOV     A,?V0
   \   0000ED   12....       LCALL   ?Subroutine40 & 0xFFFF
   \                     ??CrossCallReturnLabel_68:
   \   0000F0   35..         ADDC    A,?V1
   \   0000F2   F583         MOV     DPH,A
   \   0000F4   12....       LCALL   ?XSTORE_R0123
   1584          	 CustomApp_send_ping_rsp(pkt->devAddr16.addr.shortAddr);  //chaokw ping
   \   0000F7                ; Setup parameters for call to function CustomApp_send_ping_rsp
   \   0000F7   12....       LCALL   ?Subroutine15 & 0xFFFF
   \                     ??CrossCallReturnLabel_102:
   \   0000FA   12....       LCALL   `??CustomApp_send_ping_rsp::?relay`; Banked call to: CustomApp_send_ping_rsp
   1585          	 
   1586          }
   \   0000FD   7F05         MOV     R7,#0x5
   \   0000FF   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine31:
   \   000000   E5..         MOV     A,?V0
   \   000002   12....       LCALL   ?Subroutine39 & 0xFFFF
   \                     ??CrossCallReturnLabel_66:
   \   000005   35..         ADDC    A,?V1
   \   000007   F583         MOV     DPH,A
   \   000009   22           RET
   1587          
   1588          
   1589          #if( ZSTACK_DEVICE_BUILD != DEVICE_BUILD_COORDINATOR)	
   1590          void CustomApp_ping_timeout_check ( void )
   1591          {
   1592              uint32 timestamp = osal_getClock();
   1593          #if 0	
   1594          #if defined( LCD_SUPPORTED )
   1595              HalLcdWriteStringValue( (char*)"ping timeout:", (timestamp - pingRspTime), 16, HAL_LCD_LINE_3 );  
   1596          #endif	
   1597          #endif
   1598              if ( abs(timestamp - pingRspTime) >= 60 ) 
   1599                  Onboard_soft_reset();	
   1600          }
   1601          #endif
   1602          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1603          uint8 CustomApp_get_connected_node_count( void )
   \                     CustomApp_get_connected_node_count:
   1604          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
   1605          	uint8 activeCount = 0;
   \   000004   7900         MOV     R1,#0x0
   1606          	nodeList_t *nodeSearch;
   1607          
   1608                 for (nodeSearch = nodeList; (nodeSearch != NULL); nodeSearch = nodeSearch->nextDesc)
   \   000006   90....       MOV     DPTR,#nodeList
   \   000009   800D         SJMP    ??CustomApp_get_connected_node_count_0
   1609                 {
   1610                  if (nodeSearch->status == nodeconnected)
   \                     ??CustomApp_get_connected_node_count_1:
   \   00000B   12....       LCALL   ?Subroutine34 & 0xFFFF
   \                     ??CrossCallReturnLabel_54:
   \   00000E   E0           MOVX    A,@DPTR
   \   00000F   6402         XRL     A,#0x2
   \   000011   7001         JNZ     ??CustomApp_get_connected_node_count_2
   1611                  {
   1612                      activeCount ++;
   \   000013   09           INC     R1
   1613                  }
   1614                 }
   \                     ??CustomApp_get_connected_node_count_2:
   \   000014   8A82         MOV     DPL,R2
   \   000016   8B83         MOV     DPH,R3
   \                     ??CustomApp_get_connected_node_count_0:
   \   000018   12....       LCALL   ??Subroutine50_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_96:
   \   00001B   EA           MOV     A,R2
   \   00001C   4B           ORL     A,R3
   \   00001D   70EC         JNZ     ??CustomApp_get_connected_node_count_1
   1615                 return activeCount;
   \   00001F   02....       LJMP    ??Subroutine53_0 & 0xFFFF
   1616          }
   1617          
   1618          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine10:
   \   000000   8E82         MOV     DPL,R6
   \   000002   8F83         MOV     DPH,R7
   \   000004   A3           INC     DPTR
   \   000005   A3           INC     DPTR
   \   000006   A3           INC     DPTR
   \   000007   A3           INC     DPTR
   \   000008   A3           INC     DPTR
   \   000009   A3           INC     DPTR
   \   00000A                REQUIRE ??Subroutine55_0
   \   00000A                ; // Fall through to label ??Subroutine55_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1619          bool GenericApp_Device_JoinRsp(afIncomingMSGPacket_t *pkt)
   \                     GenericApp_Device_JoinRsp:
   1620          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V8
   \   000000                REQUIRE ?V9
   \   000000                REQUIRE ?V10
   \   000000   74ED         MOV     A,#-0x13
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 19
   \   000005                ; Auto size: 108
   \   000005   7494         MOV     A,#-0x6c
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   1621          	transferpkt_t *protocol_pack;
   1622          	uint16 clusterid;
   1623          	uint8 buf[100];
   1624          	bool ret = FALSE;
   \   00000A   75..00       MOV     ?V0,#0x0
   1625          	uint8 extaddr[SADDR_EXT_LEN] = {0};
   \   00000D   90....       MOV     DPTR,#`?<Constant {0, 0, 0, 0, 0, 0, 0, 0}>`
   \   000010   AC..         MOV     R4,?XSP + 0
   \   000012   AD..         MOV     R5,?XSP + 1
   \   000014   7408         MOV     A,#0x8
   \   000016   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
   1626          
   1627          	osal_memcpy(extaddr, pkt->cmd.Data + PKT_HEAD_LEN , SADDR_EXT_LEN);
   \   000019   EA           MOV     A,R2
   \   00001A   2422         ADD     A,#0x22
   \   00001C   F8           MOV     R0,A
   \   00001D   E4           CLR     A
   \   00001E   3B           ADDC    A,R3
   \   00001F   F9           MOV     R1,A
   \   000020   88..         MOV     ?V2,R0
   \   000022   89..         MOV     ?V3,R1
   \   000024                ; Setup parameters for call to function osal_memcpy
   \   000024   8882         MOV     DPL,R0
   \   000026   F583         MOV     DPH,A
   \   000028   E0           MOVX    A,@DPTR
   \   000029   2409         ADD     A,#0x9
   \   00002B   F5..         MOV     ?V4,A
   \   00002D   A3           INC     DPTR
   \   00002E   E0           MOVX    A,@DPTR
   \   00002F   3400         ADDC    A,#0x0
   \   000031   F5..         MOV     ?V5,A
   \   000033   75..00       MOV     ?V6,#0x0
   \   000036   78..         MOV     R0,#?V4
   \   000038   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00003B   7C08         MOV     R4,#0x8
   \   00003D   7D00         MOV     R5,#0x0
   \   00003F   7403         MOV     A,#0x3
   \   000041   12....       LCALL   ?XSTACK_DISP101_8
   \   000044   12....       LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   000047   7403         MOV     A,#0x3
   \   000049   12....       LCALL   ?DEALLOC_XSTACK8
   1628          
   1629          	protocol_pack = (transferpkt_t *)osal_msg_allocate( sizeof( transferpkt_t ) + SADDR_EXT_LEN + 1);
   \   00004C                ; Setup parameters for call to function osal_msg_allocate
   \   00004C   7A15         MOV     R2,#0x15
   \   00004E   7B00         MOV     R3,#0x0
   \   000050   12....       LCALL   `??osal_msg_allocate::?relay`; Banked call to: osal_msg_allocate
   \   000053   8A..         MOV     ?V4,R2
   \   000055   8B..         MOV     ?V5,R3
   \   000057   AE..         MOV     R6,?V4
   \   000059   AF..         MOV     R7,?V5
   1630          	protocol_pack->msgid = PROT_JOIN_RSP_MSG;
   \   00005B   8E82         MOV     DPL,R6
   \   00005D   8F83         MOV     DPH,R7
   \   00005F   744B         MOV     A,#0x4b
   \   000061   F0           MOVX    @DPTR,A
   \   000062   A3           INC     DPTR
   \   000063   7430         MOV     A,#0x30
   \   000065   12....       LCALL   ?Subroutine36 & 0xFFFF
   1631          	protocol_pack->msgseq = 0x0001;
   \                     ??CrossCallReturnLabel_57:
   \   000068   12....       LCALL   ??Subroutine60_0 & 0xFFFF
   1632          	protocol_pack->destid = (pkt->cmd.Data[7] << 8) | pkt->cmd.Data[6];
   \                     ??CrossCallReturnLabel_129:
   \   00006B   12....       LCALL   ?Subroutine18 & 0xFFFF
   \                     ??CrossCallReturnLabel_20:
   \   00006E   A3           INC     DPTR
   \   00006F   A3           INC     DPTR
   \   000070   A3           INC     DPTR
   \   000071   E0           MOVX    A,@DPTR
   \   000072   FB           MOV     R3,A
   \   000073   8882         MOV     DPL,R0
   \   000075   8983         MOV     DPH,R1
   \   000077   A3           INC     DPTR
   \   000078   A3           INC     DPTR
   \   000079   A3           INC     DPTR
   \   00007A   A3           INC     DPTR
   \   00007B   A3           INC     DPTR
   \   00007C   A3           INC     DPTR
   \   00007D   E0           MOVX    A,@DPTR
   \   00007E   F8           MOV     R0,A
   \   00007F   EB           MOV     A,R3
   \   000080   F9           MOV     R1,A
   \   000081   8E82         MOV     DPL,R6
   \   000083   8F83         MOV     DPH,R7
   \   000085   A3           INC     DPTR
   \   000086   A3           INC     DPTR
   \   000087   A3           INC     DPTR
   \   000088   A3           INC     DPTR
   \   000089   12....       LCALL   ?Subroutine14 & 0xFFFF
   1633          	protocol_pack->srcid = NLME_GetShortAddr();
   \                     ??CrossCallReturnLabel_17:
   \   00008C                ; Setup parameters for call to function NLME_GetShortAddr
   \   00008C   12....       LCALL   `??NLME_GetShortAddr::?relay`; Banked call to: NLME_GetShortAddr
   \   00008F   12....       LCALL   ?Subroutine10 & 0xFFFF
   1634          	protocol_pack->datalen = SADDR_EXT_LEN;
   \                     ??CrossCallReturnLabel_109:
   \   000092   8E82         MOV     DPL,R6
   \   000094   8F83         MOV     DPH,R7
   \   000096   A3           INC     DPTR
   \   000097   A3           INC     DPTR
   \   000098   A3           INC     DPTR
   \   000099   A3           INC     DPTR
   \   00009A   A3           INC     DPTR
   \   00009B   A3           INC     DPTR
   \   00009C   A3           INC     DPTR
   \   00009D   A3           INC     DPTR
   \   00009E   7408         MOV     A,#0x8
   \   0000A0   F0           MOVX    @DPTR,A
   1635          
   1636          	if (!Authlist_verify_device(0x0000, extaddr, 0, 0))
   \   0000A1                ; Setup parameters for call to function Authlist_verify_device
   \   0000A1   75..00       MOV     ?V1,#0x0
   \   0000A4   78..         MOV     R0,#?V1
   \   0000A6   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0000A9   7900         MOV     R1,#0x0
   \   0000AB   7401         MOV     A,#0x1
   \   0000AD   12....       LCALL   ?XSTACK_DISP102_8
   \   0000B0   7A00         MOV     R2,#0x0
   \   0000B2   7B00         MOV     R3,#0x0
   \   0000B4   12....       LCALL   `??Authlist_verify_device::?relay`; Banked call to: Authlist_verify_device
   \   0000B7   7401         MOV     A,#0x1
   \   0000B9   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000BC   E9           MOV     A,R1
   \   0000BD   700D         JNZ     ??GenericApp_Device_JoinRsp_0
   1637                    osal_memset(extaddr, 0, SADDR_EXT_LEN);
   \   0000BF                ; Setup parameters for call to function osal_memset
   \   0000BF   7C08         MOV     R4,#0x8
   \   0000C1   7D00         MOV     R5,#0x0
   \   0000C3   7900         MOV     R1,#0x0
   \   0000C5   AA..         MOV     R2,?XSP + 0
   \   0000C7   AB..         MOV     R3,?XSP + 1
   \   0000C9   12....       LCALL   `??osal_memset::?relay`; Banked call to: osal_memset
   1638          
   1639          	protocol_pack->data = (uint8 *)(protocol_pack + 1);
   \                     ??GenericApp_Device_JoinRsp_0:
   \   0000CC   12....       LCALL   ?Subroutine25 & 0xFFFF
   \                     ??CrossCallReturnLabel_34:
   \   0000CF   F5..         MOV     ?V4,A
   \   0000D1   E4           CLR     A
   \   0000D2   3F           ADDC    A,R7
   \   0000D3   F5..         MOV     ?V5,A
   \   0000D5   85..82       MOV     DPL,?V4
   \   0000D8   F583         MOV     DPH,A
   \   0000DA   12....       LCALL   ??Subroutine55_0 & 0xFFFF
   1640          	osal_memcpy(protocol_pack->data, extaddr, SADDR_EXT_LEN);
   \                     ??CrossCallReturnLabel_107:
   \   0000DD                ; Setup parameters for call to function osal_memcpy
   \   0000DD   A8..         MOV     R0,?XSP + 0
   \   0000DF   A9..         MOV     R1,?XSP + 1
   \   0000E1   88..         MOV     ?V8,R0
   \   0000E3   89..         MOV     ?V9,R1
   \   0000E5   75..00       MOV     ?V10,#0x0
   \   0000E8   78..         MOV     R0,#?V8
   \   0000EA   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0000ED   7C08         MOV     R4,#0x8
   \   0000EF   7D00         MOV     R5,#0x0
   \   0000F1   12....       LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   0000F4   7403         MOV     A,#0x3
   \   0000F6   12....       LCALL   ?DEALLOC_XSTACK8
   1641          	osal_memcpy( buf, (uint8 *)protocol_pack, PKT_HEAD_LEN );
   \   0000F9                ; Setup parameters for call to function osal_memcpy
   \   0000F9   8E..         MOV     ?V8,R6
   \   0000FB   8F..         MOV     ?V9,R7
   \   0000FD   78..         MOV     R0,#?V8
   \   0000FF   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000102   7C09         MOV     R4,#0x9
   \   000104   7D00         MOV     R5,#0x0
   \   000106   740B         MOV     A,#0xb
   \   000108   12....       LCALL   ?XSTACK_DISP101_8
   \   00010B   12....       LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   00010E   7403         MOV     A,#0x3
   \   000110   12....       LCALL   ?DEALLOC_XSTACK8
   1642          	osal_memcpy(&buf[PKT_HEAD_LEN], protocol_pack->data, protocol_pack->datalen);
   \   000113   12....       LCALL   ?Subroutine35 & 0xFFFF
   \                     ??CrossCallReturnLabel_55:
   \   000116                ; Setup parameters for call to function osal_memcpy
   \   000116   85..82       MOV     DPL,?V4
   \   000119   85..83       MOV     DPH,?V5
   \   00011C   12....       LCALL   ?Subroutine22 & 0xFFFF
   \                     ??CrossCallReturnLabel_25:
   \   00011F   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000122   85..82       MOV     DPL,?V2
   \   000125   85..83       MOV     DPH,?V3
   \   000128   E0           MOVX    A,@DPTR
   \   000129   FC           MOV     R4,A
   \   00012A   7D00         MOV     R5,#0x0
   \   00012C   7414         MOV     A,#0x14
   \   00012E   12....       LCALL   ?XSTACK_DISP0_8
   \   000131   AA82         MOV     R2,DPL
   \   000133   AB83         MOV     R3,DPH
   \   000135   12....       LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   000138   7403         MOV     A,#0x3
   \   00013A   12....       LCALL   ?DEALLOC_XSTACK8
   1643          	protocol_pack->fcs = MT_UartCalcFCS( buf, PKT_HEAD_LEN + protocol_pack->datalen );
   \   00013D                ; Setup parameters for call to function MT_UartCalcFCS
   \   00013D   85..82       MOV     DPL,?V2
   \   000140   85..83       MOV     DPH,?V3
   \   000143   E0           MOVX    A,@DPTR
   \   000144   2409         ADD     A,#0x9
   \   000146   F9           MOV     R1,A
   \   000147   7408         MOV     A,#0x8
   \   000149   12....       LCALL   ?XSTACK_DISP101_8
   \   00014C   12....       LCALL   `??MT_UartCalcFCS::?relay`; Banked call to: MT_UartCalcFCS
   \   00014F   12....       LCALL   ?Subroutine6 & 0xFFFF
   1644          	buf[PKT_HEAD_LEN + protocol_pack->datalen] = protocol_pack->fcs;
   \                     ??CrossCallReturnLabel_127:
   \   000152   7408         MOV     A,#0x8
   \   000154   12....       LCALL   ?XSTACK_DISP0_8
   \   000157   12....       LCALL   ?Subroutine29 & 0xFFFF
   \                     ??CrossCallReturnLabel_42:
   \   00015A   12....       LCALL   ?Subroutine11 & 0xFFFF
   1645          	clusterid = GENERICAPP_P2P_PERMIT_JOIN_RSP_CLUSTERID;
   1646          	SerialApp_TxAddr_p2p.addr.shortAddr = protocol_pack->destid;
   \                     ??CrossCallReturnLabel_10:
   \   00015D   F8           MOV     R0,A
   \   00015E   A3           INC     DPTR
   \   00015F   E0           MOVX    A,@DPTR
   \   000160   F9           MOV     R1,A
   \   000161   90....       MOV     DPTR,#SerialApp_TxAddr_p2p
   \   000164   12....       LCALL   ?Subroutine14 & 0xFFFF
   1647          
   1648          	if ( AF_DataRequest( &SerialApp_TxAddr_p2p, &GenericApp_epDesc,
   1649          						clusterid,
   1650          						PKT_HEAD_LEN + SADDR_EXT_LEN + 1,
   1651          						buf, //(uint8 *)protocol_pack,
   1652          						&GenericApp_TransID,
   1653          						AF_DISCV_ROUTE, AF_DEFAULT_RADIUS ) == afStatus_SUCCESS )
   \                     ??CrossCallReturnLabel_18:
   \   000167                ; Setup parameters for call to function AF_DataRequest
   \   000167   75..1E       MOV     ?V1,#0x1e
   \   00016A   78..         MOV     R0,#?V1
   \   00016C   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00016F   75....       MOV     ?V2,#GenericApp_TransID & 0xff
   \   000172   75....       MOV     ?V3,#(GenericApp_TransID >> 8) & 0xff
   \   000175   78..         MOV     R0,#?V2
   \   000177   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00017A   740B         MOV     A,#0xb
   \   00017C   12....       LCALL   ?XSTACK_DISP100_8
   \   00017F   88..         MOV     ?V2,R0
   \   000181   89..         MOV     ?V3,R1
   \   000183   78..         MOV     R0,#?V2
   \   000185   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000188   75..12       MOV     ?V2,#0x12
   \   00018B   75..00       MOV     ?V3,#0x0
   \   00018E   78..         MOV     R0,#?V2
   \   000190   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000193   75..07       MOV     ?V2,#0x7
   \   000196   78..         MOV     R0,#?V2
   \   000198   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00019B   7900         MOV     R1,#0x0
   \   00019D   7C..         MOV     R4,#GenericApp_epDesc & 0xff
   \   00019F   7D..         MOV     R5,#(GenericApp_epDesc >> 8) & 0xff
   \   0001A1   7A..         MOV     R2,#SerialApp_TxAddr_p2p & 0xff
   \   0001A3   7B..         MOV     R3,#(SerialApp_TxAddr_p2p >> 8) & 0xff
   \   0001A5   12....       LCALL   `??AF_DataRequest::?relay`; Banked call to: AF_DataRequest
   \   0001A8   7409         MOV     A,#0x9
   \   0001AA   12....       LCALL   ?DEALLOC_XSTACK8
   \   0001AD   E9           MOV     A,R1
   \   0001AE   7003         JNZ     ??GenericApp_Device_JoinRsp_1
   1654          	{
   1655          		ret = TRUE;
   \   0001B0   75..01       MOV     ?V0,#0x1
   1656          	}
   1657          	else
   1658          	{
   1659          		ret = FALSE;
   1660          	}
   1661          	osal_msg_deallocate( (uint8 *)protocol_pack );
   \                     ??GenericApp_Device_JoinRsp_1:
   \   0001B3                ; Setup parameters for call to function osal_msg_deallocate
   \   0001B3   EE           MOV     A,R6
   \   0001B4   FA           MOV     R2,A
   \   0001B5   EF           MOV     A,R7
   \   0001B6   FB           MOV     R3,A
   \   0001B7   12....       LCALL   `??osal_msg_deallocate::?relay`; Banked call to: osal_msg_deallocate
   1662          	return ret;
   \   0001BA   A9..         MOV     R1,?V0
   \   0001BC   746C         MOV     A,#0x6c
   \   0001BE   12....       LCALL   ?DEALLOC_XSTACK8
   \   0001C1   7F0B         MOV     R7,#0xb
   \   0001C3   02....       LJMP    ?BANKED_LEAVE_XDATA
   1663          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine35:
   \   000000   EE           MOV     A,R6
   \   000001   2408         ADD     A,#0x8
   \   000003   F5..         MOV     ?V2,A
   \   000005   E4           CLR     A
   \   000006   3F           ADDC    A,R7
   \   000007   F5..         MOV     ?V3,A
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine29:
   \   000000   E582         MOV     A,DPL
   \   000002   28           ADD     A,R0
   \   000003   F582         MOV     DPL,A
   \   000005   E4           CLR     A
   \   000006   3583         ADDC    A,DPH
   \   000008   F583         MOV     DPH,A
   \   00000A   A3           INC     DPTR
   \   00000B   A3           INC     DPTR
   \   00000C   A3           INC     DPTR
   \   00000D   A3           INC     DPTR
   \   00000E   A3           INC     DPTR
   \   00000F   A3           INC     DPTR
   \   000010   A3           INC     DPTR
   \   000011   A3           INC     DPTR
   \   000012   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine25:
   \   000000   EE           MOV     A,R6
   \   000001   240C         ADD     A,#0xc
   \   000003   FA           MOV     R2,A
   \   000004   E4           CLR     A
   \   000005   3F           ADDC    A,R7
   \   000006   FB           MOV     R3,A
   \   000007   EE           MOV     A,R6
   \   000008   2409         ADD     A,#0x9
   \   00000A   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine22:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F5..         MOV     ?V4,A
   \   000003   A3           INC     DPTR
   \   000004   E0           MOVX    A,@DPTR
   \   000005   F5..         MOV     ?V5,A
   \   000007   78..         MOV     R0,#?V4
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine6:
   \   000000   E9           MOV     A,R1
   \   000001   F8           MOV     R0,A
   \   000002   EE           MOV     A,R6
   \   000003   240B         ADD     A,#0xb
   \   000005   F582         MOV     DPL,A
   \   000007   E4           CLR     A
   \   000008   3F           ADDC    A,R7
   \   000009   F583         MOV     DPH,A
   \   00000B   E8           MOV     A,R0
   \   00000C                REQUIRE ??Subroutine60_0
   \   00000C                ; // Fall through to label ??Subroutine60_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine60_0:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   85..82       MOV     DPL,?V2
   \   000004   85..83       MOV     DPH,?V3
   \   000007   E0           MOVX    A,@DPTR
   \   000008   F8           MOV     R0,A
   \   000009   22           RET
   1664          
   1665          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1666          void GenericApp_Get_PermitJoin(afIncomingMSGPacket_t *pkt)
   \                     GenericApp_Get_PermitJoin:
   1667          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000   74F1         MOV     A,#-0xf
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 15
   \   000005                ; Auto size: 8
   \   000005   74F8         MOV     A,#-0x8
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   1668          	uint8 extaddr[SADDR_EXT_LEN];
   1669          	ZDO_Permit_Join_Device_t *tmp_join_device = NULL;
   1670          	ZDO_Permit_Join_Device_t *new_join_device = NULL;
   1671          	uint8 device_cnt = 0;
   1672          	static uint8 device_index = 0;
   1673          
   1674          	osal_memcpy(extaddr, pkt->cmd.Data + PKT_HEAD_LEN, SADDR_EXT_LEN);
   \   00000A                ; Setup parameters for call to function osal_memcpy
   \   00000A   EA           MOV     A,R2
   \   00000B   2422         ADD     A,#0x22
   \   00000D   F582         MOV     DPL,A
   \   00000F   E4           CLR     A
   \   000010   3B           ADDC    A,R3
   \   000011   F583         MOV     DPH,A
   \   000013   E0           MOVX    A,@DPTR
   \   000014   2409         ADD     A,#0x9
   \   000016   F5..         MOV     ?V0,A
   \   000018   A3           INC     DPTR
   \   000019   E0           MOVX    A,@DPTR
   \   00001A   3400         ADDC    A,#0x0
   \   00001C   F5..         MOV     ?V1,A
   \   00001E   75..00       MOV     ?V2,#0x0
   \   000021   78..         MOV     R0,#?V0
   \   000023   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000026   7C08         MOV     R4,#0x8
   \   000028   7D00         MOV     R5,#0x0
   \   00002A   7403         MOV     A,#0x3
   \   00002C   12....       LCALL   ?XSTACK_DISP101_8
   \   00002F   12....       LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   000032   7403         MOV     A,#0x3
   \   000034   12....       LCALL   ?DEALLOC_XSTACK8
   1675           
   1676          	tmp_join_device = zdo_join_device;
   \   000037   90....       MOV     DPTR,#zdo_join_device
   \   00003A   12....       LCALL   ?Subroutine23 & 0xFFFF
   \                     ??CrossCallReturnLabel_28:
   \   00003D   8010         SJMP    ??GenericApp_Get_PermitJoin_0
   1677          	while (tmp_join_device)
   1678          	{
   1679          		if (osal_memcmp(tmp_join_device->permit_device.extaddr, extaddr, SADDR_EXT_LEN))
   1680          		{
   1681          			return;
   1682          		}
   1683          		tmp_join_device = tmp_join_device->next;
   \                     ??GenericApp_Get_PermitJoin_1:
   \   00003F   8E82         MOV     DPL,R6
   \   000041   8F83         MOV     DPH,R7
   \   000043   A3           INC     DPTR
   \   000044   A3           INC     DPTR
   \   000045   A3           INC     DPTR
   \   000046   A3           INC     DPTR
   \   000047   A3           INC     DPTR
   \   000048   A3           INC     DPTR
   \   000049   A3           INC     DPTR
   \   00004A   A3           INC     DPTR
   \   00004B   E0           MOVX    A,@DPTR
   \   00004C   FE           MOV     R6,A
   \   00004D   A3           INC     DPTR
   \   00004E   E0           MOVX    A,@DPTR
   \                     ??GenericApp_Get_PermitJoin_0:
   \   00004F   FF           MOV     R7,A
   \   000050   EE           MOV     A,R6
   \   000051   4F           ORL     A,R7
   \   000052   6029         JZ      ??GenericApp_Get_PermitJoin_2
   \   000054                ; Setup parameters for call to function osal_memcmp
   \   000054   A8..         MOV     R0,?XSP + 0
   \   000056   A9..         MOV     R1,?XSP + 1
   \   000058   88..         MOV     ?V0,R0
   \   00005A   89..         MOV     ?V1,R1
   \   00005C   78..         MOV     R0,#?V0
   \   00005E   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000061   7C08         MOV     R4,#0x8
   \   000063   7D00         MOV     R5,#0x0
   \   000065   8E82         MOV     DPL,R6
   \   000067   8F83         MOV     DPH,R7
   \   000069   A982         MOV     R1,DPL
   \   00006B   AA83         MOV     R2,DPH
   \   00006D   7B00         MOV     R3,#0x0
   \   00006F   12....       LCALL   `??osal_memcmp::?relay`; Banked call to: osal_memcmp
   \   000072   7403         MOV     A,#0x3
   \   000074   12....       LCALL   ?DEALLOC_XSTACK8
   \   000077   E9           MOV     A,R1
   \   000078   60C5         JZ      ??GenericApp_Get_PermitJoin_1
   \   00007A   02....       LJMP    ??GenericApp_Get_PermitJoin_3 & 0xFFFF
   1684          	}
   1685          	// Calculate permit device count
   1686          	tmp_join_device = zdo_join_device;
   \                     ??GenericApp_Get_PermitJoin_2:
   \   00007D   90....       MOV     DPTR,#zdo_join_device
   \   000080   12....       LCALL   ??Subroutine59_0 & 0xFFFF
   1687          	if (tmp_join_device)
   \                     ??CrossCallReturnLabel_122:
   \   000083   EE           MOV     A,R6
   \   000084   4F           ORL     A,R7
   \   000085   6019         JZ      ??GenericApp_Get_PermitJoin_4
   1688          	{
   1689          		device_cnt = 1;
   \   000087   7A01         MOV     R2,#0x1
   \   000089   8004         SJMP    ??CrossCallReturnLabel_125
   1690          		while (tmp_join_device->next)
   1691          		{
   1692          			device_cnt++;
   \                     ??GenericApp_Get_PermitJoin_5:
   \   00008B   0A           INC     R2
   1693          			tmp_join_device = tmp_join_device->next;
   \   00008C   12....       LCALL   ?Subroutine17 & 0xFFFF
   1694          		}
   \                     ??CrossCallReturnLabel_125:
   \   00008F   8E82         MOV     DPL,R6
   \   000091   8F83         MOV     DPH,R7
   \   000093   A3           INC     DPTR
   \   000094   A3           INC     DPTR
   \   000095   12....       LCALL   ?Subroutine16 & 0xFFFF
   1695          	}
   \                     ??CrossCallReturnLabel_92:
   \   000098   70F1         JNZ     ??GenericApp_Get_PermitJoin_5
   1696          	if (device_cnt < MAX_JOIN_DEVICE_CNT)
   \   00009A   EA           MOV     A,R2
   \   00009B   C3           CLR     C
   \   00009C   940A         SUBB    A,#0xa
   \   00009E   5056         JNC     ??GenericApp_Get_PermitJoin_6
   1697          	{
   1698          		new_join_device = (ZDO_Permit_Join_Device_t *) osal_mem_alloc(sizeof(ZDO_Permit_Join_Device_t));
   \                     ??GenericApp_Get_PermitJoin_4:
   \   0000A0                ; Setup parameters for call to function osal_mem_alloc
   \   0000A0   7A0A         MOV     R2,#0xa
   \   0000A2   7B00         MOV     R3,#0x0
   \   0000A4   12....       LCALL   `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   \   0000A7   8A..         MOV     ?V0,R2
   \   0000A9   8B..         MOV     ?V1,R3
   1699          		osal_memcpy(new_join_device->permit_device.extaddr, extaddr, SADDR_EXT_LEN);
   \   0000AB                ; Setup parameters for call to function osal_memcpy
   \   0000AB   A8..         MOV     R0,?XSP + 0
   \   0000AD   A9..         MOV     R1,?XSP + 1
   \   0000AF   88..         MOV     ?V4,R0
   \   0000B1   89..         MOV     ?V5,R1
   \   0000B3   75..00       MOV     ?V6,#0x0
   \   0000B6   78..         MOV     R0,#?V4
   \   0000B8   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0000BB   7C08         MOV     R4,#0x8
   \   0000BD   7D00         MOV     R5,#0x0
   \   0000BF   12....       LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   0000C2   7403         MOV     A,#0x3
   \   0000C4   12....       LCALL   ?DEALLOC_XSTACK8
   1700          		new_join_device->next = NULL;
   \   0000C7   85..82       MOV     DPL,?V0
   \   0000CA   85..83       MOV     DPH,?V1
   \   0000CD   A3           INC     DPTR
   \   0000CE   A3           INC     DPTR
   \   0000CF   A3           INC     DPTR
   \   0000D0   A3           INC     DPTR
   \   0000D1   A3           INC     DPTR
   \   0000D2   A3           INC     DPTR
   \   0000D3   A3           INC     DPTR
   \   0000D4   A3           INC     DPTR
   \   0000D5   E4           CLR     A
   \   0000D6   F0           MOVX    @DPTR,A
   \   0000D7   A3           INC     DPTR
   \   0000D8   F0           MOVX    @DPTR,A
   1701          		if (tmp_join_device)
   \   0000D9   EE           MOV     A,R6
   \   0000DA   4F           ORL     A,R7
   \   0000DB   600E         JZ      ??GenericApp_Get_PermitJoin_7
   1702          		{
   1703          			tmp_join_device->next = new_join_device;
   \   0000DD   8E82         MOV     DPL,R6
   \   0000DF   8F83         MOV     DPH,R7
   \   0000E1   A3           INC     DPTR
   \   0000E2   A3           INC     DPTR
   \   0000E3   A3           INC     DPTR
   \   0000E4   A3           INC     DPTR
   \   0000E5   A3           INC     DPTR
   \   0000E6   A3           INC     DPTR
   \   0000E7   A3           INC     DPTR
   \   0000E8   A3           INC     DPTR
   \   0000E9   8003         SJMP    ??GenericApp_Get_PermitJoin_8
   1704          		}
   1705          		else
   1706          		{
   1707          			zdo_join_device = new_join_device;
   \                     ??GenericApp_Get_PermitJoin_7:
   \   0000EB   90....       MOV     DPTR,#zdo_join_device
   \                     ??GenericApp_Get_PermitJoin_8:
   \   0000EE   E5..         MOV     A,?V0
   \   0000F0   F0           MOVX    @DPTR,A
   \   0000F1   A3           INC     DPTR
   \   0000F2   E5..         MOV     A,?V1
   \   0000F4   8041         SJMP    ??GenericApp_Get_PermitJoin_9
   1708          		}
   1709          		device_cnt++;
   1710          	}
   1711          	else
   1712          	{
   1713          		tmp_join_device = zdo_join_device;
   \                     ??GenericApp_Get_PermitJoin_6:
   \   0000F6   90....       MOV     DPTR,#zdo_join_device
   \   0000F9   12....       LCALL   ??Subroutine59_0 & 0xFFFF
   1714          		for (uint8 i = 0; i < device_index; i++)
   \                     ??CrossCallReturnLabel_123:
   \   0000FC   7800         MOV     R0,#0x0
   \   0000FE   8004         SJMP    ??GenericApp_Get_PermitJoin_10
   1715          		{
   1716          			tmp_join_device = tmp_join_device->next;
   \                     ??GenericApp_Get_PermitJoin_11:
   \   000100   12....       LCALL   ?Subroutine17 & 0xFFFF
   1717          		}
   \                     ??CrossCallReturnLabel_126:
   \   000103   08           INC     R0
   \                     ??GenericApp_Get_PermitJoin_10:
   \   000104   90....       MOV     DPTR,#??device_index
   \   000107   E0           MOVX    A,@DPTR
   \   000108   F9           MOV     R1,A
   \   000109   E8           MOV     A,R0
   \   00010A   C3           CLR     C
   \   00010B   99           SUBB    A,R1
   \   00010C   40F2         JC      ??GenericApp_Get_PermitJoin_11
   1718          		osal_memcpy(tmp_join_device->permit_device.extaddr, extaddr, SADDR_EXT_LEN);
   \   00010E                ; Setup parameters for call to function osal_memcpy
   \   00010E   A8..         MOV     R0,?XSP + 0
   \   000110   A9..         MOV     R1,?XSP + 1
   \   000112   88..         MOV     ?V0,R0
   \   000114   89..         MOV     ?V1,R1
   \   000116   78..         MOV     R0,#?V0
   \   000118   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00011B   7C08         MOV     R4,#0x8
   \   00011D   7D00         MOV     R5,#0x0
   \   00011F   EE           MOV     A,R6
   \   000120   FA           MOV     R2,A
   \   000121   EF           MOV     A,R7
   \   000122   FB           MOV     R3,A
   \   000123   12....       LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   000126   7403         MOV     A,#0x3
   \   000128   12....       LCALL   ?DEALLOC_XSTACK8
   1719          		if (++device_index >= MAX_JOIN_DEVICE_CNT)
   \   00012B   90....       MOV     DPTR,#??device_index
   \   00012E   E0           MOVX    A,@DPTR
   \   00012F   04           INC     A
   \   000130   F0           MOVX    @DPTR,A
   \   000131   C3           CLR     C
   \   000132   940A         SUBB    A,#0xa
   \   000134   4002         JC      ??GenericApp_Get_PermitJoin_3
   1720          		{
   1721          			device_index = 0;
   \   000136   E4           CLR     A
   \                     ??GenericApp_Get_PermitJoin_9:
   \   000137   F0           MOVX    @DPTR,A
   1722          		}
   1723          	}
   1724          	
   1725          }
   \                     ??GenericApp_Get_PermitJoin_3:
   \   000138   7408         MOV     A,#0x8
   \   00013A   02....       LJMP    ?Subroutine2 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine17:
   \   000000   8E82         MOV     DPL,R6
   \   000002   8F83         MOV     DPH,R7
   \   000004                REQUIRE ??Subroutine58_0
   \   000004                ; // Fall through to label ??Subroutine58_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine58_0:
   \   000000   A3           INC     DPTR
   \   000001   A3           INC     DPTR
   \   000002   A3           INC     DPTR
   \   000003   A3           INC     DPTR
   \   000004   A3           INC     DPTR
   \   000005   A3           INC     DPTR
   \   000006   A3           INC     DPTR
   \   000007   A3           INC     DPTR
   \   000008                REQUIRE ??Subroutine59_0
   \   000008                ; // Fall through to label ??Subroutine59_0

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \                     ??device_index:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
   1726          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1727          bool GenericApp_Device_JoinReq(void)
   \                     GenericApp_Device_JoinReq:
   1728          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V8
   \   000000                REQUIRE ?V9
   \   000000   74EE         MOV     A,#-0x12
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 18
   \   000005                ; Auto size: 200
   \   000005   7438         MOV     A,#0x38
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   1729          	transferpkt_t *protocol_pack;
   1730          	uint16 clusterid;
   1731          	uint8 buf[200];
   1732          	bool ret = FALSE;
   \   00000A   75..00       MOV     ?V0,#0x0
   1733          
   1734          	protocol_pack = (transferpkt_t *)osal_msg_allocate( sizeof( transferpkt_t ) + SADDR_EXT_LEN + 1);
   \   00000D                ; Setup parameters for call to function osal_msg_allocate
   \   00000D   7A15         MOV     R2,#0x15
   \   00000F   7B00         MOV     R3,#0x0
   \   000011   12....       LCALL   `??osal_msg_allocate::?relay`; Banked call to: osal_msg_allocate
   \   000014   8A..         MOV     ?V2,R2
   \   000016   8B..         MOV     ?V3,R3
   \   000018   AE..         MOV     R6,?V2
   \   00001A   AF..         MOV     R7,?V3
   1735          	if ( protocol_pack == NULL )
   \   00001C   EE           MOV     A,R6
   \   00001D   4F           ORL     A,R7
   \   00001E   7005         JNZ     ??GenericApp_Device_JoinReq_0
   1736          	{
   1737          		return ZFailure;
   \   000020   7901         MOV     R1,#0x1
   \   000022   02....       LJMP    ??GenericApp_Device_JoinReq_1 & 0xFFFF
   1738          	}
   1739          
   1740          	protocol_pack->msgid = PROT_JOIN_REQ_MSG;
   \                     ??GenericApp_Device_JoinReq_0:
   \   000025   8E82         MOV     DPL,R6
   \   000027   8F83         MOV     DPH,R7
   \   000029   744A         MOV     A,#0x4a
   \   00002B   F0           MOVX    @DPTR,A
   \   00002C   A3           INC     DPTR
   \   00002D   7430         MOV     A,#0x30
   \   00002F   12....       LCALL   ?Subroutine5 & 0xFFFF
   1741          	protocol_pack->msgseq = 0x0001;
   1742          	protocol_pack->destid = 0x0000;
   \                     ??CrossCallReturnLabel_1:
   \   000032   F0           MOVX    @DPTR,A
   \   000033   A3           INC     DPTR
   \   000034   F0           MOVX    @DPTR,A
   1743          	protocol_pack->srcid = NLME_GetShortAddr();
   \   000035                ; Setup parameters for call to function NLME_GetShortAddr
   \   000035   12....       LCALL   `??NLME_GetShortAddr::?relay`; Banked call to: NLME_GetShortAddr
   \   000038   12....       LCALL   ?Subroutine10 & 0xFFFF
   1744          	protocol_pack->datalen = SADDR_EXT_LEN;
   \                     ??CrossCallReturnLabel_110:
   \   00003B   12....       LCALL   ?Subroutine35 & 0xFFFF
   \                     ??CrossCallReturnLabel_56:
   \   00003E   85..82       MOV     DPL,?V2
   \   000041   F583         MOV     DPH,A
   \   000043   7408         MOV     A,#0x8
   \   000045   F0           MOVX    @DPTR,A
   1745          
   1746          	protocol_pack->data = (uint8 *)(protocol_pack + 1);
   \   000046   12....       LCALL   ?Subroutine25 & 0xFFFF
   \                     ??CrossCallReturnLabel_35:
   \   000049   F5..         MOV     ?V8,A
   \   00004B   E4           CLR     A
   \   00004C   3F           ADDC    A,R7
   \   00004D   F5..         MOV     ?V9,A
   \   00004F   85..82       MOV     DPL,?V8
   \   000052   F583         MOV     DPH,A
   \   000054   12....       LCALL   ??Subroutine55_0 & 0xFFFF
   1747          	osal_memcpy(protocol_pack->data, join_device_extaddr, SADDR_EXT_LEN);
   \                     ??CrossCallReturnLabel_108:
   \   000057                ; Setup parameters for call to function osal_memcpy
   \   000057   75....       MOV     ?V4,#join_device_extaddr & 0xff
   \   00005A   75....       MOV     ?V5,#(join_device_extaddr >> 8) & 0xff
   \   00005D   75..00       MOV     ?V6,#0x0
   \   000060   78..         MOV     R0,#?V4
   \   000062   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000065   7C08         MOV     R4,#0x8
   \   000067   7D00         MOV     R5,#0x0
   \   000069   12....       LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   00006C   7403         MOV     A,#0x3
   \   00006E   12....       LCALL   ?DEALLOC_XSTACK8
   1748          	//+msg id 2B+msg_seq2B+len byte+ dest_id 2B+src_id 2B
   1749          	osal_memcpy( buf, (uint8 *)protocol_pack, PKT_HEAD_LEN );
   \   000071                ; Setup parameters for call to function osal_memcpy
   \   000071   8E..         MOV     ?V4,R6
   \   000073   8F..         MOV     ?V5,R7
   \   000075   78..         MOV     R0,#?V4
   \   000077   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00007A   7C09         MOV     R4,#0x9
   \   00007C   7D00         MOV     R5,#0x0
   \   00007E   7403         MOV     A,#0x3
   \   000080   12....       LCALL   ?XSTACK_DISP101_8
   \   000083   12....       LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   000086   7403         MOV     A,#0x3
   \   000088   12....       LCALL   ?DEALLOC_XSTACK8
   1750          	osal_memcpy(&buf[PKT_HEAD_LEN], protocol_pack->data, SADDR_EXT_LEN);
   \   00008B                ; Setup parameters for call to function osal_memcpy
   \   00008B   85..82       MOV     DPL,?V8
   \   00008E   85..83       MOV     DPH,?V9
   \   000091   12....       LCALL   ?Subroutine22 & 0xFFFF
   \                     ??CrossCallReturnLabel_26:
   \   000094   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000097   7C08         MOV     R4,#0x8
   \   000099   7D00         MOV     R5,#0x0
   \   00009B   740C         MOV     A,#0xc
   \   00009D   12....       LCALL   ?XSTACK_DISP0_8
   \   0000A0   AA82         MOV     R2,DPL
   \   0000A2   AB83         MOV     R3,DPH
   \   0000A4   12....       LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   0000A7   7403         MOV     A,#0x3
   \   0000A9   12....       LCALL   ?DEALLOC_XSTACK8
   1751          	protocol_pack->fcs = MT_UartCalcFCS( buf, PKT_HEAD_LEN + protocol_pack->datalen );
   \   0000AC                ; Setup parameters for call to function MT_UartCalcFCS
   \   0000AC   85..82       MOV     DPL,?V2
   \   0000AF   85..83       MOV     DPH,?V3
   \   0000B2   E0           MOVX    A,@DPTR
   \   0000B3   2409         ADD     A,#0x9
   \   0000B5   F9           MOV     R1,A
   \   0000B6   AA..         MOV     R2,?XSP + 0
   \   0000B8   AB..         MOV     R3,?XSP + 1
   \   0000BA   12....       LCALL   `??MT_UartCalcFCS::?relay`; Banked call to: MT_UartCalcFCS
   \   0000BD   12....       LCALL   ?Subroutine6 & 0xFFFF
   1752          	buf[PKT_HEAD_LEN + protocol_pack->datalen] = protocol_pack->fcs;
   \                     ??CrossCallReturnLabel_128:
   \   0000C0   85..82       MOV     DPL,?XSP + 0
   \   0000C3   85..83       MOV     DPH,?XSP + 1
   \   0000C6   12....       LCALL   ?Subroutine29 & 0xFFFF
   \                     ??CrossCallReturnLabel_43:
   \   0000C9   A3           INC     DPTR
   \   0000CA   E9           MOV     A,R1
   \   0000CB   F0           MOVX    @DPTR,A
   1753          
   1754          	clusterid = GENERICAPP_P2P_PERMIT_JOIN_REQ_CLUSTERID;
   1755          	SerialApp_TxAddr_p2p.addr.shortAddr = 0x0000;
   \   0000CC   90....       MOV     DPTR,#SerialApp_TxAddr_p2p
   \   0000CF   E4           CLR     A
   \   0000D0   F0           MOVX    @DPTR,A
   \   0000D1   A3           INC     DPTR
   \   0000D2   F0           MOVX    @DPTR,A
   1756          
   1757          	if ( AF_DataRequest( &SerialApp_TxAddr_p2p, &GenericApp_epDesc,
   1758          						clusterid,
   1759          						PKT_HEAD_LEN + SADDR_EXT_LEN + 1,
   1760          						buf, //(uint8 *)protocol_pack,
   1761          						&GenericApp_TransID,
   1762          						AF_DISCV_ROUTE, AF_DEFAULT_RADIUS ) == afStatus_SUCCESS )
   \   0000D3                ; Setup parameters for call to function AF_DataRequest
   \   0000D3   75..1E       MOV     ?V1,#0x1e
   \   0000D6   78..         MOV     R0,#?V1
   \   0000D8   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0000DB   75....       MOV     ?V2,#GenericApp_TransID & 0xff
   \   0000DE   75....       MOV     ?V3,#(GenericApp_TransID >> 8) & 0xff
   \   0000E1   78..         MOV     R0,#?V2
   \   0000E3   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000E6   7403         MOV     A,#0x3
   \   0000E8   12....       LCALL   ?XSTACK_DISP100_8
   \   0000EB   88..         MOV     ?V2,R0
   \   0000ED   89..         MOV     ?V3,R1
   \   0000EF   78..         MOV     R0,#?V2
   \   0000F1   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000F4   75..12       MOV     ?V2,#0x12
   \   0000F7   75..00       MOV     ?V3,#0x0
   \   0000FA   78..         MOV     R0,#?V2
   \   0000FC   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000FF   75..06       MOV     ?V2,#0x6
   \   000102   78..         MOV     R0,#?V2
   \   000104   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000107   7900         MOV     R1,#0x0
   \   000109   7C..         MOV     R4,#GenericApp_epDesc & 0xff
   \   00010B   7D..         MOV     R5,#(GenericApp_epDesc >> 8) & 0xff
   \   00010D   7A..         MOV     R2,#SerialApp_TxAddr_p2p & 0xff
   \   00010F   7B..         MOV     R3,#(SerialApp_TxAddr_p2p >> 8) & 0xff
   \   000111   12....       LCALL   `??AF_DataRequest::?relay`; Banked call to: AF_DataRequest
   \   000114   7409         MOV     A,#0x9
   \   000116   12....       LCALL   ?DEALLOC_XSTACK8
   \   000119   E9           MOV     A,R1
   \   00011A   7003         JNZ     ??GenericApp_Device_JoinReq_2
   1763          	{
   1764          		ret = TRUE;
   \   00011C   75..01       MOV     ?V0,#0x1
   1765          	}
   1766          	else
   1767          	{
   1768          		ret = FALSE;
   1769          	}
   1770          	osal_msg_deallocate( (uint8 *)protocol_pack );
   \                     ??GenericApp_Device_JoinReq_2:
   \   00011F                ; Setup parameters for call to function osal_msg_deallocate
   \   00011F   EE           MOV     A,R6
   \   000120   FA           MOV     R2,A
   \   000121   EF           MOV     A,R7
   \   000122   FB           MOV     R3,A
   \   000123   12....       LCALL   `??osal_msg_deallocate::?relay`; Banked call to: osal_msg_deallocate
   1771          	return ret;
   \   000126   A9..         MOV     R1,?V0
   \                     ??GenericApp_Device_JoinReq_1:
   \   000128   74C8         MOV     A,#-0x38
   \   00012A   12....       LCALL   ?DEALLOC_XSTACK8
   \   00012D   7F0A         MOV     R7,#0xa
   \   00012F   02....       LJMP    ?BANKED_LEAVE_XDATA
   1772          }
   1773          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1774          void GenericApp_Free_Join_DeviceInfo(ZDO_Permit_Join_Device_t *permit_join_device)  
   \                     GenericApp_Free_Join_DeviceInfo:
   1775          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   1776          	ZDO_Permit_Join_Device_t *head_join_device;
   1777          	ZDO_Permit_Join_Device_t *tmp_join_device = permit_join_device;
   \   000005   800E         SJMP    ??GenericApp_Free_Join_DeviceInfo_0
   1778          	while (tmp_join_device)
   1779          	{
   1780          		head_join_device = tmp_join_device->next;
   \                     ??GenericApp_Free_Join_DeviceInfo_1:
   \   000007   8A82         MOV     DPL,R2
   \   000009   8B83         MOV     DPH,R3
   \   00000B   12....       LCALL   ??Subroutine58_0 & 0xFFFF
   1781          		osal_mem_free(tmp_join_device);   //chaokw open issue
   \                     ??CrossCallReturnLabel_124:
   \   00000E                ; Setup parameters for call to function osal_mem_free
   \   00000E   12....       LCALL   `??osal_mem_free::?relay`; Banked call to: osal_mem_free
   1782          		tmp_join_device = head_join_device;
   \   000011   EE           MOV     A,R6
   \   000012   FA           MOV     R2,A
   \   000013   EF           MOV     A,R7
   \   000014   FB           MOV     R3,A
   1783          	}
   \                     ??GenericApp_Free_Join_DeviceInfo_0:
   \   000015   EA           MOV     A,R2
   \   000016   4B           ORL     A,R3
   \   000017   70EE         JNZ     ??GenericApp_Free_Join_DeviceInfo_1
   1784          }
   \   000019   02....       LJMP    ?Subroutine0 & 0xFFFF

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for txMsgDelay>`:
   \   000000   88130000     DD 5000

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for fw_version>`:
   \   000000   ....         DW `?<Constant "v01.00.008">`

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??GenericApp_Init::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    GenericApp_Init

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??GenericApp_ProcessEvent::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    GenericApp_ProcessEvent

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??GenericApp_ProcessZDOMsgs::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    GenericApp_ProcessZDOMsgs

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??GenericApp_HandleKeys::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    GenericApp_HandleKeys

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??GenericApp_MessageMSGCB::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    GenericApp_MessageMSGCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??CustomApp_NodeRegister::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    CustomApp_NodeRegister

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??CustomApp_NodeDelete::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    CustomApp_NodeDelete

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??CustomApp_NodeFindNwkAddrList::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    CustomApp_NodeFindNwkAddrList

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??CustomApp_NodeFindMacAddrList::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    CustomApp_NodeFindMacAddrList

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??CustomApp_ping_request_init::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    CustomApp_ping_request_init

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??CustomApp_linkstatus_init::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    CustomApp_linkstatus_init

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??CustomApp_ping_timeout_check_init::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    CustomApp_ping_timeout_check_init

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??CustomApp_coordinater_broadcast_ping_init::?r`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    CustomApp_coordinater_broadcast_ping_init

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??CustomApp_zigbee_start_ind::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    CustomApp_zigbee_start_ind

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??CustomApp_loadstatus_ind::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    CustomApp_loadstatus_ind

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??CustomApp_node_register_ind::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    CustomApp_node_register_ind

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??CustomApp_node_deregister_ind::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    CustomApp_node_deregister_ind

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??CustomApp_send_ping_req::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    CustomApp_send_ping_req

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??CustomApp_send_ping_rsp::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    CustomApp_send_ping_rsp

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??CustomApp_coordinater_broadcast_ping::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    CustomApp_coordinater_broadcast_ping

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??CustomApp_linkstatus_updated::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    CustomApp_linkstatus_updated

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??CustomApp_process_ping::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    CustomApp_process_ping

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??CustomApp_get_connected_node_count::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    CustomApp_get_connected_node_count

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??GenericApp_Device_JoinRsp::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    GenericApp_Device_JoinRsp

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??GenericApp_Get_PermitJoin::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    GenericApp_Get_PermitJoin

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??GenericApp_Device_JoinReq::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    GenericApp_Device_JoinReq

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??GenericApp_Free_Join_DeviceInfo::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    GenericApp_Free_Join_DeviceInfo

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "v01.00.008">`:
   \   000000   7630312E     DB "v01.00.008"
   \            30302E30
   \            303800  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "GenericApp">`:
   \   000000   47656E65     DB "GenericApp"
   \            72696341
   \            707000  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "panid:">`:
   \   000000   70616E69     DB "panid:"
   \            643A00  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "devState:">`:
   \   000000   64657653     DB "devState:"
   \            74617465
   \            3A00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "nodregOK:">`:
   \   000000   6E6F6472     DB "nodregOK:"
   \            65674F4B
   \            3A00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Rcvd:">`:
   \   000000   52637664     DB "Rcvd:"
   \            3A00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "cmd Rcvd:">`:
   \   000000   636D6420     DB "cmd Rcvd:"
   \            52637664
   \            3A00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "ask WL:">`:
   \   000000   61736B20     DB "ask WL:"
   \            574C3A00

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Hello World">`:
   \   000000   48656C6C     DB "Hello World"
   \            6F20576F
   \            726C6400

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "pingreqSend">`:
   \   000000   70696E67     DB "pingreqSend"
   \            72657153
   \            656E6400

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "pingrspSend">`:
   \   000000   70696E67     DB "pingrspSend"
   \            72737053
   \            656E6400

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "broadcast ping">`:
   \   000000   62726F61     DB "broadcast ping"
   \            64636173
   \            74207069
   \            6E6700  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "nodedelete OK:">`:
   \   000000   6E6F6465     DB "nodedelete OK:"
   \            64656C65
   \            7465204F
   \            4B3A00  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "nodedelete NOK:">`:
   \   000000   6E6F6465     DB "nodedelete NOK:"
   \            64656C65
   \            7465204E
   \            4F4B3A00

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "connected:">`:
   \   000000   636F6E6E     DB "connected:"
   \            65637465
   \            643A00  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant {0, 0, 0, 0, 0, 0, 0, 0}>`:
   \   000000   00           DB 0
   \   000001   00           DB 0
   \   000002   00           DB 0
   \   000003   00           DB 0
   \   000004   00           DB 0
   \   000005   00           DB 0
   \   000006   00           DB 0
   \   000007   00           DB 0

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_320:
   \   000000   20030000     DD 800

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_1388:
   \   000000   88130000     DD 5000

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_3a98:
   \   000000   983A0000     DD 15000

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_65:
   \   000000   65000000     DD 101

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_2710:
   \   000000   10270000     DD 10000

   Maximum stack usage in bytes:

   ISTACK XSTACK Function
   ------ ------ --------
      0     21   CustomApp_NodeDelete
        0      9   -> osal_mem_free
      0     20   CustomApp_NodeFindMacAddrList
        0     10   -> sAddrExtCmp
      2     13   CustomApp_NodeFindNwkAddrList
      0     73   CustomApp_NodeRegister
        0     10   -> CustomApp_NodeFindMacAddrList
        0     10   -> osal_mem_alloc
      0     45   CustomApp_coordinater_broadcast_ping
        0     21   -> AF_DataRequest
        0     13   -> HalLcdWriteStringValue
      2     28   CustomApp_coordinater_broadcast_ping_init
        2      4   -> osal_start_timerEx
      2     12   CustomApp_get_connected_node_count
      2     13   CustomApp_linkstatus_init
        2      4   -> osal_start_timerEx
      0     60   CustomApp_linkstatus_updated
        0     12   -> Authlist_item_cnt
        0     12   -> CustomApp_NodeDelete
        0     12   -> CustomApp_get_connected_node_count
        0     36   -> CustomApp_node_deregister_ind
        0     13   -> HalLcdWriteStringValue
        0     12   -> Onboard_soft_reset
      1     54   CustomApp_loadstatus_ind
        0     27   -> HalUARTWrite
        0     27   -> MT_UartCalcFCS
        0     27   -> NLME_GetExtAddr
        0     30   -> osal_memcpy
      1     63   CustomApp_node_deregister_ind
        0     24   -> HalUARTWrite
        0     24   -> MT_UartCalcFCS
        0     27   -> osal_memcpy
      1    108   CustomApp_node_register_ind
        0     42   -> HalUARTWrite
        0     42   -> MT_UartCalcFCS
        0     45   -> osal_memcpy
        0     42   -> osal_msg_allocate
        0     42   -> osal_msg_deallocate
      2     28   CustomApp_ping_request_init
        2      4   -> osal_start_timerEx
      2     28   CustomApp_ping_timeout_check_init
        2      4   -> osal_start_timerEx
      0     47   CustomApp_process_ping
        0     13   -> CustomApp_NodeFindNwkAddrList
        0     37   -> CustomApp_NodeRegister
        0     37   -> CustomApp_node_register_ind
        0     25   -> CustomApp_router_online_req
        0     13   -> CustomApp_send_ping_rsp
        0     14   -> HalLcdWriteStringValue
      1     49   CustomApp_send_ping_req
        0     25   -> AF_DataRequest
        0     17   -> HalLcdWriteStringValue
        0     16   -> NLME_GetExtAddr
        0     16   -> NLME_GetShortAddr
        0     16   -> osal_getClock
        0     19   -> osal_memcpy
        0     16   -> osal_memset
        0     16   -> osal_msg_allocate
        0     16   -> osal_msg_deallocate
      0     34   CustomApp_send_ping_rsp
        0     21   -> AF_DataRequest
        0     13   -> HalLcdWriteStringValue
      1     37   CustomApp_zigbee_start_ind
        0     25   -> HalUARTWrite
        0     25   -> MT_UartCalcFCS
        0     25   -> NLME_GetExtAddr
        0     28   -> osal_memcpy
      1    227   GenericApp_Device_JoinReq
        0    227   -> AF_DataRequest
        0    218   -> MT_UartCalcFCS
        0    218   -> NLME_GetShortAddr
        0    221   -> osal_memcpy
        0    218   -> osal_msg_allocate
        0    218   -> osal_msg_deallocate
      1    146   GenericApp_Device_JoinRsp
        0    136   -> AF_DataRequest
        0    128   -> Authlist_verify_device
        0    127   -> MT_UartCalcFCS
        0    127   -> NLME_GetShortAddr
        0    130   -> osal_memcpy
        0    127   -> osal_memset
        0    127   -> osal_msg_allocate
        0    127   -> osal_msg_deallocate
      0     33   GenericApp_Free_Join_DeviceInfo
        0      9   -> osal_mem_free
      0     36   GenericApp_Get_PermitJoin
        0     23   -> osal_mem_alloc
        0     26   -> osal_memcmp
        0     26   -> osal_memcpy
      0     54   GenericApp_HandleKeys
        0     21   -> HalLedSet
        0     21   -> NLME_GetShortAddr
        0     30   -> ZDP_EndDeviceBindReq
        0     29   -> ZDP_MatchDescReq
      0     13   GenericApp_Init
        0      9   -> CustomApp_linkstatus_init
        0      9   -> CustomApp_loadstatus_ind
        0      9   -> CustomApp_zigbee_start_ind
        0      9   -> HalLcdWriteString
        0      9   -> Node_auth_init
        0      9   -> RegisterForKeys
        0      9   -> ZDO_RegisterForZDOMsg
        0      9   -> afRegister
        0     13   -> osal_start_timerEx
      0     35   GenericApp_MessageMSGCB
        0     10   -> CustomApp_AF_Broadcast_Data_Process
        0     10   -> CustomApp_AF_Group_Data_Process
        0     10   -> CustomApp_AF_P2P_Data_Process
        0     10   -> CustomApp_Coordinator_Online
        0     10   -> CustomApp_NodeFindNwkAddrList
        0     10   -> CustomApp_process_ping
        0     10   -> GenericApp_Device_JoinRsp
        0     10   -> GenericApp_Get_PermitJoin
        0     10   -> HalLcdWriteString
        0     11   -> HalLcdWriteStringValue
        0     10   -> HalLedSet
      0     33   GenericApp_ProcessEvent
        0     33   -> AF_DataRequest
        0     24   -> CustomApp_FW_Update
        0     24   -> CustomApp_Get_Active_Cnt
        0     24   -> CustomApp_Get_ExtAddr
        0     24   -> CustomApp_Get_NWKInfo
        0     24   -> CustomApp_Get_Version
        0     24   -> CustomApp_Send_BroadCast_Data
        0     24   -> CustomApp_Send_Group_Data
        0     24   -> CustomApp_Send_P2P_Data
        0     24   -> CustomApp_Set_Multiway
        0     24   -> CustomApp_coordinater_broadcast_ping
        0     24   -> CustomApp_coordinater_broadcast_ping_init
        0     24   -> CustomApp_coordinator_online_req
        0     24   -> CustomApp_linkstatus_updated
        0     24   -> CustomApp_loadstatus_ind
        0     24   -> CustomApp_ping_request_init
        0     24   -> CustomApp_ping_timeout_check_init
        0     24   -> CustomApp_send_ping_req
        0     24   -> GenericApp_Free_Join_DeviceInfo
        0     24   -> GenericApp_HandleKeys
        0     24   -> GenericApp_MessageMSGCB
        0     24   -> GenericApp_ProcessZDOMsgs
        0     25   -> HalLcdWriteStringValue
        0     24   -> NLME_InitNV
        0     24   -> NLME_SetDefaultNV
        0     24   -> Onboard_soft_reset
        0     24   -> ZDSecMgrClearNVKeyValues
        0     24   -> osal_msg_deallocate
        0     24   -> osal_msg_receive
        0     28   -> osal_start_timerEx
        0     24   -> osal_stop_timerEx
        0     24   -> osal_strlen
      0     87   GenericApp_ProcessZDOMsgs
        0     63   -> CustomApp_NodeRegister
        0     63   -> CustomApp_node_register_ind
        0     40   -> HalLcdWriteStringValue
        0     39   -> HalLedSet
        0     39   -> ZDO_ParseDeviceAnnce
        0     39   -> ZDO_ParseEPListRsp
        0     39   -> osal_mem_alloc
        0     39   -> osal_mem_free
        0     42   -> osal_memcpy


   Segment part sizes:

   Bytes  Function/Label
   -----  --------------
      11  ?<Constant "GenericApp">
      12  ?<Constant "Hello World">
       6  ?<Constant "Rcvd:">
       8  ?<Constant "ask WL:">
      15  ?<Constant "broadcast ping">
      10  ?<Constant "cmd Rcvd:">
      11  ?<Constant "connected:">
      10  ?<Constant "devState:">
      16  ?<Constant "nodedelete NOK:">
      15  ?<Constant "nodedelete OK:">
      10  ?<Constant "nodregOK:">
       7  ?<Constant "panid:">
      12  ?<Constant "pingreqSend">
      12  ?<Constant "pingrspSend">
      11  ?<Constant "v01.00.008">
       8  ?<Constant {0, 0, 0, 0, 0, 0, 0, 0}>
       2  ?<Initializer for fw_version>
       4  ?<Initializer for txMsgDelay>
       6  ??Subroutine45_0
       6  ??Subroutine46_0
       8  ??Subroutine47_0
       4  ??Subroutine48_0
       2  ??Subroutine49_0
       6  ??Subroutine50_0
       5  ??Subroutine51_0
      13  ??Subroutine52_0
       7  ??Subroutine53_0
       5  ??Subroutine54_0
       6  ??Subroutine55_0
       6  ??Subroutine56_0
       8  ??Subroutine57_0
       8  ??Subroutine58_0
       6  ??Subroutine59_0
      10  ??Subroutine60_0
       5  ?Subroutine0
       3  ?Subroutine1
      10  ?Subroutine10
       7  ?Subroutine11
       2  ?Subroutine12
      16  ?Subroutine13
       6  ?Subroutine14
       3  ?Subroutine15
       6  ?Subroutine16
       4  ?Subroutine17
      12  ?Subroutine18
      10  ?Subroutine19
       8  ?Subroutine2
       5  ?Subroutine20
      10  ?Subroutine21
      10  ?Subroutine22
       9  ?Subroutine23
       6  ?Subroutine24
      11  ?Subroutine25
       3  ?Subroutine26
       6  ?Subroutine27
      10  ?Subroutine28
      19  ?Subroutine29
       5  ?Subroutine3
       8  ?Subroutine30
      10  ?Subroutine31
      10  ?Subroutine32
       8  ?Subroutine33
       7  ?Subroutine34
      10  ?Subroutine35
      10  ?Subroutine36
       7  ?Subroutine37
      10  ?Subroutine38
       6  ?Subroutine39
       2  ?Subroutine4
       6  ?Subroutine40
       8  ?Subroutine41
       1  ?Subroutine42
       7  ?Subroutine43
       6  ?Subroutine44
       7  ?Subroutine5
      12  ?Subroutine6
       9  ?Subroutine7
       9  ?Subroutine8
      13  ?Subroutine9
     104  CustomApp_NodeDelete
       6  CustomApp_NodeDelete::?relay
      51  CustomApp_NodeFindMacAddrList
       6  CustomApp_NodeFindMacAddrList::?relay
      35  CustomApp_NodeFindNwkAddrList
       6  CustomApp_NodeFindNwkAddrList::?relay
     126  CustomApp_NodeRegister
       6  CustomApp_NodeRegister::?relay
     133  CustomApp_coordinater_broadcast_ping
       6  CustomApp_coordinater_broadcast_ping::?relay
      16  CustomApp_coordinater_broadcast_ping_init
       6  CustomApp_coordinater_broadcast_ping_init::?relay
      34  CustomApp_get_connected_node_count
       6  CustomApp_get_connected_node_count::?relay
      14  CustomApp_linkstatus_init
       6  CustomApp_linkstatus_init::?relay
     231  CustomApp_linkstatus_updated
       6  CustomApp_linkstatus_updated::?relay
     131  CustomApp_loadstatus_ind
       6  CustomApp_loadstatus_ind::?relay
     115  CustomApp_node_deregister_ind
       6  CustomApp_node_deregister_ind::?relay
     410  CustomApp_node_register_ind
       6  CustomApp_node_register_ind::?relay
      14  CustomApp_ping_request_init
       6  CustomApp_ping_request_init::?relay
      14  CustomApp_ping_timeout_check_init
       6  CustomApp_ping_timeout_check_init::?relay
     258  CustomApp_process_ping
       6  CustomApp_process_ping::?relay
     309  CustomApp_send_ping_req
       6  CustomApp_send_ping_req::?relay
     131  CustomApp_send_ping_rsp
       6  CustomApp_send_ping_rsp::?relay
     106  CustomApp_zigbee_start_ind
       6  CustomApp_zigbee_start_ind::?relay
      14  GenericApp_ClusterList
     306  GenericApp_Device_JoinReq
       6  GenericApp_Device_JoinReq::?relay
     454  GenericApp_Device_JoinRsp
       6  GenericApp_Device_JoinRsp::?relay
      12  GenericApp_DstAddr
      28  GenericApp_Free_Join_DeviceInfo
       6  GenericApp_Free_Join_DeviceInfo::?relay
     317  GenericApp_Get_PermitJoin
       6  GenericApp_Get_PermitJoin::?relay
     279  GenericApp_HandleKeys
       6  GenericApp_HandleKeys::?relay
     198  GenericApp_Init
       6  GenericApp_Init::?relay
     331  GenericApp_MessageMSGCB
       6  GenericApp_MessageMSGCB::?relay
       1  GenericApp_NwkState
     897  GenericApp_ProcessEvent
       6  GenericApp_ProcessEvent::?relay
     329  GenericApp_ProcessZDOMsgs
       6  GenericApp_ProcessZDOMsgs::?relay
      12  GenericApp_SimpleDesc
       1  GenericApp_TaskID
       1  GenericApp_TransID
       6  GenericApp_epDesc
      12  SerialApp_TxAddr_broadcast
      12  SerialApp_TxAddr_group
      12  SerialApp_TxAddr_p2p
       1  WDCTL
       4  __Constant_1388
       4  __Constant_2710
       4  __Constant_320
       4  __Constant_3a98
       4  __Constant_65
       2  askWhiteListCount
       1  cnt
       1  device_index
       2  fw_version
       2  nodeList
       1  ping_error_cnt
       1  ping_result
       2  rxMsgCount
       1  transfer_join_times
       4  txMsgDelay
       1  zc_online_report_cnt
       1  zr_online_report_cnt

 
 5 829 bytes in segment BANKED_CODE
   162 bytes in segment BANK_RELAYS
     1 byte  in segment SFR_AN
     6 bytes in segment XDATA_I
     6 bytes in segment XDATA_ID
   220 bytes in segment XDATA_ROM_C
    70 bytes in segment XDATA_Z
 
 5 997 bytes of CODE  memory
   200 bytes of CONST memory (+ 20 bytes shared)
     0 bytes of DATA  memory (+  1 byte  shared)
    76 bytes of XDATA memory

Errors: none
Warnings: none
